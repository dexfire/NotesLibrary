# 磁盘相关概念
## 磁盘控制器
- SATA
- MMC
Multi-Media Card
多媒体卡，MicroSD也是这种协议，但是体积更小。
- EMMC
- IDE
- SCSI
芯片自带一个硬件操作函数库。
ufs使用的就是scsi接口。

## 磁盘管理概念
### 扇区（Sector）
硬件上的扇区是磁盘最小读写单元，软件上可以使用和硬件不同的扇区大小，但是需要软件来实现磁盘读写操作的转化。
通常地，MMC设备的扇区大小通常为512Bytes，其他经典值为1024Bytes和2048Bytes。

### CHS（Cylinders-Heads-Sectors，柱面，磁头，扇区）寻址
早期的机械硬盘中，由于磁盘上的数据是存储在扇形的磁盘上的，因此就涉及到扇形空间的合理分配问题，最早期使用的方式是 **磁道(切向)** + **柱面(法向)**这两个参数来定位一个扇区的位置。
显然，这种寻址方式并不适合程序编写，因为你必须要知道自己所写入的文件位置需要两个和硬件相关的参数。
> 但是由于内外道半径不同，使用这种方式意味着外道实际占用面积比内道要大，浪费磁盘空间。新一代的硬盘仍然使用CHS寻址，但是内外道的扇区数存在差异。

#### 逻辑块地址 LBA（Logic Block Address）
为了解决CHS寻址方式的弊端，后来有了LBA寻址方式，LBA是一种简单抽象的寻址方式，也就是用户只需要一个参数：**区块的逻辑编号**就可以找到目标位置。
但是这里有一个坑，那就是对于磁盘来说，最合适的寻址方式仍然是CHS方式（需要了解一下机械硬盘的工作模式）。为了解决这一问题，我们有两种方案，
- 一种就是使用驱动软件来管理磁盘的CHS寻址，用户编写的程序则只需要使用LBA位置定位文件，LBA参数传递给系统，系统调用驱动程序来管理硬件的底层操作。
- 另外一种即SCSI硬盘采用的硬件处理方案，由于软件模拟存在效率问题，因此SCSI硬盘带有硬件控制器，由专有硬件来处理硬盘的扇区标号问题，用户读写磁盘时直接传递LBA地址，系统将LBA传给驱动程序，驱动程序则简单的将LBA传给硬盘，这种方案是目前的主流方案。

### 分区表
- GUID Partition Table（GPT）
- Master Boot Record（MBR）

### 分区文件系统