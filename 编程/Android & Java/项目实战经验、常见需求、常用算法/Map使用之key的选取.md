---
title: Map使用之key的选取
category: Java基础
tags:
  - Java
  - 算法
  - Map
---

# Map使用之key的选取

Map是一种很方便的工具，我们知道Map使用一个key来唯一索引一个对象，如果你的key出现重复那么可能就会出现莫名的错误，那么我们应该使用什么类型的key呢？

## 出于性能考虑

从性能方面出发的话，那么主要考虑的就是
  - 内存使用
  - cpu消耗
**内存方面**  
那么，为了减少内存消耗，使用byte,char,short这种类型是最划算的，不过考虑到内存对齐问题和可扩展性，我们一般使用int类型。
另一种选择是使用enum类型，这种类型不需要为其分配值，所以显得更加合适，用来做key刚刚好合适。

**cpu占用方面**  
在Map算法中需要多次对key进行比对，如果key使用十分复杂的类型，比如一个很长，前面有一个公共头部的字符串，那么大量的cpu消耗就凭白无故的产生了。
为了减少cpu占用，我们所需要做的和处于节约内存考虑的东西是差不多的，只需要简化我们的key就好了。

## 处于开发效率考虑
开发效率其实也是考虑的一大因素，易用易维护才是coding的王道。
不过使用任何类型貌似都是易维护的，不过其实这些类型都没有什么很高的维护成本，所以都差不多的。

## 结论
1. 用int
2. 用enmu
3. 简单应用场合不使用String等复杂类型作为key