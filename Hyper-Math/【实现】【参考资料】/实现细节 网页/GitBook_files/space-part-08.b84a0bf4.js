webpackJsonp([37],{100:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}return function(t,n,r){n&&e(t.prototype,n);r&&e(t,r);return t}}();var a=n(0);var i=u(a);function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function c(e,t){var n={};for(var r in e){if(t.indexOf(r)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,r))continue;n[r]=e[r]}return n}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){p(t,e);function t(e){l(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.dispatchChange=function(){var e=n.props,t=e.onChange,r=e.value;var o=n.state.value;if(o==r)return;t(o);n.setState(function(e){if(n.props.value==r)return{value:r};return e})};n.onChange=function(e){var t=n.props.onBeforeChange;var r=t(e);n.setState({value:r})};n.onBlur=function(e){var t=n.props.onBlur;n.dispatchChange();t&&t()};n.onKeyDown=function(e){var t=n.props.onKeyDown;t(e);if(e.defaultPrevented)return;27!==e.keyCode&&13!==e.keyCode||n.blur()};n.state={value:e.value};return n}o(t,[{key:"componentWillReceiveProps",value:function e(t){if(this.props.value==t.value)return;this.setState({value:t.value})}},{key:"focus",value:function e(){this.input&&this.input.focus()}},{key:"blur",value:function e(){this.input&&this.input.blur()}},{key:"select",value:function e(){this.input&&this.input.select()}},{key:"render",value:function e(){var t=this;var n=this.state.value;var o=this.props,a=o.component,u=o.refProp,l=o.refCallback,s=c(o,["component","refProp","refCallback"]);delete s.onBeforeChange;s[u]=function(e){t.input=l(e)};return i.createElement(a,r({},s,{value:n,onChange:this.onChange,onBlur:this.onBlur,onKeyDown:this.onKeyDown}))}}]);return t}(i.Component);f.defaultProps={onBeforeChange:function e(t){return"string"==typeof t?t:t.target.value},component:"input",refProp:"ref",refCallback:function e(t){return t},onKeyDown:function e(){},onBlur:function e(){}};t.default=f},184:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PageDocumentMenu=t.NewPageGroupForm=t.NewPageLinkForm=t.PageMenu=void 0;var r=n(2208);var o=p(r);var a=n(470);var i=p(a);var u=n(2212);var c=p(u);var l=n(850);var s=p(l);function p(e){return e&&e.__esModule?e:{default:e}}t.PageMenu=o.default;t.NewPageLinkForm=i.default;t.NewPageGroupForm=c.default;t.PageDocumentMenu=s.default},2208:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o=n(0);var a=v(o);var i=n(2209);var u=f(i);var c=n(2210);var l=f(c);var s=n(850);var p=f(s);function f(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){y(t,e);function t(){d(this,t);return h(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,n=t.version,o=t.page,i=t.readOnly;var c={version:n,page:o,readOnly:i};if(o.isLink)return a.createElement(u.default,c);if(o.isGroup)return a.createElement(l.default,c);return a.createElement(p.default,r({isInTOC:true,isInPopover:true},c))};return t}(a.Component);t.default=g},2211:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};var t=document.activeElement;var n=[];for(var r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}e.removeAllRanges();return function(){"Caret"===e.type&&e.removeAllRanges();e.rangeCount||n.forEach(function(t){e.addRange(t)});t&&t.focus()}}},2212:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=n(0);var i=d(a);var u=n(2);var c=n(1);var l=n(7);var s=n(3);var p=n(849);var f=v(p);function v(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=(o=r=function(e){g(t,e);function t(){var n,r,o;h(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return o=(n=(r=y(this,e.call.apply(e,[this].concat(i))),r),r.state={title:""},r.captureClick=function(e){e.stopPropagation()},r.onChangeTitle=function(e){return r.setState({title:e})},r.onSubmit=function(){var e=r.state.title;var t=r.props.onSubmit;t({title:e})},n),y(r,o)}t.prototype.render=function e(){var n=t.STYLES;var r=this.state.title;return i.createElement("div",{role:"presentation",className:(0,u.css)(n.newPageGroupForm),onClick:this.captureClick},i.createElement(f.default,{value:r,onChange:this.onChangeTitle,onEnter:this.onSubmit}),i.createElement(c.Button,{styles:[n.newPageGroupFormButton],disabled:!s.Page.isValidTitle(r),onClick:this.onSubmit},i.createElement(l.IconPlus,null)))};return t}(i.Component),r.STYLES=u.StyleSheet.create({newPageGroupForm:{display:"flex",padding:c.boxes.PADDING_SMALL},newPageGroupFormButton:{marginLeft:c.boxes.PADDING_SMALL}}),o);t.default=m},2260:function(e,t,n){n(2261);e.exports=n(114).Object.getPrototypeOf},2261:function(e,t,n){var r=n(866);var o=n(867);n(2262)("getPrototypeOf",function(){return function e(t){return o(r(t))}})},2262:function(e,t,n){var r=n(185);var o=n(114);var a=n(231);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e];var i={};i[e]=t(n);r(r.S+r.F*a(function(){n(1)}),"Object",i)}},2263:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},2264:function(e,t,n){e.exports={default:n(2265),__esModule:true}},2265:function(e,t,n){n(2266);var r=n(114).Object;e.exports=function e(t,n,o){return r.defineProperty(t,n,o)}},2266:function(e,t,n){var r=n(185);r(r.S+r.F*!n(149),"Object",{defineProperty:n(148).f})},2268:function(e,t,n){n(2269);n(2278);e.exports=n(486).f("iterator")},2269:function(e,t,n){"use strict";var r=n(2270)(true);n(875)(String,"String",function(e){this._t=String(e);this._i=0},function(){var e=this._t;var t=this._i;var n;if(t>=e.length)return{value:void 0,done:true};n=r(e,t);this._i+=n.length;return{value:n,done:false}})},2270:function(e,t,n){var r=n(480);var o=n(476);e.exports=function(e){return function(t,n){var a=String(o(t));var i=r(n);var u=a.length;var c,l;if(i<0||i>=u)return e?"":void 0;c=a.charCodeAt(i);return c<55296||c>56319||i+1===u||(l=a.charCodeAt(i+1))<56320||l>57343?e?a.charAt(i):c:e?a.slice(i,i+2):l-56320+(c-55296<<10)+65536}}},2271:function(e,t,n){"use strict";var r=n(483);var o=n(319);var a=n(485);var i={};n(186)(i,n(187)("iterator"),function(){return this});e.exports=function(e,t,n){e.prototype=r(i,{next:o(1,n)});a(e,t+" Iterator")}},2272:function(e,t,n){var r=n(148);var o=n(229);var a=n(320);e.exports=n(149)?Object.defineProperties:function e(t,n){o(t);var i=a(n);var u=i.length;var c=0;var l;while(u>c)r.f(t,l=i[c++],n[l]);return t}},2273:function(e,t,n){var r=n(878);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},2275:function(e,t,n){var r=n(480);var o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},2276:function(e,t,n){var r=n(480);var o=Math.max;var a=Math.min;e.exports=function(e,t){e=r(e);return e<0?o(e+t,0):a(e,t)}},2277:function(e,t,n){var r=n(113).document;e.exports=r&&r.documentElement},2278:function(e,t,n){n(2279);var r=n(113);var o=n(186);var a=n(482);var i=n(187)("toStringTag");var u="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(",");for(var c=0;c<u.length;c++){var l=u[c];var s=r[l];var p=s&&s.prototype;p&&!p[i]&&o(p,i,l);a[l]=a.Array}},2279:function(e,t,n){"use strict";var r=n(2280);var o=n(2281);var a=n(482);var i=n(150);e.exports=n(875)(Array,"Array",function(e,t){this._t=i(e);this._i=0;this._k=t},function(){var e=this._t;var t=this._k;var n=this._i++;if(!e||n>=e.length){this._t=void 0;return o(1)}if("keys"==t)return o(0,n);if("values"==t)return o(0,e[n]);return o(0,[n,e[n]])},"values");a.Arguments=a.Array;r("keys");r("values");r("entries")},2280:function(e,t){e.exports=function(){}},2281:function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},2294:function(e,t,n){n(2295);e.exports=n(114).Object.setPrototypeOf},2295:function(e,t,n){var r=n(185);r(r.S,"Object",{setPrototypeOf:n(2296).set})},2296:function(e,t,n){var r=n(230);var o=n(229);var a=function(e,t){o(e);if(!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=n(868)(Function.call,n(881).f(Object.prototype,"__proto__").set,2);r(e,[]);t=!(e instanceof Array)}catch(e){t=true}return function e(n,o){a(n,o);t?n.__proto__=o:r(n,o);return n}}({},false):void 0),check:a}},2298:function(e,t,n){n(2299);var r=n(114).Object;e.exports=function e(t,n){return r.create(t,n)}},2299:function(e,t,n){var r=n(185);r(r.S,"Object",{create:n(483)})},2607:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(0);var o=l(r);var a=n(26);var i=c(a);var u=n(19);function c(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=function(e){f(t,e);function t(){s(this,t);return p(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,n=t.page,r=t.contentContext;return o.createElement(i.default,{title:n.title},n.description&&o.createElement("meta",{name:"description",content:n.description}),o.createElement("meta",{name:"robots",content:(0,u.isContentIndexable)(r)?"index, follow":"noindex, nofollow"}))};return t}(o.Component);t.default=v},2608:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(2609);var o=a(r);function a(e){return e&&e.__esModule?e:{default:e}}t.default=o.default},2616:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:true});var r,o,a,i;var u=n(0);var c=y(u);var l=n(2);n(4);var s=n(3);var p=n(1);var f=n(5);var v=n(13);var d=n(851);var h=n(2617);function y(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=(r=(0,f.connect)(function(e,t){var n=e.space;var r=t.revision;return{spaceID:n.uid,isPrimaryRevision:n.primaryRevision==r.uid}}),(0,v.withRouter)(o=r(o=(i=a=function(t){b(n,t);function n(){g(this,n);return m(this,t.apply(this,arguments))}n.prototype.componentDidMount=function e(){var t=this;var n=this.props.history;this.attemptScroll();this.unlistenHistory=n.listen(function(e){t.attemptScroll()})};n.prototype.componentDidUpdate=function e(t){var n=this.props,r=n.pageURL,o=n.isShowingPlaceholder;(!o&&t.isShowingPlaceholder||r!=t.pageURL)&&this.attemptScroll()};n.prototype.componentWillUnmount=function e(){this.unlistenHistory&&this.unlistenHistory()};n.prototype.attemptScroll=function t(){var n=window.location.hash;if(n){var r=document.querySelector("[id='"+n.slice(1).replace(/[^a-z|\d]/gi,"\\$&")+"']");if(!r)return;e(function(){return r.scrollIntoView()})}};n.prototype.render=function e(){var t=n.STYLES;var r=this.props,o=r.version,a=r.page,i=r.revision,u=r.editorState,l=r.isDiff,f=r.isPrimaryRevision,v=r.readOnly,y=r.headingIDs,g=r.onChange;var m=s.Edition.isEmptyDocument(u.document);var b=v&&f&&!m;return c.default.createElement(p.View,{styles:[t.pageBody]},c.default.createElement(d.DocumentView,{page:a,version:o,revision:i,readOnly:v,editorState:u,isDiff:l,onChange:g,headingIDs:y}),v?c.default.createElement(h.PageFooter,{page:a,showRating:b,versionID:o.uid,version:o}):null)};return n}(c.default.Component),a.STYLES=l.StyleSheet.create({pageBody:{display:"flex",flexDirection:"column",fontSize:p.font.SIZE_MAIN}}),i))||o)||o);t.default=E}).call(t,n(89).setImmediate)},2622:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PAGE_SIDE_WIDTH=void 0;var r,o,a,i,u;var c=n(0);var l=y(c);var s=n(2);var p=n(5);var f=n(1);var v=n(3);var d=n(923);var h=n(184);function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=176+2*f.spacing.S300;var S=(r=(0,p.connect)(function(e){var t=e.userCanEdit,n=e.spaceURL;return{userCanEdit:t,spaceURL:n}}),r(o=(i=a=function(e){b(t,e);function t(){g(this,t);return m(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=t.STYLES;var r=this.props,o=r.sections,a=r.version,i=r.page,u=r.readOnly,c=r.userCanEdit;return l.createElement(f.View,{styles:[n.pageSide]},l.createElement(f.StickySidebar,{styles:[n.tocWrapper],stickyTopPadding:0},c&&l.createElement(f.MediaQuery,{query:f.MEDIA.DESKTOP_LARGE},l.createElement(f.View,{styles:n.pageOptionsWrapper},l.createElement(f.View,{styles:n.pageOptionsBorder},l.createElement(h.PageDocumentMenu,{version:a,page:i,readOnly:u,align:"end"})))),l.createElement(f.MediaQuery,{query:f.MEDIA.DESKTOP_LARGE},l.createElement(d.PageToCLive,{sections:o}))))};return t}(l.PureComponent),a.STYLES=s.StyleSheet.create({pageSide:(u={position:"relative",flex:"0 0 auto",width:E,marginRight:"auto"},u["@media "+f.MEDIA.SMALLER_THAN_DESKTOP_LARGE]={display:"none"},u),tocWrapper:{paddingTop:f.spacing.S500,paddingBottom:f.spacing.S500,display:"flex",flexDirection:"column"},pageOptionsWrapper:{display:"inline-block",marginBottom:f.spacing.S500,paddingRight:f.spacing.S300},pageOptionsBorder:{borderLeft:"1px solid "+f.colors.GREY_LIGHTER,padding:0}}),i))||o);t.default=S;t.PAGE_SIDE_WIDTH=E},312:function(e,t,n){"use strict";var r=n(2211);var o="Copy to clipboard: #{key}, Enter";function a(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function i(e,t){var n,i,u,c,l,s,p=false;t||(t={});n=t.debug||false;try{u=r();c=document.createRange();l=document.getSelection();s=document.createElement("span");s.textContent=e;s.style.all="unset";s.style.position="fixed";s.style.top=0;s.style.clip="rect(0, 0, 0, 0)";s.style.whiteSpace="pre";s.style.webkitUserSelect="text";s.style.MozUserSelect="text";s.style.msUserSelect="text";s.style.userSelect="text";document.body.appendChild(s);c.selectNode(s);l.addRange(c);var f=document.execCommand("copy");if(!f)throw new Error("copy command was unsuccessful");p=true}catch(r){n&&console.error("unable to copy using execCommand: ",r);n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData("text",e);p=true}catch(r){n&&console.error("unable to copy using clipboardData: ",r);n&&console.error("falling back to prompt");i=a("message"in t?t.message:o);window.prompt(i,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(c):l.removeAllRanges());s&&document.body.removeChild(s);u()}return p}e.exports=i},470:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var a=n(0);var i=y(a);var u=n(2);var c=n(1);var l=n(7);var s=n(3);var p=n(846);var f=h(p);var v=n(847);var d=h(v);function h(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=(o=r=function(e){b(t,e);function t(){var n,r,o;g(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return o=(n=(r=m(this,e.call.apply(e,[this].concat(i))),r),r.state={step:"href",title:"",href:""},r.captureClick=function(e){e.stopPropagation()},r.onClickNext=function(e){e.stopPropagation();r.onNextStep()},r.onNextStep=function(){var e=r.state,t=e.step,n=e.title,o=e.href;"title"===t&&s.Page.isValidTitle(n)?r.props.onSubmit({title:n,href:o}):"href"===t&&s.Page.isValidHref(o)&&r.setState({step:"title"})},r.onChangeHref=function(e){return r.setState({href:e})},r.onChangeTitle=function(e){return r.setState({title:e})},n),m(r,o)}t.prototype.render=function e(){var n=t.STYLES;var r=this.state,o=r.step,a=r.title,p=r.href;if("title"===o)return i.createElement("div",{role:"presentation",className:(0,u.css)(n.newPageLinkForm),onClick:this.captureClick},i.createElement(d.default,{value:a,onChange:this.onChangeTitle,onEnter:this.onNextStep}),i.createElement(c.Button,{styles:[n.newPageLinkFormButton],disabled:!s.Page.isValidTitle(a),onClick:this.onClickNext},i.createElement(l.IconPlus,null)));return i.createElement("div",{role:"presentation",className:(0,u.css)(n.newPageLinkForm),onClick:this.captureClick},i.createElement(f.default,{value:p,onChange:this.onChangeHref,onEnter:this.onNextStep}),i.createElement(c.Button,{styles:[n.newPageLinkFormButton],disabled:!s.Page.isValidHref(p),onClick:this.onClickNext},i.createElement(l.IconArrowRight,null)))};return t}(i.Component),r.STYLES=u.StyleSheet.create({newPageLinkForm:{display:"flex",padding:c.boxes.PADDING_SMALL},newPageLinkFormButton:{marginLeft:c.boxes.PADDING_SMALL}}),o);t.default=E},476:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},480:function(e,t){var n=Math.ceil;var r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},482:function(e,t){e.exports={}},72:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.layout=void 0;var r=n(465);var o=a(r);function a(e){return e&&e.__esModule?e:{default:e}}t.layout=o.default},848:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,a;var i=n(0);var u=h(i);var c=n(2);var l=n(12);var s=n(100);var p=d(s);var f=n(3);var v=n(1);function d(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=(0,l.injectIntl)(r=(a=o=function(e){m(t,e);function t(){var n,r,o;y(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return o=(n=(r=g(this,e.call.apply(e,[this].concat(i))),r),r.slugify=function(e){var t=e.target.value.replace(/\s/g,"-");if(!t||"-"===t.slice(-1))return t;return f.Page.normalizePath(t)},r.onClick=function(e){e.stopPropagation()},n),g(r,o)}t.prototype.componentDidMount=function e(){var t=this.input;if(t){t.focus();t.select()}};t.prototype.render=function e(){var n=this;var r=t.STYLES;var o=this.props,a=o.intl,i=o.value,l=o.parentURL,s=o.onChange;var f=l?l+"/":"";return u.createElement("div",{role:"presentation",className:(0,c.css)(r.pathInput),onClick:this.onClick},u.createElement("div",{className:(0,c.css)(r.pathInputPrefix)},"/"+f),u.createElement(p.default,{component:v.AutosizeInput,ref:function e(t){n.input=t},type:"text",value:i||"",className:(0,c.css)(r.pathInputInner),inputClassName:(0,c.css)(r.pathInputInnerInput),onBeforeChange:this.slugify,onChange:s,placeholder:a.formatMessage({id:"PageMenu.pathPrompt",defaultMessage:"Path for this page"}),placeholderIsMinWidth:true}))};return t}(u.Component),o.STYLES=c.StyleSheet.create({pathInput:{display:"flex",fontSize:v.font.SIZE_NORMAL},pathInputPrefix:{padding:"6px 9px",flex:"0",background:v.colors.BG_SECONDARY,whiteSpace:"nowrap"},pathInputInner:{flex:"1"},pathInputInnerInput:{padding:"6px 9px",font:"inherit",background:"transparent",border:"none",outline:"none",maxWidth:300}}),a))||r;t.default=b},849:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o;var a=n(0);var i=f(a);var u=n(12);var c=n(3);var l=n(469);var s=p(l);function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function v(e,t){var n={};for(var r in e){if(t.indexOf(r)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,r))continue;n[r]=e[r]}return n}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=(0,u.injectIntl)(o=function(e){y(t,e);function t(){d(this,t);return h(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,n=t.intl,o=v(t,["intl"]);return i.createElement(s.default,r({isValid:c.Page.isValidTitle,placeholder:n.formatMessage({id:"TOCPageGroupMenu.title.placeholder",defaultMessage:"Enter group title"})},o))};return t}(i.Component))||o;t.default=g},850:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o,a,i,u;var c=n(0);var l=x(c);var s=n(17);var p=T(s);var f=n(5);var v=n(2);var d=n(312);var h=T(d);var y=n(13);var g=n(107);var m=T(g);var b=n(3);var E=n(1);var S=n(7);var P=n(31);var _=n(19);var O=n(848);var w=T(O);var C=n(470);var L=T(C);function T(e){return e&&e.__esModule?e:{default:e}}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function M(e,t){var n={};for(var r in e){if(t.indexOf(r)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,r))continue;n[r]=e[r]}return n}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R={EDIT_SLUG:"slug",INSERT_LINK:"link"};var D=(o=(0,f.connect)(function(e){var t=e.userCanEdit,n=e.spaceURL;return{userCanEdit:t,spaceURL:n}}),o(a=(0,_.contentRoutingConnect)(a=(u=i=function(e){k(t,e);function t(){var n,r,o;j(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return o=(n=(r=I(this,e.call.apply(e,[this].concat(i))),r),r.state={mode:null},r.onEditSlug=function(e){e.stopPropagation();r.setState({mode:R.EDIT_SLUG})},r.onCreatePageLink=function(e){e.stopPropagation();r.setState({mode:R.INSERT_LINK})},r.onClosePopover=function(){r.setState({mode:null})},r.onRemovePage=function(){var e=r.props,t=e.version,n=e.page,o=e.dispatch;o((0,P.removePage)(t,n))},r.onCopyPageURL=function(){var e=r.props,t=e.spaceURL,n=e.contentContext;var o=(0,_.getContentRoute)(n,{});var a=(0,m.default)(t,o);(0,h.default)(a)},r.onCreatePage=function(){var e=r.props,t=e.version,n=e.page,o=e.dispatch,a=e.navigate;var i=o((0,P.createPage)(t,n)),u=i.url;a({toPage:u})},r.onPathSlugChanged=function(e){var t=r.props,n=t.dispatch,o=t.page,a=t.version;r.setState({mode:null},function(){e&&e!==o.path&&n((0,P.updatePagePath)(a,o,e))})},r.onSubmitPageLink=function(e){var t=r.props,n=t.dispatch,o=t.version,a=t.page;n((0,P.createPageLink)(e,o,a));r.setState({mode:null})},n),I(r,o)}t.prototype.render=function e(){var n=this.props,r=n.version,o=n.page,a=n.readOnly,i=n.isInPopover,u=n.isInTOC,c=n.userCanEdit,s=n.align,p=n.contentContext;var f=this.state.mode;var v=t.STYLES;var d=r.page.uid===o.uid;var h=r.page.getURLOf(o);if(!d&&!h)throw new Error("pageURL not found for page "+o.uid);var g=!a;var m=(0,_.getContentRoute)(p,{toPage:h||"",toEdit:true});var b=r.page.getURLOfParentOf(o);if(i&&f===R.EDIT_SLUG)return l.createElement(w.default,{value:o.path,parentURL:b,onChange:this.onPathSlugChanged});if(i&&f===R.INSERT_LINK)return l.createElement(L.default,{onSubmit:this.onSubmitPageLink});return l.createElement(E.Menu,null,a&&c&&l.createElement(N,{component:y.Link,to:m,styles:!i&&v.pageSideItem}),g&&!d&&l.createElement(l.Fragment,null,i?l.createElement(A,{onClick:this.onEditSlug}):l.createElement(E.Popover.ManualPortal,{isOpen:f===R.EDIT_SLUG,closeOnOutsideClick:true,closeOnEsc:true,onClose:this.onClosePopover,anchor:l.createElement(A,{onClick:this.onEditSlug,styles:v.pageSideItem})},l.createElement(E.Popover,{align:s},l.createElement(w.default,{value:o.path,parentURL:b,onChange:this.onPathSlugChanged}))),l.createElement(G,{onClick:this.onRemovePage,styles:!i&&v.pageSideItem})),(g||u)&&l.createElement(B,{onClick:this.onCopyPageURL,styles:!i&&v.pageSideItem}),g&&u&&l.createElement(l.Fragment,null,l.createElement(E.Menu.Divider,null),l.createElement(H,{onClick:this.onCreatePage}),l.createElement(U,{onClick:this.onCreatePageLink})))};return t}(l.Component),i.defaultProps={isInPopover:false,align:"middle"},i.contextTypes={closePortal:p.default.func},i.STYLES=v.StyleSheet.create({pageSideItem:{paddingLeft:E.spacing.S300,overflow:"hidden",minWidth:"auto",":first-child":{marginTop:0},":last-child":{marginBottom:0}}}),u))||a)||a);var N=function e(t){return l.createElement(E.Menu.Item,r({icon:l.createElement(S.IconEdit,null)},t),l.createElement(E.Text.UIH300,null,"Edit this page"))};var A=function(e){k(t,e);function t(){j(this,t);return I(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,n=t.children,o=M(t,["children"]);return l.createElement(E.Menu.Item,r({icon:l.createElement(S.IconLink,null)},o),"Change path",n)};return t}(l.Component);var G=function e(t){return l.createElement(E.Menu.Item,r({icon:l.createElement(S.IconTrashcan,null)},t),"Delete this page")};var B=function e(t){return l.createElement(E.Menu.Item,r({icon:l.createElement(S.IconCopy,null)},t),"Copy URL")};var H=function e(t){return l.createElement(E.Menu.Item,r({icon:l.createElement(S.IconPlus,null)},t),"New Page")};var U=function e(t){return l.createElement(E.Menu.Item,r({icon:l.createElement(S.IconExternalLink,null)},t),"New External Link")};t.default=D},851:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.connectDocument=t.DocumentView=void 0;var r=n(2224);var o=u(r);var a=n(863);var i=u(a);function u(e){return e&&e.__esModule?e:{default:e}}t.DocumentView=o.default;t.connectDocument=i.default},866:function(e,t,n){var r=n(476);e.exports=function(e){return Object(r(e))}},867:function(e,t,n){var r=n(147);var o=n(866);var a=n(477)("IE_PROTO");var i=Object.prototype;e.exports=Object.getPrototypeOf||function(e){e=o(e);if(r(e,a))return e[a];if("function"==typeof e.constructor&&e instanceof e.constructor)return e.constructor.prototype;return e instanceof Object?i:null}},868:function(e,t,n){var r=n(2263);e.exports=function(e,t,n){r(e);if(void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},875:function(e,t,n){"use strict";var r=n(481);var o=n(185);var a=n(876);var i=n(186);var u=n(147);var c=n(482);var l=n(2271);var s=n(485);var p=n(867);var f=n(187)("iterator");var v=!([].keys&&"next"in[].keys());var d="@@iterator";var h="keys";var y="values";var g=function(){return this};e.exports=function(e,t,n,m,b,E,S){l(n,t,m);var P=function(e){if(!v&&e in C)return C[e];switch(e){case h:return function t(){return new n(this,e)};case y:return function t(){return new n(this,e)}}return function t(){return new n(this,e)}};var _=t+" Iterator";var O=b==y;var w=false;var C=e.prototype;var L=C[f]||C[d]||b&&C[b];var T=L||P(b);var x=b?O?P("entries"):T:void 0;var M="Array"==t&&C.entries||L;var j,I,k;if(M){k=p(M.call(new e));if(k!==Object.prototype&&k.next){s(k,_,true);r||u(k,f)||i(k,f,g)}}if(O&&L&&L.name!==y){w=true;T=function e(){return L.call(this)}}r&&!S||!v&&!w&&C[f]||i(C,f,T);c[t]=T;c[_]=g;if(b){j={values:O?T:P(y),keys:E?T:P(h),entries:x};if(S)for(I in j)I in C||a(C,I,j[I]);else o(o.P+o.F*(v||w),t,j)}return j}},878:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},923:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TOC_WIDTH=t.PageToCLive=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o,a,i,u;var c=n(0);var l=P(c);var s=n(40);var p=P(s);var f=n(845);var v=S(f);var d=n(6);var h=n(2);var y=n(12);var g=n(3);var m=n(7);var b=n(1);var E=n(891);function S(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=3;var L=1;var T=2;var x=176;var M=h.StyleSheet.create({pageToc:{display:"inline-block",minWidth:x+2*b.spacing.S300,paddingRight:b.spacing.S300},pageTocInner:{borderLeft:L+"px solid "+b.colors.GREY_LIGHTER},pageTocTitle:{paddingLeft:b.spacing.S300,color:b.colors.GREY_BASE,marginBottom:b.spacing.S200,display:"flex"},pageTocTitleIcon:{cursor:"pointer",marginLeft:b.spacing.S100},pageTocList:{listStyle:"none",padding:0,margin:0,counterReset:"toc"},pageTocItem:{marginBottom:b.spacing.S100,paddingLeft:b.spacing.S300,display:"flex",color:b.colors.GREY_DARK},pageTocItemActive:{borderLeft:T+"px solid",paddingLeft:b.spacing.S300-T+L,marginLeft:-L},pageTocLink:{cursor:"pointer",textDecoration:"none",color:"inherit",":hover":{textDecoration:"inherit"}},pageTocLinkHTTPMethod:{marginLeft:-2,marginRight:b.spacing.S100},pageTocLinkH2:{paddingLeft:b.spacing.S200},pageTocReadMore:{fontSize:"20px"}});function j(e){return e.filter(function(e){return e.level<=2})}var I=function(e){w(t,e);function t(){_(this,t);return O(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props.onClick;return l.createElement("li",{className:(0,h.css)(M.pageTocItem)},l.createElement("span",{role:"button",tabIndex:0,onClick:t,className:(0,h.css)(M.pageTocLink,M.pageTocReadMore)},"..."))};return t}(l.Component);var k=function(e){w(t,e);function t(){_(this,t);return O(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props.method;return l.createElement(b.Badge,{styles:[M.pageTocLinkHTTPMethod],style:{backgroundColor:(0,E.getHTTPMethodColor)(t)}},t)};return t}(l.Component);var R=function(e){w(t,e);function t(){var n,r,o;_(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return o=(n=(r=O(this,e.call.apply(e,[this].concat(i))),r),r.state={isHovered:false},r.state={isHovered:false},r.onMouseEnter=function(){r.setState({isHovered:true})},r.onMouseLeave=function(){r.setState({isHovered:false})},n),O(r,o)}t.prototype.render=function e(){var t=this.props,n=t.section,r=t.active,o=t.colorPrimary;var a=this.state.isHovered;return l.createElement("li",{className:(0,h.css)(M.pageTocItem,r&&M.pageTocItemActive),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,style:{color:(r||a)&&o}},l.createElement(b.Link,{styles:[M.pageTocLink,n.level>1&&M.pageTocLinkH2],href:"#"+n.id,kind:"text"},l.createElement(b.Text.UIH200,null,n.delimiter.type===g.DOC_BLOCKS.API_METHOD_SUMMARY&&l.createElement(k,{method:n.data.get("method")}),n.title)))};return t}(l.Component);var D=(o=b.ColorPalette.connect(["primary"]),o(a=(u=i=function(e){w(t,e);function t(){var n,r,o;_(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return o=(n=(r=O(this,e.call.apply(e,[this].concat(i))),r),r.state={isCollapsed:true},r.collapseList=function(){r.setState({isCollapsed:true})},r.expandList=function(){r.setState({isCollapsed:false})},n),O(r,o)}t.prototype.render=function e(){var t=this.props,n=t.activeNodeKey,r=t.condensed,o=t.colorPrimary;var a=this.state.isCollapsed;var i=j(this.props.sections);if(i.size<=1)return null;var u=r&&i.count()>C;var c=u&&a?i.slice(0,C):i;return l.createElement("div",{className:(0,h.css)(M.pageToc,b.Scrollable.STYLES.withScrollbar)},l.createElement("div",{className:(0,h.css)(M.pageTocInner)},l.createElement("div",{className:(0,h.css)(M.pageTocTitle)},l.createElement(b.Text.InfoH100,null,l.createElement(y.FormattedMessage,{id:"PageHeader.toc",defaultMessage:"Contents"})),u&&l.createElement("span",{className:(0,h.css)(M.pageTocTitleIcon)},a?l.createElement(m.IconChevronDown,{onClick:this.expandList}):l.createElement(m.IconChevronUp,{onClick:this.collapseList}))),l.createElement("ul",{className:(0,h.css)(M.pageTocList)},c.map(function(e){return l.createElement(R,{key:e.key,section:e,colorPrimary:o,active:!r&&e.key===n})}),u&&a&&l.createElement(I,{onClick:this.expandList}))))};return t}(l.PureComponent),i.defaultProps={condensed:false},u))||a);var N=function(e){w(t,e);function t(n){_(this,t);var r=O(this,e.call(this,n));r.state={activeNodeKey:null};r.updateActiveNode=function(){var e=r.props.sections;var t=j(e);var n=t.find(function(e,n){var r=e.delimiter;var o=p.findDOMNode(r);if(o.getBoundingClientRect().top>0)return false;var a=t.get(n+1);if(!a)return true;var i=a.delimiter;var u=p.findDOMNode(i);return u.getBoundingClientRect().top>0});r.setState({activeNodeKey:n?n.key:null})};r.onScroll=(0,v.default)(r.updateActiveNode,200);return r}t.prototype.componentDidMount=function e(){this.updateActiveNode();window.document.addEventListener("scroll",this.onScroll)};t.prototype.componentWillUnmount=function e(){this.onScroll.cancel();window.document.removeEventListener("scroll",this.onScroll)};t.prototype.render=function e(){var t=this.state.activeNodeKey;return l.createElement(D,r({},this.props,{activeNodeKey:t}))};return t}(l.PureComponent);t.default=D;t.PageToCLive=N;t.TOC_WIDTH=x}});