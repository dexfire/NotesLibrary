webpackJsonp([21],{1:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.MEDIA=t.Skeleton=t.View=t.Col=t.Row=t.Grid=t.StickySidebar=t.Scrollable=t.Switch=t.Stepper=t.Emojify=t.Emoji=t.Menu=t.PlaceholderPalette=t.PlaceholderInteractionBlocker=t.Text=t.TabsPage=t.Tabs=t.Popup=t.Popover=t.Portal=t.PieChart=t.Panel=t.Modal=t.MediaQuery=t.Loading=t.Link=t.InfiniteScroll=t.FuzzyFilter=t.Form=t.Illustration=t.Icon=t.Image=t.TilesGrid=t.Completions=t.ColorPalette=t.ProgressSpinner=t.Button=t.Badge=t.Backdrop=t.Avatar=t.AutosizeInput=t.Autocomplete=t.Alert=t.layout=t.spacing=t.sidebar=t.zIndexes=t.tooltip=t.font=t.colors=t.boxes=t.animations=t.resetCSS=void 0;var n=r(70);var i=Je(n);var o=r(32);var a=Je(o);var u=r(15);var s=Je(u);var c=r(43);var f=Je(c);var l=r(426);var p=Je(l);var d=r(1666);var v=Je(d);var h=r(177);var y=Je(h);var m=r(1668);var g=Je(m);var _=r(21);var b=Je(_);var w=r(289);var I=Je(w);var O=r(50);var S=Ye(O);var E=r(1674);var P=Je(E);var k=r(1675);var D=Je(k);var j=r(1678);var x=Je(j);var R=r(1685);var C=Je(R);var T=r(787);var M=Je(T);var A=r(1687);var L=Je(A);var z=r(430);var N=Je(z);var B=r(788);var U=Je(B);var q=r(429);var F=Je(q);var H=r(9);var W=Je(H);var G=r(1688);var V=Je(G);var K=r(1689);var $=Je(K);var Y=r(291);var J=Je(Y);var X=r(784);var Q=Je(X);var Z=r(1690);var ee=Je(Z);var te=r(1693);var re=Je(te);var ne=r(786);var ie=Je(ne);var oe=r(1826);var ae=Je(oe);var ue=r(1827);var se=Je(ue);var ce=r(1828);var fe=Je(ce);var le=r(1829);var pe=Je(le);var de=r(1831);var ve=Je(de);var he=r(1839);var ye=Je(he);var me=r(1882);var ge=Je(me);var _e=r(428);var be=Je(_e);var we=r(785);var Ie=Je(we);var Oe=r(1887);var Se=Je(Oe);var Ee=r(1888);var Pe=Je(Ee);var ke=r(1889);var De=Je(ke);var je=r(1908);var xe=Je(je);var Re=r(1909);var Ce=Je(Re);var Te=r(293);var Me=Je(Te);var Ae=r(804);var Le=Je(Ae);var ze=r(29);var Ne=Je(ze);var Be=r(16);var Ue=Je(Be);var qe=r(432);var Fe=Je(qe);var He=r(290);var We=Je(He);var Ge=r(1910);var Ve=r(1919);var Ke=r(37);var $e=Je(Ke);function Ye(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function Je(e){return e&&e.__esModule?e:{default:e}}t.resetCSS=v.default;t.animations=i.default;t.boxes=a.default;t.colors=s.default;t.font=f.default;t.tooltip=p.default;t.zIndexes=y.default;t.sidebar=g.default;t.spacing=b.default;t.layout=I.default;t.Alert=P.default;t.Autocomplete=D.default;t.AutosizeInput=x.default;t.Avatar=C.default;t.Backdrop=M.default;t.Badge=L.default;t.Button=N.default;t.ProgressSpinner=$.default;t.ColorPalette=J.default;t.Completions=Q.default;t.TilesGrid=ee.default;t.Image=F.default;t.Icon=W.default;t.Illustration=V.default;t.Form=re.default;t.FuzzyFilter=ie.default;t.InfiniteScroll=ae.default;t.Link=se.default;t.Loading=fe.default;t.MediaQuery=pe.default;t.Modal=ve.default;t.Panel=ye.default;t.PieChart=ge.default;t.Portal=be.default;t.Popover=Ie.default;t.Popup=Se.default;t.Tabs=Pe.default;t.TabsPage=De.default;t.Text=Ne.default;t.PlaceholderInteractionBlocker=Fe.default;t.PlaceholderPalette=We.default;t.Menu=xe.default;t.Emoji=Ve.Emoji;t.Emojify=Ve.Emojify;t.Stepper=Ce.default;t.Switch=U.default;t.Scrollable=Me.default;t.StickySidebar=Le.default;t.Grid=Ge.Grid;t.Row=Ge.Row;t.Col=Ge.Col;t.View=Ue.default;t.Skeleton=S;t.MEDIA=$e.default},10:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Connectors=t.Flux=void 0;var n=r(1640);var i=u(n);var o=r(434);var a=u(o);function u(e){return e&&e.__esModule?e:{default:e}}t.Flux=a.default;t.Connectors=i.default},107:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.splitURL=t.default=void 0;var n=r(1587);var i=u(n);var o=r(736);var a=u(o);function u(e){return e&&e.__esModule?e:{default:e}}t.default=i.default;t.splitURL=a.default},1164:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.bundleEntry=t.onHotReload=t.createStore=t.loadComponent=void 0;var n=r(257);var i=h(n);var o=r(572);var a=v(o);var u=r(573);var s=r(96);var c=r(10);var f=r(1935);var l=v(f);var p=r(1942);var d=v(p);function v(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}var y="space";function m(e){var t=e.config;var r=void 0;var n=l.default.deserialize(e);var o=new s.Backend(t,{initialUser:n.user,onUser:function e(t){r.dispatch(c.Flux.user.updateUser(t))},initialDatabaseState:n.database,onDatabaseState:function e(t){r.dispatch(c.Flux.database.updateDatabase(t))}});o.database.setOnline(false);var u=[a.default.withExtraArgument(o)];o.isClient&&false;r=i.createStore(d.default,n,i.applyMiddleware.apply(i,u));return r}function g(){return r(1953).default}function _(e){false}t.loadComponent=g;t.createStore=m;t.onHotReload=_;t.bundleEntry=y},12:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"addLocaleData",function(){return g});r.d(t,"intlShape",function(){return G});r.d(t,"injectIntl",function(){return ae});r.d(t,"defineMessages",function(){return ue});r.d(t,"IntlProvider",function(){return je});r.d(t,"FormattedDate",function(){return xe});r.d(t,"FormattedTime",function(){return Re});r.d(t,"FormattedRelative",function(){return Ue});r.d(t,"FormattedNumber",function(){return qe});r.d(t,"FormattedPlural",function(){return Fe});r.d(t,"FormattedMessage",function(){return He});r.d(t,"FormattedHTMLMessage",function(){return We});var n=r(1847);var i=r.n(n);var o=r(1848);var a=r.n(o);var u=r(1857);var s=r.n(u);var c=r(17);var f=r.n(c);var l=r(0);var p=r.n(l);var d=r(36);var v=r.n(d);var h=r(1873);var y=r.n(h);var m={locale:"en",pluralRuleFunction:function e(t,r){var n=String(t).split("."),i=!n[1],o=Number(n[0])==t,a=o&&n[0].slice(-1),u=o&&n[0].slice(-2);if(r)return 1==a&&11!=u?"one":2==a&&12!=u?"two":3==a&&13!=u?"few":"other";return 1==t&&i?"one":"other"},fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},minute:{displayName:"minute",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}}}};function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];var t=Array.isArray(e)?e:[e];t.forEach(function(e){if(e&&e.locale){a.a.__addLocaleData(e);s.a.__addLocaleData(e)}})}function _(e){var t=(e||"").split("-");while(t.length>0){if(b(t.join("-")))return true;t.pop()}return false}function b(e){var t=e&&e.toLowerCase();return!!(a.a.__localeData__[t]&&s.a.__localeData__[t])}var w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var I=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var O=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var S=function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e};var E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var P=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)};var k=function(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r};var D=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t};var j=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)};var x=f.a.bool;var R=f.a.number;var C=f.a.string;var T=f.a.func;var M=f.a.object;var A=f.a.oneOf;var L=f.a.shape;var z=f.a.any;var N=f.a.oneOfType;var B=A(["best fit","lookup"]);var U=A(["narrow","short","long"]);var q=A(["numeric","2-digit"]);var F=T.isRequired;var H={locale:C,formats:M,messages:M,textComponent:z,defaultLocale:C,defaultFormats:M};var W={formatDate:F,formatTime:F,formatRelative:F,formatNumber:F,formatPlural:F,formatMessage:F,formatHTMLMessage:F};var G=L(E({},H,W,{formatters:M,now:F}));var V={id:C.isRequired,description:N([C,M]),defaultMessage:C};var K={localeMatcher:B,formatMatcher:A(["basic","best fit"]),timeZone:C,hour12:x,weekday:U,era:U,year:q,month:A(["numeric","2-digit","narrow","short","long"]),day:q,hour:q,minute:q,second:q,timeZoneName:A(["short","long"])};var $={localeMatcher:B,style:A(["decimal","currency","percent"]),currency:C,currencyDisplay:A(["symbol","code","name"]),useGrouping:x,minimumIntegerDigits:R,minimumFractionDigits:R,maximumFractionDigits:R,minimumSignificantDigits:R,maximumSignificantDigits:R};var Y={style:A(["best fit","numeric"]),units:A(["second","minute","hour","day","month","year"])};var J={style:A(["cardinal","ordinal"])};var X=Object.keys(H);var Q={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"};var Z=/[&><"']/g;function ee(e){return(""+e).replace(Z,function(e){return Q[e]})}function te(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.reduce(function(t,n){e.hasOwnProperty(n)?t[n]=e[n]:r.hasOwnProperty(n)&&(t[n]=r[n]);return t},{})}function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.intl;v()(t,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}function ne(e,t){if(e===t)return true;if("object"!==("undefined"===typeof e?"undefined":w(e))||null===e||"object"!==("undefined"===typeof t?"undefined":w(t))||null===t)return false;var r=Object.keys(e);var n=Object.keys(t);if(r.length!==n.length)return false;var i=Object.prototype.hasOwnProperty.bind(t);for(var o=0;o<r.length;o++)if(!i(r[o])||e[r[o]]!==t[r[o]])return false;return true}function ie(e,t,r){var n=e.props,i=e.state,o=e.context,a=void 0===o?{}:o;var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var s=a.intl,c=void 0===s?{}:s;var f=u.intl,l=void 0===f?{}:f;return!ne(t,n)||!ne(r,i)||!(l===c||ne(te(l,X),te(c,X)))}function oe(e){return e.displayName||e.name||"Component"}function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r=t.intlPropName,n=void 0===r?"intl":r,i=t.withRef,o=void 0!==i&&i;var a=function(t){P(r,t);function r(e,t){I(this,r);var n=D(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t));re(t);return n}O(r,[{key:"getWrappedInstance",value:function e(){v()(o,"[React Intl] To access the wrapped instance, the `{withRef: true}` option must be set when calling: `injectIntl()`");return this.refs.wrappedInstance}},{key:"render",value:function t(){return p.a.createElement(e,E({},this.props,S({},n,this.context.intl),{ref:o?"wrappedInstance":null}))}}]);return r}(l["Component"]);a.displayName="InjectIntl("+oe(e)+")";a.contextTypes={intl:G};a.WrappedComponent=e;return a}function ue(e){return e}function se(e){return a.a.prototype._resolveLocale(e)}function ce(e){return a.a.prototype._findPluralRuleFunction(e)}var fe=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};I(this,e);var n="ordinal"===r.style;var i=ce(se(t));this.format=function(e){return i(e,n)}};var le=Object.keys(K);var pe=Object.keys($);var de=Object.keys(Y);var ve=Object.keys(J);var he={second:60,minute:60,hour:24,day:30,month:12};function ye(e){var t=s.a.thresholds;t.second=e.second;t.minute=e.minute;t.hour=e.hour;t.day=e.day;t.month=e.month}function me(e,t,r){var n=e&&e[t]&&e[t][r];if(n)return n;false}function ge(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i=e.locale,o=e.formats;var a=n.format;var u=new Date(r);var s=a&&me(o,"date",a);var c=te(n,le,s);try{return t.getDateTimeFormat(i,c).format(u)}catch(e){false}return String(u)}function _e(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i=e.locale,o=e.formats;var a=n.format;var u=new Date(r);var s=a&&me(o,"time",a);var c=te(n,le,s);c.hour||c.minute||c.second||(c=E({},c,{hour:"numeric",minute:"numeric"}));try{return t.getDateTimeFormat(i,c).format(u)}catch(e){false}return String(u)}function be(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i=e.locale,o=e.formats;var a=n.format;var u=new Date(r);var c=new Date(n.now);var f=a&&me(o,"relative",a);var l=te(n,de,f);var p=E({},s.a.thresholds);ye(he);try{return t.getRelativeFormat(i,l).format(u,{now:isFinite(c)?c:t.now()})}catch(e){false}finally{ye(p)}return String(u)}function we(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i=e.locale,o=e.formats;var a=n.format;var u=a&&me(o,"number",a);var s=te(n,pe,u);try{return t.getNumberFormat(i,s).format(r)}catch(e){false}return String(r)}function Ie(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i=e.locale;var o=te(n,ve);try{return t.getPluralFormat(i,o).format(r)}catch(e){false}return"other"}function Oe(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i=e.locale,o=e.formats,a=e.messages,u=e.defaultLocale,s=e.defaultFormats;var c=r.id,f=r.defaultMessage;v()(c,"[React Intl] An `id` must be provided to format a message.");var l=a&&a[c];var p=Object.keys(n).length>0;if(!p&&true)return l||f||c;var d=void 0;if(l)try{var h=t.getMessageFormat(l,i,o);d=h.format(n)}catch(e){false}else false;if(!d&&f)try{var y=t.getMessageFormat(f,u,s);d=y.format(n)}catch(e){false}d||false;return d||l||f||c}function Se(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i=Object.keys(n).reduce(function(e,t){var r=n[t];e[t]="string"===typeof r?ee(r):r;return e},{});return Oe(e,t,r,i)}var Ee=Object.freeze({formatDate:ge,formatTime:_e,formatRelative:be,formatNumber:we,formatPlural:Ie,formatMessage:Oe,formatHTMLMessage:Se});var Pe=Object.keys(H);var ke=Object.keys(W);var De={formats:{},messages:{},textComponent:"span",defaultLocale:"en",defaultFormats:{}};var je=function(e){P(t,e);function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};I(this,t);var n=D(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));v()("undefined"!==typeof Intl,"[React Intl] The `Intl` APIs must be available in the runtime, and do not appear to be built-in. An `Intl` polyfill should be loaded.\nSee: http://formatjs.io/guides/runtime-environments/");var i=r.intl;var o=void 0;o=isFinite(e.initialNow)?Number(e.initialNow):i?i.now():Date.now();var u=i||{},c=u.formatters,f=void 0===c?{getDateTimeFormat:y()(Intl.DateTimeFormat),getNumberFormat:y()(Intl.NumberFormat),getMessageFormat:y()(a.a),getRelativeFormat:y()(s.a),getPluralFormat:y()(fe)}:c;n.state=E({},f,{now:function e(){return n._didDisplay?Date.now():o}});return n}O(t,[{key:"getConfig",value:function e(){var t=this.context.intl;var r=te(this.props,Pe,t);for(var n in De)void 0===r[n]&&(r[n]=De[n]);if(!_(r.locale)){var i=r,o=i.locale,a=i.defaultLocale,u=i.defaultFormats;false;r=E({},r,{locale:a,formats:u,messages:De.messages})}return r}},{key:"getBoundFormatFns",value:function e(t,r){return ke.reduce(function(e,n){e[n]=Ee[n].bind(null,t,r);return e},{})}},{key:"getChildContext",value:function e(){var t=this.getConfig();var r=this.getBoundFormatFns(t,this.state);var n=this.state,i=n.now,o=k(n,["now"]);return{intl:E({},t,r,{formatters:o,now:i})}}},{key:"shouldComponentUpdate",value:function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return ie.apply(void 0,[this].concat(r))}},{key:"componentDidMount",value:function e(){this._didDisplay=true}},{key:"render",value:function e(){return l["Children"].only(this.props.children)}}]);return t}(l["Component"]);je.displayName="IntlProvider";je.contextTypes={intl:G};je.childContextTypes={intl:G.isRequired};void 0;var xe=function(e){P(t,e);function t(e,r){I(this,t);var n=D(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));re(r);return n}O(t,[{key:"shouldComponentUpdate",value:function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return ie.apply(void 0,[this].concat(r))}},{key:"render",value:function e(){var t=this.context.intl,r=t.formatDate,n=t.textComponent;var i=this.props,o=i.value,a=i.children;var u=r(o,this.props);if("function"===typeof a)return a(u);return p.a.createElement(n,null,u)}}]);return t}(l["Component"]);xe.displayName="FormattedDate";xe.contextTypes={intl:G};void 0;var Re=function(e){P(t,e);function t(e,r){I(this,t);var n=D(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));re(r);return n}O(t,[{key:"shouldComponentUpdate",value:function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return ie.apply(void 0,[this].concat(r))}},{key:"render",value:function e(){var t=this.context.intl,r=t.formatTime,n=t.textComponent;var i=this.props,o=i.value,a=i.children;var u=r(o,this.props);if("function"===typeof a)return a(u);return p.a.createElement(n,null,u)}}]);return t}(l["Component"]);Re.displayName="FormattedTime";Re.contextTypes={intl:G};void 0;var Ce=1e3;var Te=6e4;var Me=36e5;var Ae=864e5;var Le=2147483647;function ze(e){var t=Math.abs(e);if(t<Te)return"second";if(t<Me)return"minute";if(t<Ae)return"hour";return"day"}function Ne(e){switch(e){case"second":return Ce;case"minute":return Te;case"hour":return Me;case"day":return Ae;default:return Le}}function Be(e,t){if(e===t)return true;var r=new Date(e).getTime();var n=new Date(t).getTime();return isFinite(r)&&isFinite(n)&&r===n}var Ue=function(e){P(t,e);function t(e,r){I(this,t);var n=D(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));re(r);var i=isFinite(e.initialNow)?Number(e.initialNow):r.intl.now();n.state={now:i};return n}O(t,[{key:"scheduleNextUpdate",value:function e(t,r){var n=this;clearTimeout(this._timer);var i=t.value,o=t.units,a=t.updateInterval;var u=new Date(i).getTime();if(!a||!isFinite(u))return;var s=u-r.now;var c=Ne(o||ze(s));var f=Math.abs(s%c);var l=s<0?Math.max(a,c-f):Math.max(a,f);this._timer=setTimeout(function(){n.setState({now:n.context.intl.now()})},l)}},{key:"componentDidMount",value:function e(){this.scheduleNextUpdate(this.props,this.state)}},{key:"componentWillReceiveProps",value:function e(t){var r=t.value;Be(r,this.props.value)||this.setState({now:this.context.intl.now()})}},{key:"shouldComponentUpdate",value:function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return ie.apply(void 0,[this].concat(r))}},{key:"componentWillUpdate",value:function e(t,r){this.scheduleNextUpdate(t,r)}},{key:"componentWillUnmount",value:function e(){clearTimeout(this._timer)}},{key:"render",value:function e(){var t=this.context.intl,r=t.formatRelative,n=t.textComponent;var i=this.props,o=i.value,a=i.children;var u=r(o,E({},this.props,this.state));if("function"===typeof a)return a(u);return p.a.createElement(n,null,u)}}]);return t}(l["Component"]);Ue.displayName="FormattedRelative";Ue.contextTypes={intl:G};Ue.defaultProps={updateInterval:1e4};void 0;var qe=function(e){P(t,e);function t(e,r){I(this,t);var n=D(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));re(r);return n}O(t,[{key:"shouldComponentUpdate",value:function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return ie.apply(void 0,[this].concat(r))}},{key:"render",value:function e(){var t=this.context.intl,r=t.formatNumber,n=t.textComponent;var i=this.props,o=i.value,a=i.children;var u=r(o,this.props);if("function"===typeof a)return a(u);return p.a.createElement(n,null,u)}}]);return t}(l["Component"]);qe.displayName="FormattedNumber";qe.contextTypes={intl:G};void 0;var Fe=function(e){P(t,e);function t(e,r){I(this,t);var n=D(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));re(r);return n}O(t,[{key:"shouldComponentUpdate",value:function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return ie.apply(void 0,[this].concat(r))}},{key:"render",value:function e(){var t=this.context.intl,r=t.formatPlural,n=t.textComponent;var i=this.props,o=i.value,a=i.other,u=i.children;var s=r(o,this.props);var c=this.props[s]||a;if("function"===typeof u)return u(c);return p.a.createElement(n,null,c)}}]);return t}(l["Component"]);Fe.displayName="FormattedPlural";Fe.contextTypes={intl:G};Fe.defaultProps={style:"cardinal"};void 0;var He=function(e){P(t,e);function t(e,r){I(this,t);var n=D(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));re(r);return n}O(t,[{key:"shouldComponentUpdate",value:function e(t){var r=this.props.values;var n=t.values;if(!ne(n,r))return true;var i=E({},t,{values:r});for(var o=arguments.length,a=Array(o>1?o-1:0),u=1;u<o;u++)a[u-1]=arguments[u];return ie.apply(void 0,[this,i].concat(a))}},{key:"render",value:function e(){var t=this.context.intl,r=t.formatMessage,n=t.textComponent;var i=this.props,o=i.id,a=i.description,u=i.defaultMessage,s=i.values,c=i.tagName,f=void 0===c?n:c,p=i.children;var d=void 0;var v=void 0;var h=void 0;var y=s&&Object.keys(s).length>0;if(y){var m=Math.floor(1099511627776*Math.random()).toString(16);var g=function(){var e=0;return function(){return"ELEMENT-"+m+"-"+(e+=1)}}();d="@__"+m+"__@";v={};h={};Object.keys(s).forEach(function(e){var t=s[e];if(Object(l["isValidElement"])(t)){var r=g();v[e]=d+r+d;h[r]=t}else v[e]=t})}var _={id:o,description:a,defaultMessage:u};var b=r(_,v||s);var w=void 0;var I=h&&Object.keys(h).length>0;w=I?b.split(d).filter(function(e){return!!e}).map(function(e){return h[e]||e}):[b];if("function"===typeof p)return p.apply(void 0,j(w));return l["createElement"].apply(void 0,[f,null].concat(j(w)))}}]);return t}(l["Component"]);He.displayName="FormattedMessage";He.contextTypes={intl:G};He.defaultProps={values:{}};void 0;var We=function(e){P(t,e);function t(e,r){I(this,t);var n=D(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));re(r);return n}O(t,[{key:"shouldComponentUpdate",value:function e(t){var r=this.props.values;var n=t.values;if(!ne(n,r))return true;var i=E({},t,{values:r});for(var o=arguments.length,a=Array(o>1?o-1:0),u=1;u<o;u++)a[u-1]=arguments[u];return ie.apply(void 0,[this,i].concat(a))}},{key:"render",value:function e(){var t=this.context.intl,r=t.formatHTMLMessage,n=t.textComponent;var i=this.props,o=i.id,a=i.description,u=i.defaultMessage,s=i.values,c=i.tagName,f=void 0===c?n:c,l=i.children;var d={id:o,description:a,defaultMessage:u};var v=r(d,s);if("function"===typeof l)return l(v);var h={__html:v};return p.a.createElement(f,{dangerouslySetInnerHTML:h})}}]);return t}(l["Component"]);We.displayName="FormattedHTMLMessage";We.contextTypes={intl:G};We.defaultProps={values:{}};void 0;g(m);g(i.a)},14:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(300);Object.defineProperty(t,"CDNUrl",{enumerable:true,get:function e(){return _(n).default}});var i=r(1975);Object.defineProperty(t,"ErrorBoundary",{enumerable:true,get:function e(){return _(i).default}});var o=r(1977);Object.defineProperty(t,"ErrorPage",{enumerable:true,get:function e(){return _(o).default}});var a=r(817);Object.defineProperty(t,"withModalRouter",{enumerable:true,get:function e(){return a.withModalRouter}});Object.defineProperty(t,"ModalSwitch",{enumerable:true,get:function e(){return a.ModalSwitch}});Object.defineProperty(t,"ModalLink",{enumerable:true,get:function e(){return a.ModalLink}});Object.defineProperty(t,"isModal",{enumerable:true,get:function e(){return a.isModal}});var u=r(1978);Object.defineProperty(t,"RawRedirect",{enumerable:true,get:function e(){return _(u).default}});var s=r(816);Object.defineProperty(t,"StaticContext",{enumerable:true,get:function e(){return s.StaticContext}});Object.defineProperty(t,"Static404",{enumerable:true,get:function e(){return s.Static404}});Object.defineProperty(t,"Static403",{enumerable:true,get:function e(){return s.Static403}});var c=r(1979);Object.defineProperty(t,"GAProvider",{enumerable:true,get:function e(){return _(c).default}});var f=r(818);Object.defineProperty(t,"UserAvatar",{enumerable:true,get:function e(){return _(f).default}});var l=r(819);Object.defineProperty(t,"withRouterListen",{enumerable:true,get:function e(){return _(l).default}});var p=r(1981);Object.defineProperty(t,"ScrollToTop",{enumerable:true,get:function e(){return _(p).default}});var d=r(1982);Object.defineProperty(t,"MigrateBanner",{enumerable:true,get:function e(){return d.MigrateBanner}});Object.defineProperty(t,"LegacyBanner",{enumerable:true,get:function e(){return d.LegacyBanner}});var v=r(1989);Object.defineProperty(t,"FileUploader",{enumerable:true,get:function e(){return _(v).default}});var h=r(1990);Object.defineProperty(t,"openSupportDialog",{enumerable:true,get:function e(){return _(h).default}});var y=r(1991);Object.defineProperty(t,"OrgAvatar",{enumerable:true,get:function e(){return _(y).default}});var m=r(1992);Object.defineProperty(t,"SpaceAvatar",{enumerable:true,get:function e(){return _(m).default}});var g=r(301);Object.defineProperty(t,"FallbackAvatar",{enumerable:true,get:function e(){return _(g).default}});function _(e){return e&&e.__esModule?e:{default:e}}},1404:function(e,t,r){"use strict";var n=r(1405);function i(e){return n(e)&&3==e.nodeType}e.exports=i},1405:function(e,t,r){"use strict";function n(e){var t=e?e.ownerDocument||e:document;var r=t.defaultView||window;return!!(e&&("function"===typeof r.Node?e instanceof r.Node:"object"===typeof e&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName))}e.exports=n},145:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n={PAGES:"",EDIT:"/~/edit",SETTINGS:"/~/settings",INSIGHTS:"/~/settings/insights",REVISIONS:"/~/revisions",DRAFTS:"/~/drafts",VERSIONS:"/v",DRAFT_PARAM:":draft",REVISION_PARAM:":revision",PAGE_PARAM:":page([^@]*)",VERSION_PARAM:":version"};t.default=n},1704:function(e,t,r){var n=r(0);var i=r(9).default;function o(e){return n.createElement(i,Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",stroke:"currentColor",fill:"none"},e||{}),n.createElement("g",{dangerouslySetInnerHTML:{__html:'<polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/>'}}))}e.exports=o},1705:function(e,t,r){var n=r(0);var i=r(9).default;function o(e){return n.createElement(i,Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",stroke:"currentColor",fill:"none"},e||{}),n.createElement("g",{dangerouslySetInnerHTML:{__html:'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12" y2="17"/>'}}))}e.exports=o},1706:function(e,t,r){var n=r(0);var i=r(9).default;function o(e){return n.createElement(i,Object.assign({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",stroke:"none",fill:"currentColor"},e||{}),n.createElement("g",{dangerouslySetInnerHTML:{__html:'<path d="M10.707 8.707l2.999-3a1.001 1.001 0 0 0 0-1.415l-2.999-2.999a.999.999 0 1 0-1.414 1.414L10.586 4H7C4.794 4 3 5.794 3 8v2c0 .551-.449 1-1 1a1 1 0 0 0 0 2c.551 0 1 .448 1 1v2c0 2.206 1.794 4 4 4a1 1 0 1 0 0-2c-1.103 0-2-.897-2-2v-2c0-.772-.301-1.468-.78-2A2.98 2.98 0 0 0 5 10V8c0-1.103.897-2 2-2h3.586L9.293 7.293a.999.999 0 1 0 1.414 1.414M23 12a1 1 0 0 1-1 1 1 1 0 0 0-1 1v2c0 2.206-1.794 4-4 4h-3.586l1.293 1.293a.999.999 0 1 1-1.414 1.414l-2.999-2.999a1 1 0 0 1 0-1.416l2.999-2.999a.999.999 0 1 1 1.414 1.414L13.414 18H17c1.103 0 2-.897 2-2v-2c0-.772.301-1.468.78-2a2.98 2.98 0 0 1-.78-2V8c0-1.103-.897-2-2-2a1 1 0 1 1 0-2c2.206 0 4 1.794 4 4v2c0 .551.448 1 1 1a1 1 0 0 1 1 1" fill-rule="evenodd"/>'}}))}e.exports=o},1707:function(e,t,r){var n=r(0);var i=r(9).default;function o(e){return n.createElement(i,Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",stroke:"currentColor",fill:"none"},e||{}),n.createElement("g",{dangerouslySetInnerHTML:{__html:'<line x1="12" y1="5" x2="12" y2="19"/><polyline points="19 12 12 19 5 12"/>'}}))}e.exports=o},19:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.AccessDeniedForSpace=t.NeedLogin=t.shouldBeRedirected=t.isContentIndexable=t.getContentRoute=t.getContentContext=t.contentRoutingConnect=t.ContentLink=t.RedirectToWebsite=t.WebsiteLink=t.SignInLink=void 0;var n=r(1993);var i=I(n);var o=r(822);var a=I(o);var u=r(458);var s=r(821);var c=I(s);var f=r(304);var l=I(f);var p=r(303);var d=I(p);var v=r(820);var h=I(v);var y=r(1995);var m=I(y);var g=r(1996);var _=I(g);var b=r(1997);var w=I(b);function I(e){return e&&e.__esModule?e:{default:e}}t.SignInLink=a.default;t.WebsiteLink=u.WebsiteLink;t.RedirectToWebsite=u.RedirectToWebsite;t.ContentLink=i.default;t.contentRoutingConnect=c.default;t.getContentContext=l.default;t.getContentRoute=d.default;t.isContentIndexable=h.default;t.shouldBeRedirected=m.default;t.NeedLogin=_.default;t.AccessDeniedForSpace=w.default},1935:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var i=r(6);var o=r(3);var a=r(96);var u=r(4);var s=_(u);var c=r(1936);var f=g(c);var l=r(807);var p=g(l);var d=r(1939);var v=g(d);var h=r(1940);var y=g(h);var m=r(222);function g(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function I(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=function(e){I(t,e);function t(){b(this,t);return w(this,e.apply(this,arguments))}t.prototype.getEditorState=function e(t,r){var n=this.documents,i=this.edition;var o=i.working&&i.working.documents.getEditorState(t,r);if(o)return o;return n.getEditorState(r)};t.deserialize=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new t({orgID:r.orgID,spaceID:r.spaceID,user:o.AuthUser.deserialize(r.user),search:f.default.deserialize(r.search),documents:o.DocumentsIndex.deserialize(r.documents),database:a.DatabaseState.deserialize(r.database),config:o.Config.deserialize(r.config)})};t.prototype.serialize=function e(){return{orgID:this.orgID,spaceID:this.spaceID,user:this.user.serialize(),search:this.search.serialize(),documents:this.documents.serialize(),database:this.database.serialize(),config:this.config.serialize()}};n(t,[{key:"isReadOnly",get:function e(){return!this.edition.isEditing}},{key:"org",get:function e(){var t=this.database,r=this.orgID;return t.getDocument(o.Organization.queryByID(r))||m.mockedOrg}},{key:"space",get:function e(){var t=this.database,r=this.spaceID;return t.getDocument(o.Space.queryByID(r))||m.mockedSpace}},{key:"permissions",get:function e(){var t=this.membership,r=this.spaceID;if(!t)return null;return t.permissions.get(r)||t.role}},{key:"membership",get:function e(){var t=this.database,r=this.orgID,n=this.user;if(!n||!r)return null;return t.getDocument(o.Membership.queryByID({orgID:r,userID:n.uid}))}},{key:"spaceURL",get:function e(){var t=this.config,r=this.org,n=this.space;if(!r||!n)throw new Error("Cannot generate space URL without Organization");return n.getURL(r,t.domains.spaces)}},{key:"userIsSiteAdmin",get:function e(){var t=this.user;return!!t&&t.isSiteAdmin}},{key:"userCanEdit",get:function e(){var t=this.permissions;if(this.userIsSiteAdmin)return true;return!!t&&/^(writer|reviewer|admin)$/.test(t)}},{key:"userCanReview",get:function e(){var t=this.permissions;if(this.userIsSiteAdmin)return true;return!!t&&/^(reviewer|admin)$/.test(t)}},{key:"userCanAdmin",get:function e(){var t=this.permissions;if(this.userIsSiteAdmin)return true;return!!t&&/^(admin)$/.test(t)}},{key:"userIsOrgAdmin",get:function e(){var t=this.membership;if(this.userIsSiteAdmin)return true;if(!t)return false;return"admin"===t.role}}]);return t}((0,i.Record)({orgID:"",spaceID:"",user:new o.AuthUser,sidebarExpanded:false,database:new a.DatabaseState,search:new f.default,documents:new o.DocumentsIndex,edition:new p.default,diff:new v.default,codeBlocks:new y.default,config:new o.Config}));t.default=O},1942:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(808);var i=r(10);var o=r(1947);var a=m(o);var u=r(1948);var s=m(u);var c=r(1949);var f=m(c);var l=r(1950);var p=m(l);var d=r(1951);var v=m(d);var h=r(1952);var y=m(h);function m(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.combineReducers)({orgID:function e(t){return t},spaceID:function e(t){return t},user:i.Flux.user.reducer,database:i.Flux.database.reducer,config:i.Flux.config.reducer,search:a.default,documents:s.default,diff:p.default,edition:f.default,codeBlocks:v.default,sidebarExpanded:y.default})},1953:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var i,o,a,u,s,c,f;var l=r(0);var p=z(l);var d=r(26);var v=L(d);var h=r(5);var y=r(12);var m=r(13);var g=r(2);var _=r(90);var b=L(_);var w=r(107);var I=L(w);var O=r(6);var S=r(10);var E=r(14);var P=r(1);var k=r(3);var D=r(222);var j=r(302);var x=r(19);var R=r(459);var C=L(R);var T=r(2133);var M=r(145);var A=L(M);function L(e){return e&&e.__esModule?e:{default:e}}function z(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function N(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function q(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var F=g.StyleSheet.create({app:{width:"100%",minHeight:"100vh",display:"flex",flexDirection:"column"}});var H=(i=S.Connectors.authUser(),o=S.Connectors.database(function(e){var t=e.spaceID,r=e.orgID,n=e.user;return{org:k.Organization.queryByID(r).defaultsTo(D.mockedOrg),space:k.Space.queryByID(t).setOptions({ignoreErrors:true}).defaultsTo(D.mockedSpace),membership:n.isLoggedIn?k.Membership.queryByID({orgID:r,userID:n.uid}).setOptions({waitFetched:false}):null}}),a=(0,h.connect)(function(e){var t=e.config,r=e.user;return{gaID:t.get("ga").spaces.id,user:r}}),(0,m.withRouter)(u=i(u=o(u=a(u=function(e){q(t,e);function t(){B(this,t);return U(this,e.apply(this,arguments))}t.prototype.componentWillReceiveProps=function e(t){if(t.location!==this.props.location){var r=this.props.dispatch;r((0,j.close)())}};t.prototype.render=function e(){var t;var r=this.props,n=r.org,i=r.space,o=r.spaceName,a=r.location,u=r.user,s=r.gaID;if(a.search){var c=(0,O.Map)(b.default.parse(a.search.slice(1)));var f=["q","ssr"];var l=f.reduce(function(e,t){return c.has(t)?e.set(t,c.get(t)):e},(0,O.Map)());if(c.size!==l.size)return p.createElement(m.Redirect,{to:l.size>0?a.pathname+"?"+b.default.stringify(l.toObject()):a.pathname})}return p.createElement(y.IntlProvider,{locale:"en"},p.createElement(P.ColorPalette,{primary:i?i.colorPrimary:void 0},p.createElement(P.PlaceholderPalette.Light,null,p.createElement(E.ErrorBoundary,null,i?p.createElement("div",{className:(0,g.css)(F.app)},p.createElement(G,{org:n,space:i}),p.createElement(E.GAProvider,{defaultTrackerID:s,customTrackerID:i.googleAnalyticsID,userID:u.isLoggedIn?u.uid:null,dimensions:(t={},t[E.GAProvider.DIMENSIONS.SPACE]=i.uid,t[E.GAProvider.DIMENSIONS.ORG]=n.uid,t),listenHistory:false},p.createElement(E.ModalSwitch,null,p.createElement(m.Route,{path:A.default.SETTINGS,component:C.default}),p.createElement(m.Route,{component:T.RouteContent})))):p.createElement("div",{className:(0,g.css)(F.app)},p.createElement(W,null),u.isLoggedIn?p.createElement(x.AccessDeniedForSpace,{org:n}):p.createElement(x.RedirectToWebsite,{to:"/login/"+n.baseDomain+"/"+o}))))))};return t}(p.Component))||u)||u)||u)||u);var W=function(e){q(t,e);function t(){B(this,t);return U(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.children,i=N(t,["children"]);var o="%s - GitBook";return p.createElement(v.default,n({titleTemplate:o,defer:false},i),p.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),p.createElement("meta",{charSet:"utf-8"}),p.createElement("link",{rel:"stylesheet",href:P.font.SANS_SERIF_SRC}),p.createElement("link",{rel:"stylesheet",href:P.font.MONOSPACE_SRC}),p.createElement("style",{type:"text/css"},P.resetCSS),p.createElement("style",{type:"text/css"},"@media only percy { #intercom-container { visibility: hidden; } }"),r)};return t}(p.Component);var G=(s=(0,h.connect)(function(e){var t=e.config;return{config:t}}),c=P.Skeleton.connectToSkeleton(function(e){var t=e.isLoading;return{isLoading:t}}),(0,m.withRouter)(f=s(f=c(f=function(e){q(t,e);function t(){B(this,t);return U(this,e.apply(this,arguments))}t.prototype.getCanonicalURL=function e(){var t=this.props,r=t.space,n=t.org,i=t.location,o=t.config.domains;return(0,I.default)(r.getURL(n,o.spaces),i.pathname)};t.prototype.render=function e(){var t=this.props,r=t.space,n=t.config,i=t.isLoading;var o="%s - "+r.name;var a=r.name;var u=this.getCanonicalURL();return p.createElement(W,{titleTemplate:o,defaultTitle:a},"public"!==r.visibility&&p.createElement("meta",{name:"robots",content:"noindex, nofollow"}),!i&&p.createElement("link",{rel:"canonical",href:u}),!i&&p.createElement("meta",{property:"og:image",content:(0,I.default)(n.urls.website,"share/space/thumbnail/"+r.uid+".png")}))};return t}(p.Component))||f)||f)||f);t.default=H},2133:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.RouteContent=void 0;var n=r(2134);var i=o(n);function o(e){return e&&e.__esModule?e:{default:e}}t.RouteContent=i.default},2134:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,i,o,a,u,s,c,f,l;var p=r(0);var d=D(p);var v=r(5);var h=r(13);var y=r(3);var m=r(10);var g=r(14);var _=r(1);var b=r(837);var w=k(b);var I=r(838);var O=r(222);var S=r(19);var E=r(2148);var P=k(E);function k(e){return e&&e.__esModule?e:{default:e}}function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function R(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=(0,S.contentRoutingConnect)(n=function(e){R(t,e);function t(){j(this,t);return x(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.contentPath,n=t.contentContext;var i=n.draftID,o=n.revisionID,a=n.pageURL;var u=(0,S.shouldBeRedirected)(r);if(u)return d.createElement(h.Redirect,{to:u});if(void 0==i&&void 0===o&&void 0===a)return d.createElement(w.default,{header:d.createElement(I.Header,{noMenu:true})},d.createElement(g.ErrorPage.NotFound,null));var s={draftID:i,revisionID:o};return d.createElement(g.ScrollToTop,null,d.createElement(T,s))};return t}(d.Component))||n;var T=(i=_.Skeleton.connectToSkeleton(function(e){var t=e.isLoading;return{isShowingPlaceholder:t}}),o=(0,v.connect)(function(e){var t=e.space,r=e.userCanEdit;return{space:t,userCanEdit:r}}),a=m.Connectors.database(function(e){var t=e.isShowingPlaceholder,r=e.space,n=e.draftID,i=e.userCanEdit;var o=t||i;if(!n||!o)return{};return{draft:y.Draft.queryByID({spaceID:r.uid,draftID:n}).defaultsTo(O.mockedDraft)}}),u=m.Connectors.database(function(e){var t=e.space,r=e.draft,n=e.draftID,i=e.revisionID;if(n&&!r)return{};var o=i||r&&r.revisionCurrent||t.primaryRevision;return{revision:y.Revision.queryByID({spaceID:t.uid,revisionID:o}).defaultsTo(O.mockedRevision)}}),s=m.Connectors.database(function(e){var t=e.draft,r=e.revision,n=e.revisionID,i=e.space;if(n)return r&&r.parents.size>0?{initialRevision:y.Revision.queryByID({spaceID:i.uid,revisionID:r.parents.first()}).defaultsTo(null)}:{};if(t)return{initialRevision:y.Revision.queryByID({spaceID:i.uid,revisionID:t.revisionInitial}).defaultsTo(null)};return{}}),i(c=o(c=a(c=u(c=s(c=(l=f=function(e){R(t,e);function t(){j(this,t);return x(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.userCanEdit,n=t.draftID,i=t.draft,o=t.draftFetched,a=t.revision,u=t.revisionFetched,s=t.initialRevision,c=t.initialRevisionFetched,f=t.isShowingPlaceholder;if(n&&!f&&!r)return d.createElement(w.default,{header:d.createElement(I.Header,{noMenu:true})},d.createElement(S.NeedLogin,null));if(o&&!i||i&&i.closedAt||u&&!a||c&&!s)return d.createElement(w.default,{header:d.createElement(I.Header,{noMenu:true})},d.createElement(g.ErrorPage.NotFound,null));return d.createElement(P.default,{revision:a,draft:i,initialRevision:s})};return t}(d.Component),f.defaultProps={draftID:void 0,revisionID:void 0},l))||c)||c)||c)||c)||c);t.default=C},2148:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,i,o,a,u,s;var c=r(0);var f=z(c);r(6);var l=r(5);var p=r(13);var d=r(2);var v=r(431);var h=r(10);var y=r(14);var m=r(3);var g=r(1);var _=r(807);var b=L(_);var w=r(31);var I=r(2149);var O=L(I);var S=r(838);var E=r(837);var P=L(E);var k=r(2150);var D=L(k);var j=r(19);var x=r(2184);var R=L(x);var C=r(2223);var T=L(C);var M=r(2623);var A=L(M);function L(e){return e&&e.__esModule?e:{default:e}}function z(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function U(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var q="content/";var F="You have unsaved changes, are you sure you want to discard them?";var H=function(e){U(t,e);function t(){N(this,t);return B(this,e.apply(this,arguments))}t.prototype.render=function e(){return f.createElement(P.default,{header:f.createElement(S.Header,null)},f.createElement(y.GAProvider.TrackView,null,f.createElement(y.ErrorPage.NotFound,null)))};return t}(f.Component);var W=(n=g.Skeleton.connectToSkeleton(function(e){var t=e.isLoading;return{isShowingPlaceholder:t}}),i=(0,l.connect)(function(e,t){var r=e.space,n=e.edition,i=e.userCanEdit,o=e.diff;var a=t.revision,u=t.initialRevision,s=t.contentContext,c=t.isShowingPlaceholder;var f=n.revision||a;var l=s.versionID?f.versions.get(s.versionID):f.primaryVersion;var p=l&&l.page.getByURL(s.pageURL);if(c){l||(l=f.primaryVersion);p||(p=l.page)}var d=void 0;o.active&&!n.isEditing&&u&&p&&(d=G({revision:f,initialRevision:u,version:l,page:p}));return{spaceID:r.uid,edition:n,workingRevision:f,page:p,userCanEdit:i,diffs:d,version:l}}),o=h.Connectors.database(function(e){var t=e.spaceID,r=e.page,n=e.version,i=e.contentContext,o=e.isShowingPlaceholder;if(o||r||!n)return{};return{pageRedirect:m.PageRedirect.queryByURL({spaceID:t,versionID:n.uid,url:i.pageURL}).setOptions({waitFetched:false,optimistic:false})}}),(0,j.contentRoutingConnect)(a=n(a=i(a=o(a=(0,p.withRouter)(a=(s=u=function(e){U(t,e);function t(){var r,n,i;N(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return i=(r=(n=B(this,e.call.apply(e,[this].concat(a))),n),n.onHistoryLeave=function(e){var t=n.props,r=t.contentContext,i=t.edition;if(e.state&&e.state.ignoreTransition)return null;var o=(0,j.getContentContext)(e.pathname);var a=r.editing&&!o.editing&&i.hasChanges&&!(0,y.isModal)(e);if(a)return F;return null},n.onBeforeUnload=function(){var e=n.props.edition;if(e.hasChanges)return F;return null},r),B(n,i)}t.prototype.componentDidMount=function e(){var t=this.props,r=t.contentContext,n=t.revision,i=t.dispatch;var o=this.props,a=o.history,u=o.isShowingPlaceholder;this.unblockHistory=a.block(this.onHistoryLeave);!u&&r.editing&&i((0,w.start)(n))};t.prototype.componentWillReceiveProps=function e(t){this.updateURL(t);this.updateEditingState(t)};t.prototype.componentWillUnmount=function e(){this.unblockHistory()};t.prototype.updateEditingState=function e(t){var r=t.dispatch,n=t.isShowingPlaceholder,i=t.revision;var o=t.contentContext.editing;var a=t.edition.isEditing;var u=this.props.revision;var s=this.props.contentContext.editing;if(n)return;if(u===i&&o===s&&o===a)return;o&&!a?r((0,w.start)(t.revision)):!o&&a&&r((0,w.cancel)())};t.prototype.updateURL=function e(t){var r=this.props,n=r.contentContext,i=r.navigate,o=r.version,a=r.page,u=r.isShowingPlaceholder;if(u||t.version===o||t.contentContext.pageURL!==n.pageURL||t.page||null==a)return;if(null==t.version){i({toPrimaryVersion:true});return}var s=t.version.page.getByID(a.uid);var c=void 0;if(null==s){var f=o.page.getParentOf(a);c=f&&f.isDocument?t.version.page.getURLOf(f):null}else c=t.version.page.getURLOf(s);i({toPage:c,toRootPage:!c})};t.prototype.render=function e(){var r;var n=t.STYLES;var i=this.props,o=i.edition,a=i.revision,u=i.draft,s=i.workingRevision,c=i.page,l=i.version,h=i.userCanEdit,m=i.diffs,_=i.pageRedirect,b=i.pageRedirectFetched,w=i.contentContext,I=i.isShowingPlaceholder;var E=o.isEditing;var k=!E;if(_){var x=l.page.getByID(_.pageID);if(!x)return f.createElement(H,null);var C=l.page.getURLOf(x);return f.createElement(p.Redirect,{to:(0,j.getContentRoute)(w,{toPage:C})})}if(!c&&w.pageURL.startsWith(q)){var M=w.pageURL.slice(q.length);return f.createElement(p.Redirect,{to:(0,j.getContentRoute)(w,{toPage:M})})}if(false!==b){if(!c)return f.createElement(H,null);if(c.isGroup){var L=c.pages.find(function(e){return e.isDocument});if(L)return f.createElement(p.Redirect,{to:(0,j.getContentRoute)(w,{toPage:l.page.getURLOf(L)})});return f.createElement(H,null)}}if(!I&&w.editing&&!h)return f.createElement(p.Redirect,{to:"/"+w.pageURL});var z=m||{},N=z.initialPage,B=z.versionDiffs,U=z.pageRootDiff;return f.createElement(P.default,{header:f.createElement(S.Header,null)},f.createElement(O.default,{onBeforeUnload:this.onBeforeUnload}),f.createElement(g.PlaceholderInteractionBlocker,{styles:[n.wholeContent]},f.createElement(v.StickyContainer,{className:(0,d.css)(n.wholeContentBody)},f.createElement(R.default,{readOnly:k,draft:u,currentPage:c,workingRevision:s,version:l,versionDiffs:B,pageRootDiff:U}),c&&f.createElement(y.GAProvider.TrackView,{dimensions:(r={},r[y.GAProvider.DIMENSIONS.REVISION]=a.uid,r[y.GAProvider.DIMENSIONS.VERSION]=l&&l.uid,r[y.GAProvider.DIMENSIONS.PAGE]=c.uid,r)},f.createElement(T.default,{initialPage:N,page:c,readOnly:k,revision:a,version:l,workingRevision:s}))),h&&f.createElement(A.default,null),f.createElement(D.default,{draft:u,revision:a})))};return t}(f.Component),u.defaultProps={pageURL:"/",draft:void 0,page:void 0},u.STYLES=d.StyleSheet.create({wholeContent:{width:"100%",minHeight:"100%",position:"relative",display:"flex",flexDirection:"column"},wholeContentBody:{flex:"1",display:"flex",alignItems:"stretch",transition:"margin-bottom ease 200ms"}}),s))||a)||a)||a)||a)||a);function G(e){var t=e.revision,r=e.initialRevision,n=e.version,i=e.page;var o=t.diffVersions(r);var a=void 0;if(n){var u=n.uid;var s=o.find(function(e){return e.uid===u});a=s&&s.original}var c=void 0;var f=void 0;if(n&&a){c=t.diffPages(a.page,n.page);if(i){var l=c.findByID(i.uid);f=l&&l.original}}return{versionDiffs:o,initialVersion:a,pageRootDiff:c,initialPage:f}}t.default=W},2149:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var i=o(n);function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(e){s(t,e);function t(){var r,n,i;a(this,t);for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return i=(r=(n=u(this,e.call.apply(e,[this].concat(s))),n),n.onBeforeUnload=function(e){var t=n.props.onBeforeUnload;var r=t(e);if(null==r)return null;e.returnValue=r;return r},r),u(n,i)}t.prototype.componentDidMount=function e(){window.addEventListener("beforeunload",this.onBeforeUnload)};t.prototype.componentWillUnmount=function e(){window.removeEventListener("beforeunload",this.onBeforeUnload)};t.prototype.render=function e(){return null};return t}(i.Component);t.default=c},2150:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(2151);Object.defineProperty(t,"default",{enumerable:true,get:function e(){return i(n).default}});function i(e){return e&&e.__esModule?e:{default:e}}},2184:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,i,o,a;var u=r(0);var s=m(u);var c=r(5);r(6);var f=r(2);r(3);var l=r(1);var p=r(7);var d=r(302);var v=r(72);var h=r(2185);var y=r(2195);function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=l.layout.CONTAINER_WIDTH+2*l.layout.CONTAINER_PADDING;var I=f.StyleSheet.create({contentSidebar:(n={},n["@media "+l.MEDIA.TABLET]={flex:"0 0 auto",background:l.colors.BG_BODY,display:"flex",flexDirection:"column",alignItems:"stretch",width:"calc((100% - "+w+"px) / 2 + "+v.layout.SIDEBAR_TOTAL_WIDTH+"px)",minWidth:v.layout.SIDEBAR_TOTAL_WIDTH,paddingLeft:"calc((100% - "+w+"px) / 2)",borderRight:"1px solid "+l.colors.BORDER_LIGHT},n),sidebarMobileHeader:(i={display:"flex",alignItems:"stretch",borderBottom:"1px solid "+l.boxes.BORDER_NORMAL,color:l.colors.TEXT_SECONDARY,height:"59px"},i["@media "+l.MEDIA.TABLET]={display:"none"},i),sidebarClose:{padding:l.boxes.PADDING_SMALL+"px "+l.boxes.PADDING_NORMAL+"px",fontSize:"24px",display:"flex",alignItems:"center",cursor:"pointer"}});var O=(o=(0,c.connect)(function(e){var t=e.sidebarExpanded;return{sidebarExpanded:t}}),o(a=function(e){b(t,e);function t(){var r,n,i;g(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return i=(r=(n=_(this,e.call.apply(e,[this].concat(a))),n),n.onClose=function(){var e=n.props.dispatch;e((0,d.close)())},r),_(n,i)}t.prototype.render=function e(){var t=this.props,r=t.sidebarExpanded,n=t.workingRevision,i=t.versionDiffs,o=t.pageRootDiff,a=t.version,u=t.currentPage,c=t.readOnly;return s.createElement("div",{className:(0,f.css)(I.contentSidebar)},s.createElement("div",{role:"presentation",className:(0,f.css)(l.sidebar.overlay,!r&&l.sidebar.overlayHidden),onClick:this.onClose}),s.createElement("div",{className:(0,f.css)(l.sidebar.content,!r&&l.sidebar.hiddenOnMobile)},s.createElement(y.NavigationWrapper,null,s.createElement("div",{className:(0,f.css)(I.sidebarMobileHeader)},s.createElement("div",{role:"button",tabIndex:-1,className:(0,f.css)(I.sidebarClose),onClick:this.onClose},s.createElement(p.IconArrowLeft,null))),s.createElement(h.VersionPicker,{revision:n,currentVersion:a,versionDiffs:i,readOnly:c}),s.createElement(y.PagesNavigation,{version:a,pageRootDiff:o,currentPage:u,readOnly:c}))))};return t}(s.Component))||a);t.default=O},222:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.mockedDraft=t.mockedEditorState=t.mockedRevision=t.mockedDocument=t.mockedSpace=t.mockedOrg=void 0;var n=r(3);var i=r(1);var o=r(1941);var a=new Date(1517003835350);var u=n.Organization.create({name:i.Text.transformStringToPlaceholder("Some Team"),createdAt:a});var s=n.Space.create({name:i.Text.transformStringToPlaceholder("Some Space"),createdAt:a});var c=n.Page.create({title:"Loading",documentURL:"fake",createdAt:a,lastModifiedAt:a,modifiedBy:["fakeuser","fakeuser2"],pages:[n.Page.create({title:i.Text.transformStringToPlaceholder("Lorem ipsum")}),n.Page.create({title:i.Text.transformStringToPlaceholder("Consectetur adipiscing")}),n.Page.create({title:i.Text.transformStringToPlaceholder("Lorem ipsum")}),n.Page.create({title:i.Text.transformStringToPlaceholder("Consectetur adipiscing")}),n.Page.create({title:i.Text.transformStringToPlaceholder("Lorem and ipsum")})]});var f=n.Version.create({page:c});var l=n.Revision.create({createdAt:a,versions:n.Version.createVersions([f])});var p=n.Draft.create({revisionInitial:"fakerevision",createdBy:"fakeuser",createdAt:a,lastModifiedAt:a,title:i.Text.transformStringToPlaceholder("Lorem ispum dolor")});t.mockedOrg=u;t.mockedSpace=s;t.mockedDocument=o.mockedDocument;t.mockedRevision=l;t.mockedEditorState=o.mockedEditorState;t.mockedDraft=p},2223:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,i,o,a,u,s,c,f;var l=r(0);var p=R(l);var d=r(6);var v=r(5);var h=r(431);var y=r(2);var m=r(3);var g=r(1);var _=r(72);var b=r(19);var w=r(31);var I=r(851);var O=r(2607);var S=R(O);var E=r(2608);var P=R(E);var k=r(2616);var D=R(k);var j=r(2622);var x=R(j);function R(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function M(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var A=(n=(0,v.connect)(function(e){var t=e.user;return{isLoggedIn:t.isLoggedIn}}),i=(0,I.connectDocument)(function(e){var t=e.page,r=e.version;return{page:t,version:r}},function(e){var t=e.editorState;return{editorState:t}}),o=(0,I.connectDocument)(function(e){var t=e.initialPage;return{page:t}},function(e){var t=e.editorState;return{initialState:t}}),a=g.Skeleton.connectToSkeleton(function(e){var t=e.isLoading;return{isShowingPlaceholder:t}}),n(u=i(u=o(u=(0,b.contentRoutingConnect)(u=a(u=(c=s=function(e){M(t,e);function t(){var r,n,i;C(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return i=(r=(n=T(this,e.call.apply(e,[this].concat(a))),n),n.updateEditorState=function(e){var t=n.props.editorState;n.onChange(e(t.change()))},n.onChange=function(e){var t=n.props,r=t.version,i=t.page,o=t.dispatch,a=t.editorState,u=t.isShowingPlaceholder;if(u)return;o((0,w.updateEditorState)(r,i,a,e.value))},r),T(n,i)}t.prototype.computeHeadingIDs=function e(t){var r=m.Edition.Heading.getHeadingIDs(t);(0,d.is)(r,this.cacheHeadingIDs)||(this.cacheHeadingIDs=r);return this.cacheHeadingIDs};t.prototype.computeSections=function e(t,r){var n=m.Edition.Section.getSections(t,r).filter(function(e){var t=e.title;return Boolean(t)}).map(function(e){return e.set("nodes",(0,d.List)())});(0,d.is)(n,this.cacheSections)||(this.cacheSections=n);return this.cacheSections};t.prototype.render=function e(){var r=this.props,n=r.contentContext,i=r.editorState,o=r.initialState,a=r.readOnly,u=r.page,s=r.revision,c=r.version,f=r.workingRevision,l=r.isShowingPlaceholder,d=r.isLoggedIn;var v=t.STYLES;var _=void 0;o&&!l&&(_=s.diffDocuments(o.document,i.document));var b=this.computeHeadingIDs(i.document);var w=this.computeSections(i.document,b);return p.default.createElement(g.PlaceholderInteractionBlocker,{styles:[v.wholeContent,d?v.contentWithControlsBar:v.contentWithoutControlsBar]},p.default.createElement(h.StickyContainer,{className:(0,y.css)(v.wholeContentSticky)},p.default.createElement(g.View,{styles:v.pageContainer},p.default.createElement(S.default,{page:u,contentContext:n}),p.default.createElement(P.default,{readOnly:a,version:c,page:u,isEmptyDocument:m.Edition.isEmptyDocument(i.document),updateEditorState:this.updateEditorState,sections:w}),p.default.createElement(D.default,{version:c,page:u,pageURL:n.pageURL,revision:f||s,readOnly:a,headingIDs:b,editorState:_||i,isDiff:Boolean(_),isShowingPlaceholder:l,onChange:this.onChange})),p.default.createElement(x.default,{sections:w,version:c,page:u,readOnly:a})))};return t}(p.default.Component),s.STYLES=y.StyleSheet.create({wholeContent:{flex:"1 1 auto",minWidth:0,display:"flex",flexDirection:"column",background:"#fff",maxWidth:"100%"},contentWithControlsBar:{paddingBottom:_.layout.CONTROLSBAR_HEIGHT+2*g.spacing.S300},contentWithoutControlsBar:{paddingBottom:g.spacing.S800},wholeContentSticky:{flex:"1 1 auto",minWidth:0,display:"flex",position:"relative"},pageContainer:(f={flex:"1 1 auto",minWidth:0,maxWidth:g.layout.BODY_WIDTH,margin:"0px "+g.spacing.S200+"px"},f["@media "+g.MEDIA.MOBILE_LANDSCAPE]={margin:"0px "+g.spacing.S300+"px"},f["@media "+g.MEDIA.DESKTOP]={margin:"0px "+g.spacing.S900+"px"},f)}),c))||u)||u)||u)||u)||u);t.default=A},26:function(e,t,r){t.__esModule=true;t.Helmet=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var o=r(0);var a=h(o);var u=r(1954);var s=h(u);var c=r(1959);var f=h(c);var l=r(1962);var p=h(l);var d=r(1965);var v=r(810);function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=function e(t){var r,o;return o=r=function(e){_(r,e);function r(){m(this,r);return g(this,e.apply(this,arguments))}r.prototype.shouldComponentUpdate=function e(t){return!(0,p.default)(this.props,t)};r.prototype.mapNestedChildrenToProps=function e(t,r){if(!r)return null;switch(t.type){case v.TAG_NAMES.SCRIPT:case v.TAG_NAMES.NOSCRIPT:return{innerHTML:r};case v.TAG_NAMES.STYLE:return{cssText:r}}throw new Error("<"+t.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")};r.prototype.flattenArrayTypeChildren=function e(t){var r;var i=t.child,o=t.arrayTypeChildren,a=t.newChildProps,u=t.nestedChildren;return n({},o,(r={},r[i.type]=[].concat(o[i.type]||[],[n({},a,this.mapNestedChildrenToProps(i,u))]),r))};r.prototype.mapObjectTypeChildren=function e(t){var r,i;var o=t.child,a=t.newProps,u=t.newChildProps,s=t.nestedChildren;switch(o.type){case v.TAG_NAMES.TITLE:return n({},a,(r={},r[o.type]=s,r.titleAttributes=n({},u),r));case v.TAG_NAMES.BODY:return n({},a,{bodyAttributes:n({},u)});case v.TAG_NAMES.HTML:return n({},a,{htmlAttributes:n({},u)})}return n({},a,(i={},i[o.type]=n({},u),i))};r.prototype.mapArrayTypeChildrenToProps=function e(t,r){var i=n({},r);Object.keys(t).forEach(function(e){var r;i=n({},i,(r={},r[e]=t[e],r))});return i};r.prototype.warnOnInvalidChildren=function e(t,r){false;return true};r.prototype.mapChildrenToProps=function e(t,r){var n=this;var i={};a.default.Children.forEach(t,function(e){if(!e||!e.props)return;var t=e.props,o=t.children,a=y(t,["children"]);var u=(0,d.convertReactPropstoHtmlAttributes)(a);n.warnOnInvalidChildren(e,o);switch(e.type){case v.TAG_NAMES.LINK:case v.TAG_NAMES.META:case v.TAG_NAMES.NOSCRIPT:case v.TAG_NAMES.SCRIPT:case v.TAG_NAMES.STYLE:i=n.flattenArrayTypeChildren({child:e,arrayTypeChildren:i,newChildProps:u,nestedChildren:o});break;default:r=n.mapObjectTypeChildren({child:e,newProps:r,newChildProps:u,nestedChildren:o});break}});r=this.mapArrayTypeChildrenToProps(i,r);return r};r.prototype.render=function e(){var r=this.props,i=r.children,o=y(r,["children"]);var u=n({},o);i&&(u=this.mapChildrenToProps(i,u));return a.default.createElement(t,u)};i(r,null,[{key:"canUseDOM",set:function e(r){t.canUseDOM=r}}]);return r}(a.default.Component),r.propTypes={base:s.default.object,bodyAttributes:s.default.object,children:s.default.oneOfType([s.default.arrayOf(s.default.node),s.default.node]),defaultTitle:s.default.string,defer:s.default.bool,encodeSpecialCharacters:s.default.bool,htmlAttributes:s.default.object,link:s.default.arrayOf(s.default.object),meta:s.default.arrayOf(s.default.object),noscript:s.default.arrayOf(s.default.object),onChangeClientState:s.default.func,script:s.default.arrayOf(s.default.object),style:s.default.arrayOf(s.default.object),title:s.default.string,titleAttributes:s.default.object,titleTemplate:s.default.string},r.defaultProps={defer:true,encodeSpecialCharacters:true},r.peek=t.peek,r.rewind=function(){var e=t.rewind();e||(e=(0,d.mapStateOnServer)({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:true,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}));return e},o};var w=function e(){return null};var I=(0,f.default)(d.reducePropsToState,d.handleClientStateChange,d.mapStateOnServer)(w);var O=b(I);O.renderStatic=O.rewind;t.Helmet=O;t.default=O},2623:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var i=f(n);var o=r(505);var a=c(o);var u=r(48);var s=c(u);function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=(0,s.default)({loader:function e(){return Promise.resolve().then(function(){return r(926)})},modules:["./EditSessionBackup"],webpack:function e(){return[926]},loading:function e(){return null}});var h=function(e){d(t,e);function t(){l(this,t);return p(this,e.apply(this,arguments))}t.prototype.render=function e(){return i.createElement(a.default,null,i.createElement(v,null))};return t}(i.Component);t.default=h},2624:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.clearBackup=t.hasBackup=t.backupWorkingState=t.restoreWorkingState=t.initialize=void 0;var n=function(){var e=y(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return m.open();case 2:case"end":return t.stop()}},e,this)}));return function t(){return e.apply(this,arguments)}}();var i=function(){var e=y(regeneratorRuntime.mark(function e(t,r,n){var i;return regeneratorRuntime.wrap(function e(o){while(1)switch(o.prev=o.next){case 0:i=[];n.forEachDocument(function(e){var n=e.pageID,o=e.versionID,a=e.document;var u=r.getDocument(o,n);if(u==a)return;g("backup document "+o+" / "+n);i.push(m.documents.put({spaceID:t,versionID:o,pageID:n,document:v.Edition.serializeDocument(a,{normalize:false})}))});o.next=4;return Promise.all(i);case 4:case"end":return o.stop()}},e,this)}));return function t(r,n,i){return e.apply(this,arguments)}}();var o=function(){var e=y(regeneratorRuntime.mark(function e(t,r,n){var i;return regeneratorRuntime.wrap(function e(o){while(1)switch(o.prev=o.next){case 0:i=[];n.forEach(function(e,n){var o=r.get(n);if(!e.buffer||o==e)return;g("backup asset "+n);i.push(m.assets.put({spaceID:t,assetID:n,buffer:e.buffer}))});o.next=4;return Promise.all(i);case 4:case"end":return o.stop()}},e,this)}));return function t(r,n,i){return e.apply(this,arguments)}}();var a=function(){var e=y(regeneratorRuntime.mark(function e(t,r,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return regeneratorRuntime.wrap(function e(u){while(1)switch(u.prev=u.next){case 0:g("backup edition for space "+t+" with context",a);if(!(r.documents!=n.documents)){u.next=4;break}u.next=4;return i(t,r.documents,n.documents);case 4:if(!(r.revision.assets!=n.revision.assets)){u.next=7;break}u.next=7;return o(t,r.revision.assets,n.revision.assets);case 7:if(!(r.base!==n.base||r.revision!==n.base)){u.next=11;break}g("backup revision "+n.revision.uid);u.next=11;return m.states.put({spaceID:t,base:n.base.serialize(),revision:n.revision.serialize(),context:a,lastBackupAt:new Date});case 11:case"end":return u.stop()}},e,this)}));return function t(r,n,i){return e.apply(this,arguments)}}();var u=function(){var e=y(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function e(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return m.states.where("spaceID").equals(t).first();case 2:r=i.sent;if(r){i.next=5;break}throw new Error("No backup to restore");case 5:n=new v.WorkingState({base:v.Revision.deserialize(r.base),revision:v.Revision.deserialize(r.revision)});i.next=8;return m.assets.where("spaceID").equals(t).each(function(e){var t=e.assetID,r=e.buffer;var i=n,o=i.revision;var a=o.assets.get(t);g("restore asset "+t+":",a);if(!a)return;var u=new Blob([r],{type:a.type});var s=URL.createObjectURL(u);a=a.merge({buffer:r,downloadURL:s,blobSize:r.byteLength});o=o.merge({assets:o.assets.set(t,a)});n=n.merge({revision:o})});case 8:i.next=10;return m.documents.where("spaceID").equals(t).each(function(e){var t=e.pageID,r=e.versionID,i=e.document;g("restore document "+t+" / "+r);var o=v.Edition.deserializeDocument(i);n=n.merge({documents:n.documents.setDocument(r,t,o)})});case 10:return i.abrupt("return",{state:n,context:r.context});case 11:case"end":return i.stop()}},e,this)}));return function t(r){return e.apply(this,arguments)}}();var s=function(){var e=y(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function e(n){while(1)switch(n.prev=n.next){case 0:n.next=2;return m.states.where("spaceID").equals(t).first();case 2:r=n.sent;return n.abrupt("return",r?{lastBackupAt:r.lastBackupAt}:null);case 4:case"end":return n.stop()}},e,this)}));return function t(r){return e.apply(this,arguments)}}();var c=function(){var e=y(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:g("clear backup for "+t);r.next=3;return Promise.all([m.states.where("spaceID").equals(t).delete(),m.documents.where("spaceID").equals(t).delete(),m.assets.where("spaceID").equals(t).delete()]);case 3:case"end":return r.stop()}},e,this)}));return function t(r){return e.apply(this,arguments)}}();var f=r(44);var l=h(f);var p=r(2625);var d=h(p);var v=r(3);function h(e){return e&&e.__esModule?e:{default:e}}function y(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(i,o){try{var a=t[i](o);var u=a.value}catch(e){r(e);return}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}var m=new d.default("editBackups");var g=(0,l.default)("editbackup");m.version(1).stores({documents:"[spaceID+versionID+pageID],spaceID,versionID,pageID,document",assets:"[spaceID+assetID],spaceID,assetID,buffer",states:"spaceID,base,revision,context,lastBackupAt"});t.initialize=n;t.restoreWorkingState=u;t.backupWorkingState=a;t.hasBackup=s;t.clearBackup=c},2626:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var i=s(n);var o=r(12);var a=r(7);var u=r(1);function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){l(t,e);function t(){var r,n,i;c(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return i=(r=(n=f(this,e.call.apply(e,[this].concat(a))),n),n.onClose=function(){},r),f(n,i)}t.prototype.render=function e(){var t=this.props,r=t.backup,n=t.onRestore,s=t.onDoNotRestore;return i.createElement(u.ColorPalette.Brand,null,i.createElement(u.Popup,{onClose:this.onClose},i.createElement(u.Modal,{size:u.Modal.SIZES.medium},i.createElement(u.Modal.Header,null,i.createElement(u.Modal.Title,null,"Resume last editing session?")),i.createElement(u.Modal.Body,null,i.createElement(u.Alert,{icon:i.createElement(a.IconInfoCircle,null),styles:[u.Alert.STYLES.info]},"Session from"," ",i.createElement(o.FormattedRelative,{value:r.lastBackupAt})),i.createElement(u.View,null,i.createElement(u.Text.TextH400,null,"There were unsaved changes during your last editing session. You can restore these changes and resume editing, or discard them."))),i.createElement(u.Modal.Footer,null,i.createElement(u.View,null,i.createElement(u.Button,{kind:"cancel",onClick:s},"Discard")),i.createElement(u.View,null,i.createElement(u.Button,{kind:"primary",onClick:n},"Restore"))))))};return t}(i.Component);t.default=p},2627:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var i=u(n);var o=r(7);var a=r(1);function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(e){f(t,e);function t(){s(this,t);return c(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props.onClose;return i.createElement(a.ColorPalette.Brand,null,i.createElement(a.Popup,{onClose:this.onClose},i.createElement(a.Modal,{size:a.Modal.SIZES.medium},i.createElement(a.Modal.Header,null,i.createElement(a.Modal.Title,null,"Error while restoring")),i.createElement(a.Modal.Body,null,i.createElement(a.Alert,{icon:i.createElement(o.IconAlert,null),styles:[a.Alert.STYLES.danger]},"Your last editing session could not be restored because of an error. Our team has been notified.")),i.createElement(a.Modal.Footer,null,i.createElement(a.View,null,i.createElement(a.Button,{kind:"cancel",onClick:t},"Dismiss"))))))};return t}(i.Component);t.default=l},2924:function(e,t,r){var n=r(0);var i=r(9).default;function o(e){return n.createElement(i,Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",stroke:"currentColor",fill:"none"},e||{}),n.createElement("g",{dangerouslySetInnerHTML:{__html:'<line x1="17" y1="10" x2="3" y2="10"/><line x1="21" y1="6" x2="3" y2="6"/><line x1="21" y1="14" x2="3" y2="14"/><line x1="17" y1="18" x2="3" y2="18"/>'}}))}e.exports=o},2925:function(e,t,r){var n=r(0);var i=r(9).default;function o(e){return n.createElement(i,Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",stroke:"currentColor",fill:"none"},e||{}),n.createElement("g",{dangerouslySetInnerHTML:{__html:'<line x1="18" y1="10" x2="6" y2="10"/><line x1="21" y1="6" x2="3" y2="6"/><line x1="21" y1="14" x2="3" y2="14"/><line x1="18" y1="18" x2="6" y2="18"/>'}}))}e.exports=o},3:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.BILLING=t.ROLES=t.DEFAULT_DOCUMENT=t.DOC_MARKS=t.DOC_INLINES=t.DOC_BLOCKS=t.DocumentsIndex=t.WorkingState=t.WorkingChange=t.DiffChange=t.Diffing=t.Revisioning=t.Edition=void 0;var n=r(132);Object.keys(n).forEach(function(e){if("default"===e||"__esModule"===e)return;Object.defineProperty(t,e,{enumerable:true,get:function t(){return n[e]}})});var i=r(277);var o=O(i);var a=r(1555);var u=O(a);var s=r(276);var c=I(s);var f=r(25);var l=O(f);var p=r(212);var d=O(p);var v=r(213);var h=O(v);var y=r(726);var m=O(y);var g=r(161);var _=O(g);var b=r(720);var w=I(b);function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function O(e){return e&&e.__esModule?e:{default:e}}var S=c.DiffChange;t.Edition=o.default;t.Revisioning=u.default;t.Diffing=c;t.DiffChange=S;t.WorkingChange=a.WorkingChange;t.WorkingState=a.WorkingState;t.DocumentsIndex=a.DocumentsIndex;t.DOC_BLOCKS=l.default;t.DOC_INLINES=d.default;t.DOC_MARKS=h.default;t.DEFAULT_DOCUMENT=m.default;t.ROLES=_.default;t.BILLING=w},302:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.close=t.open=t.toggle=void 0;var n=r(71);var i=o(n);function o(e){return e&&e.__esModule?e:{default:e}}function a(){return function(e,t){var r=t(),n=r.sidebarExpanded;e(n?s():u())}}function u(){return{type:i.default.SIDEBAR_OPEN}}function s(){return{type:i.default.SIDEBAR_CLOSE}}t.toggle=a;t.open=u;t.close=s},31:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.redo=t.undo=t.updateVersionTitle=t.updateVersionRef=t.markVersionAsPrimary=t.removeVersion=t.moveVersion=t.createVersion=t.createAsset=t.updateEditorState=t.movePage=t.removePage=t.updatePageTitle=t.updatePagePath=t.updatePage=t.createPageGroup=t.createPageLink=t.createPage=t.closeDraft=t.publishDraft=t.createDraft=t.saveDraft=t.resume=t.rollback=t.publish=t.cancel=t.trackCancel=t.start=void 0;var n=r(3);var i=r(71);var o=u(i);var a=r(466);function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(i,o){try{var a=t[i](o);var u=a.value}catch(e){r(e);return}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}function c(e){return function(t,r,n){var i=n.analytics;var a=r(),u=a.org,s=a.space;i.trackStartEditing(u,s);t({type:o.default.EDITION_START,base:e})}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,r,n){var i=n.analytics;var o=r(),a=o.org,u=o.space,s=o.edition;var c=s.isEditing,f=s.working;if(!c)return;i.trackCancelEdits({org:a,space:u,working:f,isDraft:!!e.draft})}}function l(){return{type:o.default.EDITION_CANCEL}}function p(e){var t=this;return function(){var r=s(regeneratorRuntime.mark(function r(n,i,a){var u,s,c;return regeneratorRuntime.wrap(function t(r){while(1)switch(r.prev=r.next){case 0:u=i(),s=u.org,c=u.space;n({type:o.default.EDITION_RESTORE,state:e});a.analytics.trackResumeEditing({org:s,space:c,working:e});case 3:case"end":return r.stop()}},r,t)}));return function(e,t,n){return r.apply(this,arguments)}}()}function d(){var e=this;var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){var r=s(regeneratorRuntime.mark(function r(n,i,o){var u,s,c,f,l,p,d,v,h,y,m;return regeneratorRuntime.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:u=i(),s=u.org,c=u.space,f=u.edition,l=u.documents,p=u.user;d=f.isEditing,v=f.working;if(!(!c||!p||!d)){r.next=4;break}return r.abrupt("return");case 4:h=v.change().clearUnchangedDocuments(l);r.next=7;return h.commit({user:p,backend:o,space:c,draft:t.draft});case 7:y=r.sent;m={};v.documents.forEachDocument(function(e){var t=e.pageID,r=e.versionID,n=e.document;var i=y.versions.get(r);if(!i)return;var o=i.page.getByID(t);if(!o)return;m[o.documentURL]=n});n((0,a.fetchedDocuments)(m));o.analytics.trackPublishChanges({org:s,space:c,working:v,isDraft:Boolean(t.draft)});case 12:case"end":return r.stop()}},r,e)}));return function(e,t,n){return r.apply(this,arguments)}}()}function v(){return function(e){return e(d())}}function h(e,t){var r=this;return function(){var n=s(regeneratorRuntime.mark(function n(i,o,a){var u,s,c,f;return regeneratorRuntime.wrap(function r(n){while(1)switch(n.prev=n.next){case 0:u=o(),s=u.org,c=u.user,f=u.space;n.next=3;return a.database.commit(e.toRollbackUpdate({user:c,space:f,draft:t}));case 3:a.analytics.trackRollback(s,f,Boolean(t));case 4:case"end":return n.stop()}},n,r)}));return function(e,t,r){return n.apply(this,arguments)}}()}function y(e){var t=this;return function(){var r=s(regeneratorRuntime.mark(function r(n,i,o){return regeneratorRuntime.wrap(function t(r){while(1)switch(r.prev=r.next){case 0:r.next=2;return n(d({draft:e}));case 2:case"end":return r.stop()}},r,t)}));return function(e,t,n){return r.apply(this,arguments)}}()}function m(e){var t=this;var r=e.title;return function(){var e=s(regeneratorRuntime.mark(function e(i,o,a){var u,s,c,f,l,p,v;return regeneratorRuntime.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:u=o(),s=u.org,c=u.user,f=u.space;l=f.primaryRevision;p=n.Draft.create({revisionInitial:l,createdBy:c.uid,title:r});t.next=5;return a.database.commit(p.toCreateUpdate(f.uid));case 5:t.next=7;return i(d({draft:p}));case 7:v=t.sent;a.analytics.trackCreateDraft(s,f);return t.abrupt("return",p.merge({revisionCurrent:v}));case 10:case"end":return t.stop()}},e,t)}));return function(t,r,n){return e.apply(this,arguments)}}()}function g(e){var t=this;return function(){var r=s(regeneratorRuntime.mark(function r(n,i,o){var a,u,s;return regeneratorRuntime.wrap(function t(r){while(1)switch(r.prev=r.next){case 0:a=i(),u=a.org,s=a.space;r.next=3;return o.database.commit(e.markAsClosed().toUpdate(s.uid));case 3:o.analytics.trackCloseDraft(u,s);case 4:case"end":return r.stop()}},r,t)}));return function(e,t,n){return r.apply(this,arguments)}}()}function _(e){var t=this;return function(){var r=s(regeneratorRuntime.mark(function r(i,o,a){var u,s,c,f,l,p,d,v,h,y,m,g,_;return regeneratorRuntime.wrap(function t(r){while(1)switch(r.prev=r.next){case 0:u=o(),s=u.org,c=u.space,f=u.user;l=c.primaryRevision;p=e.revisionCurrent;d=e.revisionInitial;r.next=6;return Promise.all([l,p,d].map(function(e){return a.database.getDocument(n.Revision.queryByID({spaceID:c.uid,revisionID:e}))}));case 6:v=r.sent;h=v[0];y=v[1];m=v[2];g=n.Revisioning.merge(m,h,y).authorizeAs(f);_=e.merge({revisionBase:l,revisionMerged:g.uid});r.next=14;return a.database.commit(g.toCommitUpdate({space:c}).merge(_.toCreateUpdate(c.uid)));case 14:a.analytics.trackPublishDraft(s,c);return r.abrupt("return",{revision:g,draft:_});case 16:case"end":return r.stop()}},r,t)}));return function(e,t,n){return r.apply(this,arguments)}}()}function b(e,t){return{type:o.default.EDITION_PAGE_UPDATE,version:e,page:t}}function w(e,t,r){return{type:o.default.EDITION_PAGE_UPDATE_PATH,version:e,page:t,path:r}}function I(e,t,r){return{type:o.default.EDITION_PAGE_UPDATE_TITLE,version:e,page:t,title:r}}function O(e,t){return function(r,i){var a=n.Page.createUntitled(t);r({type:o.default.EDITION_PAGE_CREATE,version:e,parent:t,page:a});var u=i(),s=u.edition;var c=s.revision.versions.get(e.uid);var f=c.page.getURLOf(a);return{url:f}}}function S(e,t,r){var i=e.title,a=e.href;var u=n.Page.createLink({title:i,href:a});return{type:o.default.EDITION_PAGE_CREATE,version:t,parent:r,page:u}}function E(e,t,r){var i=e.title;var a=n.Page.normalizePath(i);var u=n.Page.createGroup({title:i,path:r.getNewPath(a)});return{type:o.default.EDITION_PAGE_CREATE,version:t,parent:r,page:u}}function P(e,t){return{type:o.default.EDITION_PAGE_REMOVE,version:e,page:t}}function k(e,t,r,n){return{type:o.default.EDITION_PAGE_MOVE,version:e,page:t,parent:r,index:n}}function D(e,t,r,n){return{type:o.default.EDITION_EDITORSTATE_UPDATE,version:e,page:t,prevEditor:r,editorState:n}}function j(e){return{type:o.default.EDITION_ASSET_CREATE,asset:e}}function x(e){return{type:o.default.EDITION_VERSION_CREATE,version:e}}function R(e){return{type:o.default.EDITION_VERSION_REMOVE,version:e}}function C(e,t){return{type:o.default.EDITION_VERSION_UPDATE_REF,version:e,ref:t}}function T(e,t){return{type:o.default.EDITION_VERSION_UPDATE_TITLE,version:e,title:t}}function M(e){return{type:o.default.EDITION_VERSION_SETPRIMARY,version:e}}function A(e,t){return{type:o.default.EDITION_VERSION_MOVE,oldIndex:e,newIndex:t}}function L(){return{type:o.default.EDITION_UNDO}}function z(){return{type:o.default.EDITION_REDO}}t.start=c;t.trackCancel=f;t.cancel=l;t.publish=v;t.rollback=h;t.resume=p;t.saveDraft=y;t.createDraft=m;t.publishDraft=_;t.closeDraft=g;t.createPage=O;t.createPageLink=S;t.createPageGroup=E;t.updatePage=b;t.updatePagePath=w;t.updatePageTitle=I;t.removePage=P;t.movePage=k;t.updateEditorState=D;t.createAsset=j;t.createVersion=x;t.moveVersion=A;t.removeVersion=R;t.markVersionAsPrimary=M;t.updateVersionRef=C;t.updateVersionTitle=T;t.undo=L;t.redo=z},431:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Channel=t.StickyContainer=t.Sticky=void 0;var n=r(1891);var i=c(n);var o=r(1896);var a=c(o);var u=r(802);var s=c(u);function c(e){return e&&e.__esModule?e:{default:e}}t.Sticky=i.default;t.StickyContainer=a.default;t.Channel=s.default;t.default=i.default},459:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SettingsTab=t.SettingsNavigation=void 0;var n=r(1998);var i=c(n);var o=r(823);var a=c(o);var u=r(836);var s=c(u);function c(e){return e&&e.__esModule?e:{default:e}}t.default=i.default;t.SettingsNavigation=a.default;t.SettingsTab=s.default},505:function(e,t,r){e.exports=r(2619)},572:function(e,t,r){"use strict";t.__esModule=true;function n(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(i){if("function"===typeof i)return i(r,n,e);return t(i)}}}}var i=n();i.withExtraArgument=n;t["default"]=i},573:function(e,t,r){(function(e){!function(e,r){r(t)}(this,function(t){"use strict";function r(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function n(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function i(e,t,r){i.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:r,enumerable:!0})}function o(e,t){o.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function a(e,t){a.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function u(e,t,r){u.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:r,enumerable:!0})}function s(e,t,r){var n=e.slice((r||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,n),e}function c(e){var t="undefined"==typeof e?"undefined":x(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function f(e,t,r,n,l,p,d){l=l||[],d=d||[];var v=l.slice(0);if("undefined"!=typeof p){if(n){if("function"==typeof n&&n(v,p))return;if("object"===("undefined"==typeof n?"undefined":x(n))){if(n.prefilter&&n.prefilter(v,p))return;if(n.normalize){var h=n.normalize(v,p,e,t);h&&(e=h[0],t=h[1])}}}v.push(p)}"regexp"===c(e)&&"regexp"===c(t)&&(e=e.toString(),t=t.toString());var y="undefined"==typeof e?"undefined":x(e),m="undefined"==typeof t?"undefined":x(t),g="undefined"!==y||d&&d[d.length-1].lhs&&d[d.length-1].lhs.hasOwnProperty(p),_="undefined"!==m||d&&d[d.length-1].rhs&&d[d.length-1].rhs.hasOwnProperty(p);if(!g&&_)r(new o(v,t));else if(!_&&g)r(new a(v,e));else if(c(e)!==c(t))r(new i(v,e,t));else if("date"===c(e)&&e-t!==0)r(new i(v,e,t));else if("object"===y&&null!==e&&null!==t)if(d.filter(function(t){return t.lhs===e}).length)e!==t&&r(new i(v,e,t));else{if(d.push({lhs:e,rhs:t}),Array.isArray(e)){var b;e.length;for(b=0;b<e.length;b++)b>=t.length?r(new u(v,b,new a(void 0,e[b]))):f(e[b],t[b],r,n,v,b,d);for(;b<t.length;)r(new u(v,b,new o(void 0,t[b++])))}else{var w=Object.keys(e),I=Object.keys(t);w.forEach(function(i,o){var a=I.indexOf(i);a>=0?(f(e[i],t[i],r,n,v,i,d),I=s(I,a)):f(e[i],void 0,r,n,v,i,d)}),I.forEach(function(e){f(void 0,t[e],r,n,v,e,d)})}d.length=d.length-1}else e!==t&&("number"===y&&isNaN(e)&&isNaN(t)||r(new i(v,e,t)))}function l(e,t,r,n){return n=n||[],f(e,t,function(e){e&&n.push(e)},r),n.length?n:void 0}function p(e,t,r){if(r.path&&r.path.length){var n,i=e[t],o=r.path.length-1;for(n=0;n<o;n++)i=i[r.path[n]];switch(r.kind){case"A":p(i[r.path[n]],r.index,r.item);break;case"D":delete i[r.path[n]];break;case"E":case"N":i[r.path[n]]=r.rhs}}else switch(r.kind){case"A":p(e[t],r.index,r.item);break;case"D":e=s(e,t);break;case"E":case"N":e[t]=r.rhs}return e}function d(e,t,r){if(e&&t&&r&&r.kind){for(var n=e,i=-1,o=r.path?r.path.length-1:0;++i<o;)"undefined"==typeof n[r.path[i]]&&(n[r.path[i]]="number"==typeof r.path[i]?[]:{}),n=n[r.path[i]];switch(r.kind){case"A":p(r.path?n[r.path[i]]:n,r.index,r.item);break;case"D":delete n[r.path[i]];break;case"E":case"N":n[r.path[i]]=r.rhs}}}function v(e,t,r){if(r.path&&r.path.length){var n,i=e[t],o=r.path.length-1;for(n=0;n<o;n++)i=i[r.path[n]];switch(r.kind){case"A":v(i[r.path[n]],r.index,r.item);break;case"D":i[r.path[n]]=r.lhs;break;case"E":i[r.path[n]]=r.lhs;break;case"N":delete i[r.path[n]]}}else switch(r.kind){case"A":v(e[t],r.index,r.item);break;case"D":e[t]=r.lhs;break;case"E":e[t]=r.lhs;break;case"N":e=s(e,t)}return e}function h(e,t,r){if(e&&t&&r&&r.kind){var n,i,o=e;for(i=r.path.length-1,n=0;n<i;n++)"undefined"==typeof o[r.path[n]]&&(o[r.path[n]]={}),o=o[r.path[n]];switch(r.kind){case"A":v(o[r.path[n]],r.index,r.item);break;case"D":o[r.path[n]]=r.lhs;break;case"E":o[r.path[n]]=r.lhs;break;case"N":delete o[r.path[n]]}}}function y(e,t,r){if(e&&t){var n=function(n){r&&!r(e,t,n)||d(e,t,n)};f(e,t,n)}}function m(e){return"color: "+T[e].color+"; font-weight: bold"}function g(e){var t=e.kind,r=e.path,n=e.lhs,i=e.rhs,o=e.index,a=e.item;switch(t){case"E":return[r.join("."),n,"",i];case"N":return[r.join("."),i];case"D":return[r.join(".")];case"A":return[r.join(".")+"["+o+"]",a];default:return[]}}function _(e,t,r,n){var i=l(e,t);try{n?r.groupCollapsed("diff"):r.group("diff")}catch(e){r.log("diff")}i?i.forEach(function(e){var t=e.kind,n=g(e);r.log.apply(r,["%c "+T[t].text,m(t)].concat(R(n)))}):r.log(" no diff ");try{r.groupEnd()}catch(e){r.log(" diff end  ")}}function b(e,t,r,n){switch("undefined"==typeof e?"undefined":x(e)){case"object":return"function"==typeof e[n]?e[n].apply(e,R(r)):e[n];case"function":return e(t);default:return e}}function w(e){var t=e.timestamp,r=e.duration;return function(e,n,i){var o=["action"];return o.push("%c"+String(e.type)),t&&o.push("%c@ "+n),r&&o.push("%c(in "+i.toFixed(2)+" ms)"),o.join(" ")}}function I(e,t){var r=t.logger,n=t.actionTransformer,i=t.titleFormatter,o=void 0===i?w(t):i,a=t.collapsed,u=t.colors,s=t.level,c=t.diff,f="undefined"==typeof t.titleFormatter;e.forEach(function(i,l){var p=i.started,d=i.startedTime,v=i.action,h=i.prevState,y=i.error,m=i.took,g=i.nextState,w=e[l+1];w&&(g=w.prevState,m=w.started-p);var I=n(v),O="function"==typeof a?a(function(){return g},v,i):a,S=D(d),E=u.title?"color: "+u.title(I)+";":"",P=["color: gray; font-weight: lighter;"];P.push(E),t.timestamp&&P.push("color: gray; font-weight: lighter;"),t.duration&&P.push("color: gray; font-weight: lighter;");var k=o(I,S,m);try{O?u.title&&f?r.groupCollapsed.apply(r,["%c "+k].concat(P)):r.groupCollapsed(k):u.title&&f?r.group.apply(r,["%c "+k].concat(P)):r.group(k)}catch(e){r.log(k)}var j=b(s,I,[h],"prevState"),x=b(s,I,[I],"action"),R=b(s,I,[y,h],"error"),C=b(s,I,[g],"nextState");if(j)if(u.prevState){var T="color: "+u.prevState(h)+"; font-weight: bold";r[j]("%c prev state",T,h)}else r[j]("prev state",h);if(x)if(u.action){var M="color: "+u.action(I)+"; font-weight: bold";r[x]("%c action    ",M,I)}else r[x]("action    ",I);if(y&&R)if(u.error){var A="color: "+u.error(y,h)+"; font-weight: bold;";r[R]("%c error     ",A,y)}else r[R]("error     ",y);if(C)if(u.nextState){var L="color: "+u.nextState(g)+"; font-weight: bold";r[C]("%c next state",L,g)}else r[C]("next state",g);c&&_(h,g,r,O);try{r.groupEnd()}catch(e){r.log(" log end ")}})}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},M,e),r=t.logger,n=t.stateTransformer,i=t.errorTransformer,o=t.predicate,a=t.logErrors,u=t.diffPredicate;if("undefined"==typeof r)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var s=[];return function(e){var r=e.getState;return function(e){return function(c){if("function"==typeof o&&!o(r,c))return e(c);var f={};s.push(f),f.started=j.now(),f.startedTime=new Date,f.prevState=n(r()),f.action=c;var l=void 0;if(a)try{l=e(c)}catch(e){f.error=i(e)}else l=e(c);f.took=j.now()-f.started,f.nextState=n(r());var p=t.diff&&"function"==typeof u?u(r,c):t.diff;if(I(s,Object.assign({},t,{diff:p})),s.length=0,f.error)throw f.error;return l}}}}var S,E,P=function(e,t){return new Array(t+1).join(e)},k=function(e,t){return P("0",t-e.toString().length)+e},D=function(e){return k(e.getHours(),2)+":"+k(e.getMinutes(),2)+":"+k(e.getSeconds(),2)+"."+k(e.getMilliseconds(),3)},j="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},C=[];S="object"===("undefined"==typeof e?"undefined":x(e))&&e?e:"undefined"!=typeof window?window:{},E=S.DeepDiff,E&&C.push(function(){"undefined"!=typeof E&&S.DeepDiff===l&&(S.DeepDiff=E,E=void 0)}),r(i,n),r(o,n),r(a,n),r(u,n),Object.defineProperties(l,{diff:{value:l,enumerable:!0},observableDiff:{value:f,enumerable:!0},applyDiff:{value:y,enumerable:!0},applyChange:{value:d,enumerable:!0},revertChange:{value:h,enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof E},enumerable:!0},noConflict:{value:function(){return C&&(C.forEach(function(e){e()}),C=null),l},enumerable:!0}});var T={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},M={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,r=e.getState;return"function"==typeof t||"function"==typeof r?O()({dispatch:t,getState:r}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};t.defaults=M,t.createLogger=O,t.logger=A,t.default=A,Object.defineProperty(t,"__esModule",{value:!0})})}).call(t,r(18))},6:function(e,t,r){(function(t,r){e.exports=r()})(this,function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype));e.prototype.constructor=e}function r(e){return a(e)?e:K(e)}t(n,r);function n(e){return u(e)?e:$(e)}t(i,r);function i(e){return s(e)?e:Y(e)}t(o,r);function o(e){return a(e)&&!c(e)?e:J(e)}function a(e){return!!(e&&e[l])}function u(e){return!!(e&&e[p])}function s(e){return!!(e&&e[d])}function c(e){return u(e)||s(e)}function f(e){return!!(e&&e[v])}r.isIterable=a;r.isKeyed=u;r.isIndexed=s;r.isAssociative=c;r.isOrdered=f;r.Keyed=n;r.Indexed=i;r.Set=o;var l="@@__IMMUTABLE_ITERABLE__@@";var p="@@__IMMUTABLE_KEYED__@@";var d="@@__IMMUTABLE_INDEXED__@@";var v="@@__IMMUTABLE_ORDERED__@@";var h="delete";var y=5;var m=1<<y;var g=m-1;var _={};var b={value:false};var w={value:false};function I(e){e.value=false;return e}function O(e){e&&(e.value=true)}function S(){}function E(e,t){t=t||0;var r=Math.max(0,e.length-t);var n=new Array(r);for(var i=0;i<r;i++)n[i]=e[i+t];return n}function P(e){void 0===e.size&&(e.size=e.__iterate(D));return e.size}function k(e,t){if("number"!==typeof t){var r=t>>>0;if(""+r!==t||4294967295===r)return NaN;t=r}return t<0?P(e)+t:t}function D(){return true}function j(e,t,r){return(0===e||void 0!==r&&e<=-r)&&(void 0===t||void 0!==r&&t>=r)}function x(e,t){return C(e,t,0)}function R(e,t){return C(e,t,t)}function C(e,t,r){return void 0===e?r:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var T=0;var M=1;var A=2;var L="function"===typeof Symbol&&Symbol.iterator;var z="@@iterator";var N=L||z;function B(e){this.next=e}B.prototype.toString=function(){return"[Iterator]"};B.KEYS=T;B.VALUES=M;B.ENTRIES=A;B.prototype.inspect=B.prototype.toSource=function(){return this.toString()};B.prototype[N]=function(){return this};function U(e,t,r,n){var i=0===e?t:1===e?r:[t,r];n?n.value=i:n={value:i,done:false};return n}function q(){return{value:void 0,done:true}}function F(e){return!!G(e)}function H(e){return e&&"function"===typeof e.next}function W(e){var t=G(e);return t&&t.call(e)}function G(e){var t=e&&(L&&e[L]||e[z]);if("function"===typeof t)return t}function V(e){return e&&"number"===typeof e.length}t(K,r);function K(e){return null===e||void 0===e?ie():a(e)?e.toSeq():ue(e)}K.of=function(){return K(arguments)};K.prototype.toSeq=function(){return this};K.prototype.toString=function(){return this.__toString("Seq {","}")};K.prototype.cacheResult=function(){if(!this._cache&&this.__iterateUncached){this._cache=this.entrySeq().toArray();this.size=this._cache.length}return this};K.prototype.__iterate=function(e,t){return ce(this,e,t,true)};K.prototype.__iterator=function(e,t){return fe(this,e,t,true)};t($,K);function $(e){return null===e||void 0===e?ie().toKeyedSeq():a(e)?u(e)?e.toSeq():e.fromEntrySeq():oe(e)}$.prototype.toKeyedSeq=function(){return this};t(Y,K);function Y(e){return null===e||void 0===e?ie():a(e)?u(e)?e.entrySeq():e.toIndexedSeq():ae(e)}Y.of=function(){return Y(arguments)};Y.prototype.toIndexedSeq=function(){return this};Y.prototype.toString=function(){return this.__toString("Seq [","]")};Y.prototype.__iterate=function(e,t){return ce(this,e,t,false)};Y.prototype.__iterator=function(e,t){return fe(this,e,t,false)};t(J,K);function J(e){return(null===e||void 0===e?ie():a(e)?u(e)?e.entrySeq():e:ae(e)).toSetSeq()}J.of=function(){return J(arguments)};J.prototype.toSetSeq=function(){return this};K.isSeq=re;K.Keyed=$;K.Set=J;K.Indexed=Y;var X="@@__IMMUTABLE_SEQ__@@";K.prototype[X]=true;t(Q,Y);function Q(e){this._array=e;this.size=e.length}Q.prototype.get=function(e,t){return this.has(e)?this._array[k(this,e)]:t};Q.prototype.__iterate=function(e,t){var r=this._array;var n=r.length-1;for(var i=0;i<=n;i++)if(false===e(r[t?n-i:i],i,this))return i+1;return i};Q.prototype.__iterator=function(e,t){var r=this._array;var n=r.length-1;var i=0;return new B(function(){return i>n?q():U(e,i,r[t?n-i++:i++])})};t(Z,$);function Z(e){var t=Object.keys(e);this._object=e;this._keys=t;this.size=t.length}Z.prototype.get=function(e,t){if(void 0!==t&&!this.has(e))return t;return this._object[e]};Z.prototype.has=function(e){return this._object.hasOwnProperty(e)};Z.prototype.__iterate=function(e,t){var r=this._object;var n=this._keys;var i=n.length-1;for(var o=0;o<=i;o++){var a=n[t?i-o:o];if(false===e(r[a],a,this))return o+1}return o};Z.prototype.__iterator=function(e,t){var r=this._object;var n=this._keys;var i=n.length-1;var o=0;return new B(function(){var a=n[t?i-o:o];return o++>i?q():U(e,a,r[a])})};Z.prototype[v]=true;t(ee,Y);function ee(e){this._iterable=e;this.size=e.length||e.size}ee.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var r=this._iterable;var n=W(r);var i=0;if(H(n)){var o;while(!(o=n.next()).done)if(false===e(o.value,i++,this))break}return i};ee.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=this._iterable;var n=W(r);if(!H(n))return new B(q);var i=0;return new B(function(){var t=n.next();return t.done?t:U(e,i++,t.value)})};t(te,Y);function te(e){this._iterator=e;this._iteratorCache=[]}te.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var r=this._iterator;var n=this._iteratorCache;var i=0;while(i<n.length)if(false===e(n[i],i++,this))return i;var o;while(!(o=r.next()).done){var a=o.value;n[i]=a;if(false===e(a,i++,this))break}return i};te.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=this._iterator;var n=this._iteratorCache;var i=0;return new B(function(){if(i>=n.length){var t=r.next();if(t.done)return t;n[i]=t.value}return U(e,i,n[i++])})};function re(e){return!!(e&&e[X])}var ne;function ie(){return ne||(ne=new Q([]))}function oe(e){var t=Array.isArray(e)?new Q(e).fromEntrySeq():H(e)?new te(e).fromEntrySeq():F(e)?new ee(e).fromEntrySeq():"object"===typeof e?new Z(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function ae(e){var t=se(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function ue(e){var t=se(e)||"object"===typeof e&&new Z(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function se(e){return V(e)?new Q(e):H(e)?new te(e):F(e)?new ee(e):void 0}function ce(e,t,r,n){var i=e._cache;if(i){var o=i.length-1;for(var a=0;a<=o;a++){var u=i[r?o-a:a];if(false===t(u[1],n?u[0]:a,e))return a+1}return a}return e.__iterateUncached(t,r)}function fe(e,t,r,n){var i=e._cache;if(i){var o=i.length-1;var a=0;return new B(function(){var e=i[r?o-a:a];return a++>o?q():U(t,n?e[0]:a-1,e[1])})}return e.__iteratorUncached(t,r)}function le(e,t){return t?pe(t,e,"",{"":e}):de(e)}function pe(e,t,r,n){if(Array.isArray(t))return e.call(n,r,Y(t).map(function(r,n){return pe(e,r,n,t)}));if(ve(t))return e.call(n,r,$(t).map(function(r,n){return pe(e,r,n,t)}));return t}function de(e){if(Array.isArray(e))return Y(e).map(de).toList();if(ve(e))return $(e).map(de).toMap();return e}function ve(e){return e&&(e.constructor===Object||void 0===e.constructor)}function he(e,t){if(e===t||e!==e&&t!==t)return true;if(!e||!t)return false;if("function"===typeof e.valueOf&&"function"===typeof t.valueOf){e=e.valueOf();t=t.valueOf();if(e===t||e!==e&&t!==t)return true;if(!e||!t)return false}if("function"===typeof e.equals&&"function"===typeof t.equals&&e.equals(t))return true;return false}function ye(e,t){if(e===t)return true;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||u(e)!==u(t)||s(e)!==s(t)||f(e)!==f(t))return false;if(0===e.size&&0===t.size)return true;var r=!c(e);if(f(e)){var n=e.entries();return t.every(function(e,t){var i=n.next().value;return i&&he(i[1],e)&&(r||he(i[0],t))})&&n.next().done}var i=false;if(void 0===e.size)if(void 0===t.size)"function"===typeof e.cacheResult&&e.cacheResult();else{i=true;var o=e;e=t;t=o}var l=true;var p=t.__iterate(function(t,n){if(r?!e.has(t):i?!he(t,e.get(n,_)):!he(e.get(n,_),t)){l=false;return false}});return l&&e.size===p}t(me,Y);function me(e,t){if(!(this instanceof me))return new me(e,t);this._value=e;this.size=void 0===t?Infinity:Math.max(0,t);if(0===this.size){if(ge)return ge;ge=this}}me.prototype.toString=function(){if(0===this.size)return"Repeat []";return"Repeat [ "+this._value+" "+this.size+" times ]"};me.prototype.get=function(e,t){return this.has(e)?this._value:t};me.prototype.includes=function(e){return he(this._value,e)};me.prototype.slice=function(e,t){var r=this.size;return j(e,t,r)?this:new me(this._value,R(t,r)-x(e,r))};me.prototype.reverse=function(){return this};me.prototype.indexOf=function(e){if(he(this._value,e))return 0;return-1};me.prototype.lastIndexOf=function(e){if(he(this._value,e))return this.size;return-1};me.prototype.__iterate=function(e,t){for(var r=0;r<this.size;r++)if(false===e(this._value,r,this))return r+1;return r};me.prototype.__iterator=function(e,t){var r=this;var n=0;return new B(function(){return n<r.size?U(e,n++,r._value):q()})};me.prototype.equals=function(e){return e instanceof me?he(this._value,e._value):ye(e)};var ge;function _e(e,t){if(!e)throw new Error(t)}t(be,Y);function be(e,t,r){if(!(this instanceof be))return new be(e,t,r);_e(0!==r,"Cannot step a Range by 0");e=e||0;void 0===t&&(t=Infinity);r=void 0===r?1:Math.abs(r);t<e&&(r=-r);this._start=e;this._end=t;this._step=r;this.size=Math.max(0,Math.ceil((t-e)/r-1)+1);if(0===this.size){if(we)return we;we=this}}be.prototype.toString=function(){if(0===this.size)return"Range []";return"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"};be.prototype.get=function(e,t){return this.has(e)?this._start+k(this,e)*this._step:t};be.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)};be.prototype.slice=function(e,t){if(j(e,t,this.size))return this;e=x(e,this.size);t=R(t,this.size);if(t<=e)return new be(0,0);return new be(this.get(e,this._end),this.get(t,this._end),this._step)};be.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var r=t/this._step;if(r>=0&&r<this.size)return r}return-1};be.prototype.lastIndexOf=function(e){return this.indexOf(e)};be.prototype.__iterate=function(e,t){var r=this.size-1;var n=this._step;var i=t?this._start+r*n:this._start;for(var o=0;o<=r;o++){if(false===e(i,o,this))return o+1;i+=t?-n:n}return o};be.prototype.__iterator=function(e,t){var r=this.size-1;var n=this._step;var i=t?this._start+r*n:this._start;var o=0;return new B(function(){var a=i;i+=t?-n:n;return o>r?q():U(e,o++,a)})};be.prototype.equals=function(e){return e instanceof be?this._start===e._start&&this._end===e._end&&this._step===e._step:ye(this,e)};var we;t(Ie,r);function Ie(){throw TypeError("Abstract")}t(Oe,Ie);function Oe(){}t(Se,Ie);function Se(){}t(Ee,Ie);function Ee(){}Ie.Keyed=Oe;Ie.Indexed=Se;Ie.Set=Ee;var Pe="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function e(t,r){t|=0;r|=0;var n=65535&t;var i=65535&r;return n*i+((t>>>16)*i+n*(r>>>16)<<16>>>0)|0};function ke(e){return e>>>1&1073741824|3221225471&e}function De(e){if(false===e||null===e||void 0===e)return 0;if("function"===typeof e.valueOf){e=e.valueOf();if(false===e||null===e||void 0===e)return 0}if(true===e)return 1;var t=typeof e;if("number"===t){if(e!==e||Infinity===e)return 0;var r=0|e;r!==e&&(r^=4294967295*e);while(e>4294967295){e/=4294967295;r^=e}return ke(r)}if("string"===t)return e.length>Be?je(e):xe(e);if("function"===typeof e.hashCode)return e.hashCode();if("object"===t)return Re(e);if("function"===typeof e.toString)return xe(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function je(e){var t=Fe[e];if(void 0===t){t=xe(e);if(qe===Ue){qe=0;Fe={}}qe++;Fe[e]=t}return t}function xe(e){var t=0;for(var r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return ke(t)}function Re(e){var t;if(Ae){t=Le.get(e);if(void 0!==t)return t}t=e[Ne];if(void 0!==t)return t;if(!Te){t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Ne];if(void 0!==t)return t;t=Me(e);if(void 0!==t)return t}t=++ze;1073741824&ze&&(ze=0);if(Ae)Le.set(e,t);else{if(void 0!==Ce&&false===Ce(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Te)Object.defineProperty(e,Ne,{enumerable:false,configurable:false,writable:false,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable){e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)};e.propertyIsEnumerable[Ne]=t}else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Ne]=t}}return t}var Ce=Object.isExtensible;var Te=function(){try{Object.defineProperty({},"@",{});return true}catch(e){return false}}();function Me(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}var Ae="function"===typeof WeakMap;var Le;Ae&&(Le=new WeakMap);var ze=0;var Ne="__immutablehash__";"function"===typeof Symbol&&(Ne=Symbol(Ne));var Be=16;var Ue=255;var qe=0;var Fe={};function He(e){_e(Infinity!==e,"Cannot perform this action with an infinite size.")}t(We,Oe);function We(e){return null===e||void 0===e?it():Ge(e)&&!f(e)?e:it().withMutations(function(t){var r=n(e);He(r.size);r.forEach(function(e,r){return t.set(r,e)})})}We.of=function(){var t=e.call(arguments,0);return it().withMutations(function(e){for(var r=0;r<t.length;r+=2){if(r+1>=t.length)throw new Error("Missing value for key: "+t[r]);e.set(t[r],t[r+1])}})};We.prototype.toString=function(){return this.__toString("Map {","}")};We.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t};We.prototype.set=function(e,t){return ot(this,e,t)};We.prototype.setIn=function(e,t){return this.updateIn(e,_,function(){return t})};We.prototype.remove=function(e){return ot(this,e,_)};We.prototype.deleteIn=function(e){return this.updateIn(e,function(){return _})};We.prototype.update=function(e,t,r){return 1===arguments.length?e(this):this.updateIn([e],t,r)};We.prototype.updateIn=function(e,t,r){if(!r){r=t;t=void 0}var n=yt(this,wr(e),t,r);return n===_?void 0:n};We.prototype.clear=function(){if(0===this.size)return this;if(this.__ownerID){this.size=0;this._root=null;this.__hash=void 0;this.__altered=true;return this}return it()};We.prototype.merge=function(){return pt(this,void 0,arguments)};We.prototype.mergeWith=function(t){var r=e.call(arguments,1);return pt(this,t,r)};We.prototype.mergeIn=function(t){var r=e.call(arguments,1);return this.updateIn(t,it(),function(e){return"function"===typeof e.merge?e.merge.apply(e,r):r[r.length-1]})};We.prototype.mergeDeep=function(){return pt(this,dt,arguments)};We.prototype.mergeDeepWith=function(t){var r=e.call(arguments,1);return pt(this,vt(t),r)};We.prototype.mergeDeepIn=function(t){var r=e.call(arguments,1);return this.updateIn(t,it(),function(e){return"function"===typeof e.mergeDeep?e.mergeDeep.apply(e,r):r[r.length-1]})};We.prototype.sort=function(e){return qt(fr(this,e))};We.prototype.sortBy=function(e,t){return qt(fr(this,t,e))};We.prototype.withMutations=function(e){var t=this.asMutable();e(t);return t.wasAltered()?t.__ensureOwner(this.__ownerID):this};We.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new S)};We.prototype.asImmutable=function(){return this.__ensureOwner()};We.prototype.wasAltered=function(){return this.__altered};We.prototype.__iterator=function(e,t){return new Ze(this,e,t)};We.prototype.__iterate=function(e,t){var r=this;var n=0;this._root&&this._root.iterate(function(t){n++;return e(t[1],t[0],r)},t);return n};We.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;if(!e){this.__ownerID=e;this.__altered=false;return this}return rt(this.size,this._root,e,this.__hash)};function Ge(e){return!!(e&&e[Ve])}We.isMap=Ge;var Ve="@@__IMMUTABLE_MAP__@@";var Ke=We.prototype;Ke[Ve]=true;Ke[h]=Ke.remove;Ke.removeIn=Ke.deleteIn;function $e(e,t){this.ownerID=e;this.entries=t}$e.prototype.get=function(e,t,r,n){var i=this.entries;for(var o=0,a=i.length;o<a;o++)if(he(r,i[o][0]))return i[o][1];return n};$e.prototype.update=function(e,t,r,n,i,o,a){var u=i===_;var s=this.entries;var c=0;for(var f=s.length;c<f;c++)if(he(n,s[c][0]))break;var l=c<f;if(l?s[c][1]===i:u)return this;O(a);(u||!l)&&O(o);if(u&&1===s.length)return;if(!l&&!u&&s.length>=wt)return ct(e,s,n,i);var p=e&&e===this.ownerID;var d=p?s:E(s);l?u?c===f-1?d.pop():d[c]=d.pop():d[c]=[n,i]:d.push([n,i]);if(p){this.entries=d;return this}return new $e(e,d)};function Ye(e,t,r){this.ownerID=e;this.bitmap=t;this.nodes=r}Ye.prototype.get=function(e,t,r,n){void 0===t&&(t=De(r));var i=1<<((0===e?t:t>>>e)&g);var o=this.bitmap;return 0===(o&i)?n:this.nodes[mt(o&i-1)].get(e+y,t,r,n)};Ye.prototype.update=function(e,t,r,n,i,o,a){void 0===r&&(r=De(n));var u=(0===t?r:r>>>t)&g;var s=1<<u;var c=this.bitmap;var f=0!==(c&s);if(!f&&i===_)return this;var l=mt(c&s-1);var p=this.nodes;var d=f?p[l]:void 0;var v=at(d,e,t+y,r,n,i,o,a);if(v===d)return this;if(!f&&v&&p.length>=It)return lt(e,p,c,u,v);if(f&&!v&&2===p.length&&ut(p[1^l]))return p[1^l];if(f&&v&&1===p.length&&ut(v))return v;var h=e&&e===this.ownerID;var m=f?v?c:c^s:c|s;var b=f?v?gt(p,l,v,h):bt(p,l,h):_t(p,l,v,h);if(h){this.bitmap=m;this.nodes=b;return this}return new Ye(e,m,b)};function Je(e,t,r){this.ownerID=e;this.count=t;this.nodes=r}Je.prototype.get=function(e,t,r,n){void 0===t&&(t=De(r));var i=(0===e?t:t>>>e)&g;var o=this.nodes[i];return o?o.get(e+y,t,r,n):n};Je.prototype.update=function(e,t,r,n,i,o,a){void 0===r&&(r=De(n));var u=(0===t?r:r>>>t)&g;var s=i===_;var c=this.nodes;var f=c[u];if(s&&!f)return this;var l=at(f,e,t+y,r,n,i,o,a);if(l===f)return this;var p=this.count;if(f){if(!l){p--;if(p<Ot)return ft(e,c,p,u)}}else p++;var d=e&&e===this.ownerID;var v=gt(c,u,l,d);if(d){this.count=p;this.nodes=v;return this}return new Je(e,p,v)};function Xe(e,t,r){this.ownerID=e;this.keyHash=t;this.entries=r}Xe.prototype.get=function(e,t,r,n){var i=this.entries;for(var o=0,a=i.length;o<a;o++)if(he(r,i[o][0]))return i[o][1];return n};Xe.prototype.update=function(e,t,r,n,i,o,a){void 0===r&&(r=De(n));var u=i===_;if(r!==this.keyHash){if(u)return this;O(a);O(o);return st(this,e,t,r,[n,i])}var s=this.entries;var c=0;for(var f=s.length;c<f;c++)if(he(n,s[c][0]))break;var l=c<f;if(l?s[c][1]===i:u)return this;O(a);(u||!l)&&O(o);if(u&&2===f)return new Qe(e,this.keyHash,s[1^c]);var p=e&&e===this.ownerID;var d=p?s:E(s);l?u?c===f-1?d.pop():d[c]=d.pop():d[c]=[n,i]:d.push([n,i]);if(p){this.entries=d;return this}return new Xe(e,this.keyHash,d)};function Qe(e,t,r){this.ownerID=e;this.keyHash=t;this.entry=r}Qe.prototype.get=function(e,t,r,n){return he(r,this.entry[0])?this.entry[1]:n};Qe.prototype.update=function(e,t,r,n,i,o,a){var u=i===_;var s=he(n,this.entry[0]);if(s?i===this.entry[1]:u)return this;O(a);if(u){O(o);return}if(s){if(e&&e===this.ownerID){this.entry[1]=i;return this}return new Qe(e,this.keyHash,[n,i])}O(o);return st(this,e,t,De(n),[n,i])};$e.prototype.iterate=Xe.prototype.iterate=function(e,t){var r=this.entries;for(var n=0,i=r.length-1;n<=i;n++)if(false===e(r[t?i-n:n]))return false};Ye.prototype.iterate=Je.prototype.iterate=function(e,t){var r=this.nodes;for(var n=0,i=r.length-1;n<=i;n++){var o=r[t?i-n:n];if(o&&false===o.iterate(e,t))return false}};Qe.prototype.iterate=function(e,t){return e(this.entry)};t(Ze,B);function Ze(e,t,r){this._type=t;this._reverse=r;this._stack=e._root&&tt(e._root)}Ze.prototype.next=function(){var e=this._type;var t=this._stack;while(t){var r=t.node;var n=t.index++;var i;if(r.entry){if(0===n)return et(e,r.entry)}else if(r.entries){i=r.entries.length-1;if(n<=i)return et(e,r.entries[this._reverse?i-n:n])}else{i=r.nodes.length-1;if(n<=i){var o=r.nodes[this._reverse?i-n:n];if(o){if(o.entry)return et(e,o.entry);t=this._stack=tt(o,t)}continue}}t=this._stack=this._stack.__prev}return q()};function et(e,t){return U(e,t[0],t[1])}function tt(e,t){return{node:e,index:0,__prev:t}}function rt(e,t,r,n){var i=Object.create(Ke);i.size=e;i._root=t;i.__ownerID=r;i.__hash=n;i.__altered=false;return i}var nt;function it(){return nt||(nt=rt(0))}function ot(e,t,r){var n;var i;if(e._root){var o=I(b);var a=I(w);n=at(e._root,e.__ownerID,0,void 0,t,r,o,a);if(!a.value)return e;i=e.size+(o.value?r===_?-1:1:0)}else{if(r===_)return e;i=1;n=new $e(e.__ownerID,[[t,r]])}if(e.__ownerID){e.size=i;e._root=n;e.__hash=void 0;e.__altered=true;return e}return n?rt(i,n):it()}function at(e,t,r,n,i,o,a,u){if(!e){if(o===_)return e;O(u);O(a);return new Qe(t,n,[i,o])}return e.update(t,r,n,i,o,a,u)}function ut(e){return e.constructor===Qe||e.constructor===Xe}function st(e,t,r,n,i){if(e.keyHash===n)return new Xe(t,n,[e.entry,i]);var o=(0===r?e.keyHash:e.keyHash>>>r)&g;var a=(0===r?n:n>>>r)&g;var u;var s=o===a?[st(e,t,r+y,n,i)]:(u=new Qe(t,n,i),o<a?[e,u]:[u,e]);return new Ye(t,1<<o|1<<a,s)}function ct(e,t,r,n){e||(e=new S);var i=new Qe(e,De(r),[r,n]);for(var o=0;o<t.length;o++){var a=t[o];i=i.update(e,0,void 0,a[0],a[1])}return i}function ft(e,t,r,n){var i=0;var o=0;var a=new Array(r);for(var u=0,s=1,c=t.length;u<c;u++,s<<=1){var f=t[u];if(void 0!==f&&u!==n){i|=s;a[o++]=f}}return new Ye(e,i,a)}function lt(e,t,r,n,i){var o=0;var a=new Array(m);for(var u=0;0!==r;u++,r>>>=1)a[u]=1&r?t[o++]:void 0;a[n]=i;return new Je(e,o+1,a)}function pt(e,t,r){var i=[];for(var o=0;o<r.length;o++){var u=r[o];var s=n(u);a(u)||(s=s.map(function(e){return le(e)}));i.push(s)}return ht(e,t,i)}function dt(e,t,r){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):he(e,t)?e:t}function vt(e){return function(t,r,n){if(t&&t.mergeDeepWith&&a(r))return t.mergeDeepWith(e,r);var i=e(t,r,n);return he(t,i)?t:i}}function ht(e,t,r){r=r.filter(function(e){return 0!==e.size});if(0===r.length)return e;if(0===e.size&&!e.__ownerID&&1===r.length)return e.constructor(r[0]);return e.withMutations(function(e){var n=t?function(r,n){e.update(n,_,function(e){return e===_?r:t(e,r,n)})}:function(t,r){e.set(r,t)};for(var i=0;i<r.length;i++)r[i].forEach(n)})}function yt(e,t,r,n){var i=e===_;var o=t.next();if(o.done){var a=i?r:e;var u=n(a);return u===a?e:u}_e(i||e&&e.set,"invalid keyPath");var s=o.value;var c=i?_:e.get(s,_);var f=yt(c,t,r,n);return f===c?e:f===_?e.remove(s):(i?it():e).set(s,f)}function mt(e){e-=e>>1&1431655765;e=(858993459&e)+(e>>2&858993459);e=e+(e>>4)&252645135;e+=e>>8;e+=e>>16;return 127&e}function gt(e,t,r,n){var i=n?e:E(e);i[t]=r;return i}function _t(e,t,r,n){var i=e.length+1;if(n&&t+1===i){e[t]=r;return e}var o=new Array(i);var a=0;for(var u=0;u<i;u++)if(u===t){o[u]=r;a=-1}else o[u]=e[u+a];return o}function bt(e,t,r){var n=e.length-1;if(r&&t===n){e.pop();return e}var i=new Array(n);var o=0;for(var a=0;a<n;a++){a===t&&(o=1);i[a]=e[a+o]}return i}var wt=m/4;var It=m/2;var Ot=m/4;t(St,Se);function St(e){var t=Tt();if(null===e||void 0===e)return t;if(Et(e))return e;var r=i(e);var n=r.size;if(0===n)return t;He(n);if(n>0&&n<m)return Rt(0,n,y,null,new Dt(r.toArray()));return t.withMutations(function(e){e.setSize(n);r.forEach(function(t,r){return e.set(r,t)})})}St.of=function(){return this(arguments)};St.prototype.toString=function(){return this.__toString("List [","]")};St.prototype.get=function(e,t){e=k(this,e);if(e>=0&&e<this.size){e+=this._origin;var r=zt(this,e);return r&&r.array[e&g]}return t};St.prototype.set=function(e,t){return Mt(this,e,t)};St.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this};St.prototype.insert=function(e,t){return this.splice(e,0,t)};St.prototype.clear=function(){if(0===this.size)return this;if(this.__ownerID){this.size=this._origin=this._capacity=0;this._level=y;this._root=this._tail=null;this.__hash=void 0;this.__altered=true;return this}return Tt()};St.prototype.push=function(){var e=arguments;var t=this.size;return this.withMutations(function(r){Nt(r,0,t+e.length);for(var n=0;n<e.length;n++)r.set(t+n,e[n])})};St.prototype.pop=function(){return Nt(this,0,-1)};St.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){Nt(t,-e.length);for(var r=0;r<e.length;r++)t.set(r,e[r])})};St.prototype.shift=function(){return Nt(this,1)};St.prototype.merge=function(){return Bt(this,void 0,arguments)};St.prototype.mergeWith=function(t){var r=e.call(arguments,1);return Bt(this,t,r)};St.prototype.mergeDeep=function(){return Bt(this,dt,arguments)};St.prototype.mergeDeepWith=function(t){var r=e.call(arguments,1);return Bt(this,vt(t),r)};St.prototype.setSize=function(e){return Nt(this,0,e)};St.prototype.slice=function(e,t){var r=this.size;if(j(e,t,r))return this;return Nt(this,x(e,r),R(t,r))};St.prototype.__iterator=function(e,t){var r=0;var n=xt(this,t);return new B(function(){var t=n();return t===jt?q():U(e,r++,t)})};St.prototype.__iterate=function(e,t){var r=0;var n=xt(this,t);var i;while((i=n())!==jt)if(false===e(i,r++,this))break;return r};St.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;if(!e){this.__ownerID=e;return this}return Rt(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash)};function Et(e){return!!(e&&e[Pt])}St.isList=Et;var Pt="@@__IMMUTABLE_LIST__@@";var kt=St.prototype;kt[Pt]=true;kt[h]=kt.remove;kt.setIn=Ke.setIn;kt.deleteIn=kt.removeIn=Ke.removeIn;kt.update=Ke.update;kt.updateIn=Ke.updateIn;kt.mergeIn=Ke.mergeIn;kt.mergeDeepIn=Ke.mergeDeepIn;kt.withMutations=Ke.withMutations;kt.asMutable=Ke.asMutable;kt.asImmutable=Ke.asImmutable;kt.wasAltered=Ke.wasAltered;function Dt(e,t){this.array=e;this.ownerID=t}Dt.prototype.removeBefore=function(e,t,r){if(r===t?1<<t:(0,0===this.array.length))return this;var n=r>>>t&g;if(n>=this.array.length)return new Dt([],e);var i=0===n;var o;if(t>0){var a=this.array[n];o=a&&a.removeBefore(e,t-y,r);if(o===a&&i)return this}if(i&&!o)return this;var u=Lt(this,e);if(!i)for(var s=0;s<n;s++)u.array[s]=void 0;o&&(u.array[n]=o);return u};Dt.prototype.removeAfter=function(e,t,r){if(r===(t?1<<t:0)||0===this.array.length)return this;var n=r-1>>>t&g;if(n>=this.array.length)return this;var i;if(t>0){var o=this.array[n];i=o&&o.removeAfter(e,t-y,r);if(i===o&&n===this.array.length-1)return this}var a=Lt(this,e);a.array.splice(n+1);i&&(a.array[n]=i);return a};var jt={};function xt(e,t){var r=e._origin;var n=e._capacity;var i=Ut(n);var o=e._tail;return a(e._root,e._level,0);function a(e,t,r){return 0===t?u(e,r):s(e,t,r)}function u(e,a){var u=a===i?o&&o.array:e&&e.array;var s=a>r?0:r-a;var c=n-a;c>m&&(c=m);return function(){if(s===c)return jt;var e=t?--c:s++;return u&&u[e]}}function s(e,i,o){var u;var s=e&&e.array;var c=o>r?0:r-o>>i;var f=1+(n-o>>i);f>m&&(f=m);return function(){do{if(u){var e=u();if(e!==jt)return e;u=null}if(c===f)return jt;var r=t?--f:c++;u=a(s&&s[r],i-y,o+(r<<i))}while(true)}}}function Rt(e,t,r,n,i,o,a){var u=Object.create(kt);u.size=t-e;u._origin=e;u._capacity=t;u._level=r;u._root=n;u._tail=i;u.__ownerID=o;u.__hash=a;u.__altered=false;return u}var Ct;function Tt(){return Ct||(Ct=Rt(0,0,y))}function Mt(e,t,r){t=k(e,t);if(t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?Nt(e,t).set(0,r):Nt(e,0,t+1).set(t,r)});t+=e._origin;var n=e._tail;var i=e._root;var o=I(w);t>=Ut(e._capacity)?n=At(n,e.__ownerID,0,t,r,o):i=At(i,e.__ownerID,e._level,t,r,o);if(!o.value)return e;if(e.__ownerID){e._root=i;e._tail=n;e.__hash=void 0;e.__altered=true;return e}return Rt(e._origin,e._capacity,e._level,i,n)}function At(e,t,r,n,i,o){var a=n>>>r&g;var u=e&&a<e.array.length;if(!u&&void 0===i)return e;var s;if(r>0){var c=e&&e.array[a];var f=At(c,t,r-y,n,i,o);if(f===c)return e;s=Lt(e,t);s.array[a]=f;return s}if(u&&e.array[a]===i)return e;O(o);s=Lt(e,t);void 0===i&&a===s.array.length-1?s.array.pop():s.array[a]=i;return s}function Lt(e,t){if(t&&e&&t===e.ownerID)return e;return new Dt(e?e.array.slice():[],t)}function zt(e,t){if(t>=Ut(e._capacity))return e._tail;if(t<1<<e._level+y){var r=e._root;var n=e._level;while(r&&n>0){r=r.array[t>>>n&g];n-=y}return r}}function Nt(e,t,r){void 0!==t&&(t|=0);void 0!==r&&(r|=0);var n=e.__ownerID||new S;var i=e._origin;var o=e._capacity;var a=i+t;var u=void 0===r?o:r<0?o+r:i+r;if(a===i&&u===o)return e;if(a>=u)return e.clear();var s=e._level;var c=e._root;var f=0;while(a+f<0){c=new Dt(c&&c.array.length?[void 0,c]:[],n);s+=y;f+=1<<s}if(f){a+=f;i+=f;u+=f;o+=f}var l=Ut(o);var p=Ut(u);while(p>=1<<s+y){c=new Dt(c&&c.array.length?[c]:[],n);s+=y}var d=e._tail;var v=p<l?zt(e,u-1):p>l?new Dt([],n):d;if(d&&p>l&&a<o&&d.array.length){c=Lt(c,n);var h=c;for(var m=s;m>y;m-=y){var _=l>>>m&g;h=h.array[_]=Lt(h.array[_],n)}h.array[l>>>y&g]=d}u<o&&(v=v&&v.removeAfter(n,0,u));if(a>=p){a-=p;u-=p;s=y;c=null;v=v&&v.removeBefore(n,0,a)}else if(a>i||p<l){f=0;while(c){var b=a>>>s&g;if(b!==p>>>s&g)break;b&&(f+=(1<<s)*b);s-=y;c=c.array[b]}c&&a>i&&(c=c.removeBefore(n,s,a-f));c&&p<l&&(c=c.removeAfter(n,s,p-f));if(f){a-=f;u-=f}}if(e.__ownerID){e.size=u-a;e._origin=a;e._capacity=u;e._level=s;e._root=c;e._tail=v;e.__hash=void 0;e.__altered=true;return e}return Rt(a,u,s,c,v)}function Bt(e,t,r){var n=[];var o=0;for(var u=0;u<r.length;u++){var s=r[u];var c=i(s);c.size>o&&(o=c.size);a(s)||(c=c.map(function(e){return le(e)}));n.push(c)}o>e.size&&(e=e.setSize(o));return ht(e,t,n)}function Ut(e){return e<m?0:e-1>>>y<<y}t(qt,We);function qt(e){return null===e||void 0===e?Gt():Ft(e)?e:Gt().withMutations(function(t){var r=n(e);He(r.size);r.forEach(function(e,r){return t.set(r,e)})})}qt.of=function(){return this(arguments)};qt.prototype.toString=function(){return this.__toString("OrderedMap {","}")};qt.prototype.get=function(e,t){var r=this._map.get(e);return void 0!==r?this._list.get(r)[1]:t};qt.prototype.clear=function(){if(0===this.size)return this;if(this.__ownerID){this.size=0;this._map.clear();this._list.clear();return this}return Gt()};qt.prototype.set=function(e,t){return Vt(this,e,t)};qt.prototype.remove=function(e){return Vt(this,e,_)};qt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()};qt.prototype.__iterate=function(e,t){var r=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],r)},t)};qt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)};qt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);var r=this._list.__ensureOwner(e);if(!e){this.__ownerID=e;this._map=t;this._list=r;return this}return Ht(t,r,e,this.__hash)};function Ft(e){return Ge(e)&&f(e)}qt.isOrderedMap=Ft;qt.prototype[v]=true;qt.prototype[h]=qt.prototype.remove;function Ht(e,t,r,n){var i=Object.create(qt.prototype);i.size=e?e.size:0;i._map=e;i._list=t;i.__ownerID=r;i.__hash=n;return i}var Wt;function Gt(){return Wt||(Wt=Ht(it(),Tt()))}function Vt(e,t,r){var n=e._map;var i=e._list;var o=n.get(t);var a=void 0!==o;var u;var s;if(r===_){if(!a)return e;if(i.size>=m&&i.size>=2*n.size){s=i.filter(function(e,t){return void 0!==e&&o!==t});u=s.toKeyedSeq().map(function(e){return e[0]}).flip().toMap();e.__ownerID&&(u.__ownerID=s.__ownerID=e.__ownerID)}else{u=n.remove(t);s=o===i.size-1?i.pop():i.set(o,void 0)}}else if(a){if(r===i.get(o)[1])return e;u=n;s=i.set(o,[t,r])}else{u=n.set(t,i.size);s=i.set(i.size,[t,r])}if(e.__ownerID){e.size=u.size;e._map=u;e._list=s;e.__hash=void 0;return e}return Ht(u,s)}t(Kt,$);function Kt(e,t){this._iter=e;this._useKeys=t;this.size=e.size}Kt.prototype.get=function(e,t){return this._iter.get(e,t)};Kt.prototype.has=function(e){return this._iter.has(e)};Kt.prototype.valueSeq=function(){return this._iter.valueSeq()};Kt.prototype.reverse=function(){var e=this;var t=Zt(this,true);this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()});return t};Kt.prototype.map=function(e,t){var r=this;var n=Qt(this,e,t);this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(e,t)});return n};Kt.prototype.__iterate=function(e,t){var r=this;var n;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?yr(this):0,function(i){return e(i,t?--n:n++,r)}),t)};Kt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var r=this._iter.__iterator(M,t);var n=t?yr(this):0;return new B(function(){var i=r.next();return i.done?i:U(e,t?--n:n++,i.value,i)})};Kt.prototype[v]=true;t($t,Y);function $t(e){this._iter=e;this.size=e.size}$t.prototype.includes=function(e){return this._iter.includes(e)};$t.prototype.__iterate=function(e,t){var r=this;var n=0;return this._iter.__iterate(function(t){return e(t,n++,r)},t)};$t.prototype.__iterator=function(e,t){var r=this._iter.__iterator(M,t);var n=0;return new B(function(){var t=r.next();return t.done?t:U(e,n++,t.value,t)})};t(Yt,J);function Yt(e){this._iter=e;this.size=e.size}Yt.prototype.has=function(e){return this._iter.includes(e)};Yt.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate(function(t){return e(t,t,r)},t)};Yt.prototype.__iterator=function(e,t){var r=this._iter.__iterator(M,t);return new B(function(){var t=r.next();return t.done?t:U(e,t.value,t.value,t)})};t(Jt,$);function Jt(e){this._iter=e;this.size=e.size}Jt.prototype.entrySeq=function(){return this._iter.toSeq()};Jt.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate(function(t){if(t){hr(t);var n=a(t);return e(n?t.get(1):t[1],n?t.get(0):t[0],r)}},t)};Jt.prototype.__iterator=function(e,t){var r=this._iter.__iterator(M,t);return new B(function(){while(true){var t=r.next();if(t.done)return t;var n=t.value;if(n){hr(n);var i=a(n);return U(e,i?n.get(0):n[0],i?n.get(1):n[1],t)}}})};$t.prototype.cacheResult=Kt.prototype.cacheResult=Yt.prototype.cacheResult=Jt.prototype.cacheResult=_r;function Xt(e){var t=gr(e);t._iter=e;t.size=e.size;t.flip=function(){return e};t.reverse=function(){var t=e.reverse.apply(this);t.flip=function(){return e.reverse()};return t};t.has=function(t){return e.includes(t)};t.includes=function(t){return e.has(t)};t.cacheResult=_r;t.__iterateUncached=function(t,r){var n=this;return e.__iterate(function(e,r){return false!==t(r,e,n)},r)};t.__iteratorUncached=function(t,r){if(t===A){var n=e.__iterator(t,r);return new B(function(){var e=n.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1];e.value[1]=t}return e})}return e.__iterator(t===M?T:M,r)};return t}function Qt(e,t,r){var n=gr(e);n.size=e.size;n.has=function(t){return e.has(t)};n.get=function(n,i){var o=e.get(n,_);return o===_?i:t.call(r,o,n,e)};n.__iterateUncached=function(n,i){var o=this;return e.__iterate(function(e,i,a){return false!==n(t.call(r,e,i,a),i,o)},i)};n.__iteratorUncached=function(n,i){var o=e.__iterator(A,i);return new B(function(){var i=o.next();if(i.done)return i;var a=i.value;var u=a[0];return U(n,u,t.call(r,a[1],u,e),i)})};return n}function Zt(e,t){var r=gr(e);r._iter=e;r.size=e.size;r.reverse=function(){return e};e.flip&&(r.flip=function(){var t=Xt(e);t.reverse=function(){return e.flip()};return t});r.get=function(r,n){return e.get(t?r:-1-r,n)};r.has=function(r){return e.has(t?r:-1-r)};r.includes=function(t){return e.includes(t)};r.cacheResult=_r;r.__iterate=function(t,r){var n=this;return e.__iterate(function(e,r){return t(e,r,n)},!r)};r.__iterator=function(t,r){return e.__iterator(t,!r)};return r}function er(e,t,r,n){var i=gr(e);if(n){i.has=function(n){var i=e.get(n,_);return i!==_&&!!t.call(r,i,n,e)};i.get=function(n,i){var o=e.get(n,_);return o!==_&&t.call(r,o,n,e)?o:i}}i.__iterateUncached=function(i,o){var a=this;var u=0;e.__iterate(function(e,o,s){if(t.call(r,e,o,s)){u++;return i(e,n?o:u-1,a)}},o);return u};i.__iteratorUncached=function(i,o){var a=e.__iterator(A,o);var u=0;return new B(function(){while(true){var o=a.next();if(o.done)return o;var s=o.value;var c=s[0];var f=s[1];if(t.call(r,f,c,e))return U(i,n?c:u++,f,o)}})};return i}function tr(e,t,r){var n=We().asMutable();e.__iterate(function(i,o){n.update(t.call(r,i,o,e),0,function(e){return e+1})});return n.asImmutable()}function rr(e,t,r){var n=u(e);var i=(f(e)?qt():We()).asMutable();e.__iterate(function(o,a){i.update(t.call(r,o,a,e),function(e){return e=e||[],e.push(n?[a,o]:o),e})});var o=mr(e);return i.map(function(t){return vr(e,o(t))})}function nr(e,t,r,n){var i=e.size;void 0!==t&&(t|=0);void 0!==r&&(Infinity===r?r=i:r|=0);if(j(t,r,i))return e;var o=x(t,i);var a=R(r,i);if(o!==o||a!==a)return nr(e.toSeq().cacheResult(),t,r,n);var u=a-o;var s;u===u&&(s=u<0?0:u);var c=gr(e);c.size=0===s?s:e.size&&s||void 0;!n&&re(e)&&s>=0&&(c.get=function(t,r){t=k(this,t);return t>=0&&t<s?e.get(t+o,r):r});c.__iterateUncached=function(t,r){var i=this;if(0===s)return 0;if(r)return this.cacheResult().__iterate(t,r);var a=0;var u=true;var c=0;e.__iterate(function(e,r){if(!(u&&(u=a++<o))){c++;return false!==t(e,n?r:c-1,i)&&c!==s}});return c};c.__iteratorUncached=function(t,r){if(0!==s&&r)return this.cacheResult().__iterator(t,r);var i=0!==s&&e.__iterator(t,r);var a=0;var u=0;return new B(function(){while(a++<o)i.next();if(++u>s)return q();var e=i.next();return n||t===M?e:U(t,u-1,t===T?void 0:e.value[1],e)})};return c}function ir(e,t,r){var n=gr(e);n.__iterateUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterate(n,i);var a=0;e.__iterate(function(e,i,u){return t.call(r,e,i,u)&&++a&&n(e,i,o)});return a};n.__iteratorUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterator(n,i);var a=e.__iterator(A,i);var u=true;return new B(function(){if(!u)return q();var e=a.next();if(e.done)return e;var i=e.value;var s=i[0];var c=i[1];if(!t.call(r,c,s,o)){u=false;return q()}return n===A?e:U(n,s,c,e)})};return n}function or(e,t,r,n){var i=gr(e);i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var u=true;var s=0;e.__iterate(function(e,o,c){if(!(u&&(u=t.call(r,e,o,c)))){s++;return i(e,n?o:s-1,a)}});return s};i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var u=e.__iterator(A,o);var s=true;var c=0;return new B(function(){var e,o,f;do{e=u.next();if(e.done)return n||i===M?e:U(i,c++,i===T?void 0:e.value[1],e);var l=e.value;o=l[0];f=l[1];s&&(s=t.call(r,f,o,a))}while(s);return i===A?e:U(i,o,f,e)})};return i}function ar(e,t){var r=u(e);var i=[e].concat(t).map(function(e){a(e)?r&&(e=n(e)):e=r?oe(e):ae(Array.isArray(e)?e:[e]);return e}).filter(function(e){return 0!==e.size});if(0===i.length)return e;if(1===i.length){var o=i[0];if(o===e||r&&u(o)||s(e)&&s(o))return o}var c=new Q(i);r?c=c.toKeyedSeq():s(e)||(c=c.toSetSeq());c=c.flatten(true);c.size=i.reduce(function(e,t){if(void 0!==e){var r=t.size;if(void 0!==r)return e+r}},0);return c}function ur(e,t,r){var n=gr(e);n.__iterateUncached=function(n,i){var o=0;var u=false;function s(e,c){var f=this;e.__iterate(function(e,i){(!t||c<t)&&a(e)?s(e,c+1):false===n(e,r?i:o++,f)&&(u=true);return!u},i)}s(e,0);return o};n.__iteratorUncached=function(n,i){var o=e.__iterator(n,i);var u=[];var s=0;return new B(function(){while(o){var e=o.next();if(false!==e.done){o=u.pop();continue}var c=e.value;n===A&&(c=c[1]);if(t&&!(u.length<t)||!a(c))return r?e:U(n,s++,c,e);u.push(o);o=c.__iterator(n,i)}return q()})};return n}function sr(e,t,r){var n=mr(e);return e.toSeq().map(function(i,o){return n(t.call(r,i,o,e))}).flatten(true)}function cr(e,t){var r=gr(e);r.size=e.size&&2*e.size-1;r.__iterateUncached=function(r,n){var i=this;var o=0;e.__iterate(function(e,n){return(!o||false!==r(t,o++,i))&&false!==r(e,o++,i)},n);return o};r.__iteratorUncached=function(r,n){var i=e.__iterator(M,n);var o=0;var a;return new B(function(){if(!a||o%2){a=i.next();if(a.done)return a}return o%2?U(r,o++,t):U(r,o++,a.value,a)})};return r}function fr(e,t,r){t||(t=br);var n=u(e);var i=0;var o=e.toSeq().map(function(t,n){return[n,t,i++,r?r(t,n,e):t]}).toArray();o.sort(function(e,r){return t(e[3],r[3])||e[2]-r[2]}).forEach(n?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]});return n?$(o):s(e)?Y(o):J(o)}function lr(e,t,r){t||(t=br);if(r){var n=e.toSeq().map(function(t,n){return[t,r(t,n,e)]}).reduce(function(e,r){return pr(t,e[1],r[1])?r:e});return n&&n[0]}return e.reduce(function(e,r){return pr(t,e,r)?r:e})}function pr(e,t,r){var n=e(r,t);return 0===n&&r!==t&&(void 0===r||null===r||r!==r)||n>0}function dr(e,t,n){var i=gr(e);i.size=new Q(n).map(function(e){return e.size}).min();i.__iterate=function(e,t){var r=this.__iterator(M,t);var n;var i=0;while(!(n=r.next()).done)if(false===e(n.value,i++,this))break;return i};i.__iteratorUncached=function(e,i){var o=n.map(function(e){return e=r(e),W(i?e.reverse():e)});var a=0;var u=false;return new B(function(){var r;if(!u){r=o.map(function(e){return e.next()});u=r.some(function(e){return e.done})}if(u)return q();return U(e,a++,t.apply(null,r.map(function(e){return e.value})))})};return i}function vr(e,t){return re(e)?t:e.constructor(t)}function hr(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function yr(e){He(e.size);return P(e)}function mr(e){return u(e)?n:s(e)?i:o}function gr(e){return Object.create((u(e)?$:s(e)?Y:J).prototype)}function _r(){if(this._iter.cacheResult){this._iter.cacheResult();this.size=this._iter.size;return this}return K.prototype.cacheResult.call(this)}function br(e,t){return e>t?1:e<t?-1:0}function wr(e){var t=W(e);if(!t){if(!V(e))throw new TypeError("Expected iterable or array-like: "+e);t=W(r(e))}return t}t(Ir,Oe);function Ir(e,t){var r;var n=function o(a){if(a instanceof n)return a;if(!(this instanceof n))return new n(a);if(!r){r=true;var u=Object.keys(e);Pr(i,u);i.size=u.length;i._name=t;i._keys=u;i._defaultValues=e}this._map=We(a)};var i=n.prototype=Object.create(Or);i.constructor=n;return n}Ir.prototype.toString=function(){return this.__toString(Er(this)+" {","}")};Ir.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)};Ir.prototype.get=function(e,t){if(!this.has(e))return t;var r=this._defaultValues[e];return this._map?this._map.get(e,r):r};Ir.prototype.clear=function(){if(this.__ownerID){this._map&&this._map.clear();return this}var e=this.constructor;return e._empty||(e._empty=Sr(this,it()))};Ir.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+Er(this));if(this._map&&!this._map.has(e)){var r=this._defaultValues[e];if(t===r)return this}var n=this._map&&this._map.set(e,t);if(this.__ownerID||n===this._map)return this;return Sr(this,n)};Ir.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);if(this.__ownerID||t===this._map)return this;return Sr(this,t)};Ir.prototype.wasAltered=function(){return this._map.wasAltered()};Ir.prototype.__iterator=function(e,t){var r=this;return n(this._defaultValues).map(function(e,t){return r.get(t)}).__iterator(e,t)};Ir.prototype.__iterate=function(e,t){var r=this;return n(this._defaultValues).map(function(e,t){return r.get(t)}).__iterate(e,t)};Ir.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);if(!e){this.__ownerID=e;this._map=t;return this}return Sr(this,t,e)};var Or=Ir.prototype;Or[h]=Or.remove;Or.deleteIn=Or.removeIn=Ke.removeIn;Or.merge=Ke.merge;Or.mergeWith=Ke.mergeWith;Or.mergeIn=Ke.mergeIn;Or.mergeDeep=Ke.mergeDeep;Or.mergeDeepWith=Ke.mergeDeepWith;Or.mergeDeepIn=Ke.mergeDeepIn;Or.setIn=Ke.setIn;Or.update=Ke.update;Or.updateIn=Ke.updateIn;Or.withMutations=Ke.withMutations;Or.asMutable=Ke.asMutable;Or.asImmutable=Ke.asImmutable;function Sr(e,t,r){var n=Object.create(Object.getPrototypeOf(e));n._map=t;n.__ownerID=r;return n}function Er(e){return e._name||e.constructor.name||"Record"}function Pr(e,t){try{t.forEach(kr.bind(void 0,e))}catch(e){}}function kr(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){_e(this.__ownerID,"Cannot set on an immutable record.");this.set(t,e)}})}t(Dr,Ee);function Dr(e){return null===e||void 0===e?Ar():jr(e)&&!f(e)?e:Ar().withMutations(function(t){var r=o(e);He(r.size);r.forEach(function(e){return t.add(e)})})}Dr.of=function(){return this(arguments)};Dr.fromKeys=function(e){return this(n(e).keySeq())};Dr.prototype.toString=function(){return this.__toString("Set {","}")};Dr.prototype.has=function(e){return this._map.has(e)};Dr.prototype.add=function(e){return Cr(this,this._map.set(e,true))};Dr.prototype.remove=function(e){return Cr(this,this._map.remove(e))};Dr.prototype.clear=function(){return Cr(this,this._map.clear())};Dr.prototype.union=function(){var t=e.call(arguments,0);t=t.filter(function(e){return 0!==e.size});if(0===t.length)return this;if(0===this.size&&!this.__ownerID&&1===t.length)return this.constructor(t[0]);return this.withMutations(function(e){for(var r=0;r<t.length;r++)o(t[r]).forEach(function(t){return e.add(t)})})};Dr.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map(function(e){return o(e)});var r=this;return this.withMutations(function(e){r.forEach(function(r){t.every(function(e){return e.includes(r)})||e.remove(r)})})};Dr.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map(function(e){return o(e)});var r=this;return this.withMutations(function(e){r.forEach(function(r){t.some(function(e){return e.includes(r)})&&e.remove(r)})})};Dr.prototype.merge=function(){return this.union.apply(this,arguments)};Dr.prototype.mergeWith=function(t){var r=e.call(arguments,1);return this.union.apply(this,r)};Dr.prototype.sort=function(e){return Lr(fr(this,e))};Dr.prototype.sortBy=function(e,t){return Lr(fr(this,t,e))};Dr.prototype.wasAltered=function(){return this._map.wasAltered()};Dr.prototype.__iterate=function(e,t){var r=this;return this._map.__iterate(function(t,n){return e(n,n,r)},t)};Dr.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)};Dr.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);if(!e){this.__ownerID=e;this._map=t;return this}return this.__make(t,e)};function jr(e){return!!(e&&e[xr])}Dr.isSet=jr;var xr="@@__IMMUTABLE_SET__@@";var Rr=Dr.prototype;Rr[xr]=true;Rr[h]=Rr.remove;Rr.mergeDeep=Rr.merge;Rr.mergeDeepWith=Rr.mergeWith;Rr.withMutations=Ke.withMutations;Rr.asMutable=Ke.asMutable;Rr.asImmutable=Ke.asImmutable;Rr.__empty=Ar;Rr.__make=Tr;function Cr(e,t){if(e.__ownerID){e.size=t.size;e._map=t;return e}return t===e._map?e:0===t.size?e.__empty():e.__make(t)}function Tr(e,t){var r=Object.create(Rr);r.size=e?e.size:0;r._map=e;r.__ownerID=t;return r}var Mr;function Ar(){return Mr||(Mr=Tr(it()))}t(Lr,Dr);function Lr(e){return null===e||void 0===e?qr():zr(e)?e:qr().withMutations(function(t){var r=o(e);He(r.size);r.forEach(function(e){return t.add(e)})})}Lr.of=function(){return this(arguments)};Lr.fromKeys=function(e){return this(n(e).keySeq())};Lr.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function zr(e){return jr(e)&&f(e)}Lr.isOrderedSet=zr;var Nr=Lr.prototype;Nr[v]=true;Nr.__empty=qr;Nr.__make=Br;function Br(e,t){var r=Object.create(Nr);r.size=e?e.size:0;r._map=e;r.__ownerID=t;return r}var Ur;function qr(){return Ur||(Ur=Br(Gt()))}t(Fr,Se);function Fr(e){return null===e||void 0===e?$r():Hr(e)?e:$r().unshiftAll(e)}Fr.of=function(){return this(arguments)};Fr.prototype.toString=function(){return this.__toString("Stack [","]")};Fr.prototype.get=function(e,t){var r=this._head;e=k(this,e);while(r&&e--)r=r.next;return r?r.value:t};Fr.prototype.peek=function(){return this._head&&this._head.value};Fr.prototype.push=function(){if(0===arguments.length)return this;var e=this.size+arguments.length;var t=this._head;for(var r=arguments.length-1;r>=0;r--)t={value:arguments[r],next:t};if(this.__ownerID){this.size=e;this._head=t;this.__hash=void 0;this.__altered=true;return this}return Vr(e,t)};Fr.prototype.pushAll=function(e){e=i(e);if(0===e.size)return this;He(e.size);var t=this.size;var r=this._head;e.reverse().forEach(function(e){t++;r={value:e,next:r}});if(this.__ownerID){this.size=t;this._head=r;this.__hash=void 0;this.__altered=true;return this}return Vr(t,r)};Fr.prototype.pop=function(){return this.slice(1)};Fr.prototype.unshift=function(){return this.push.apply(this,arguments)};Fr.prototype.unshiftAll=function(e){return this.pushAll(e)};Fr.prototype.shift=function(){return this.pop.apply(this,arguments)};Fr.prototype.clear=function(){if(0===this.size)return this;if(this.__ownerID){this.size=0;this._head=void 0;this.__hash=void 0;this.__altered=true;return this}return $r()};Fr.prototype.slice=function(e,t){if(j(e,t,this.size))return this;var r=x(e,this.size);var n=R(t,this.size);if(n!==this.size)return Se.prototype.slice.call(this,e,t);var i=this.size-r;var o=this._head;while(r--)o=o.next;if(this.__ownerID){this.size=i;this._head=o;this.__hash=void 0;this.__altered=true;return this}return Vr(i,o)};Fr.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;if(!e){this.__ownerID=e;this.__altered=false;return this}return Vr(this.size,this._head,e,this.__hash)};Fr.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);var r=0;var n=this._head;while(n){if(false===e(n.value,r++,this))break;n=n.next}return r};Fr.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var r=0;var n=this._head;return new B(function(){if(n){var t=n.value;n=n.next;return U(e,r++,t)}return q()})};function Hr(e){return!!(e&&e[Wr])}Fr.isStack=Hr;var Wr="@@__IMMUTABLE_STACK__@@";var Gr=Fr.prototype;Gr[Wr]=true;Gr.withMutations=Ke.withMutations;Gr.asMutable=Ke.asMutable;Gr.asImmutable=Ke.asImmutable;Gr.wasAltered=Ke.wasAltered;function Vr(e,t,r,n){var i=Object.create(Gr);i.size=e;i._head=t;i.__ownerID=r;i.__hash=n;i.__altered=false;return i}var Kr;function $r(){return Kr||(Kr=Vr(0))}function Yr(e,t){var r=function(r){e.prototype[r]=t[r]};Object.keys(t).forEach(r);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r);return e}r.Iterator=B;Yr(r,{toArray:function(){He(this.size);var e=new Array(this.size||0);this.valueSeq().__iterate(function(t,r){e[r]=t});return e},toIndexedSeq:function(){return new $t(this)},toJS:function(){return this.toSeq().map(function(e){return e&&"function"===typeof e.toJS?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&"function"===typeof e.toJSON?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new Kt(this,true)},toMap:function(){return We(this.toKeyedSeq())},toObject:function(){He(this.size);var e={};this.__iterate(function(t,r){e[r]=t});return e},toOrderedMap:function(){return qt(this.toKeyedSeq())},toOrderedSet:function(){return Lr(u(this)?this.valueSeq():this)},toSet:function(){return Dr(u(this)?this.valueSeq():this)},toSetSeq:function(){return new Yt(this)},toSeq:function(){return s(this)?this.toIndexedSeq():u(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Fr(u(this)?this.valueSeq():this)},toList:function(){return St(u(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){if(0===this.size)return e+t;return e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var t=e.call(arguments,0);return vr(this,ar(this,t))},includes:function(e){return this.some(function(t){return he(t,e)})},entries:function(){return this.__iterator(A)},every:function(e,t){He(this.size);var r=true;this.__iterate(function(n,i,o){if(!e.call(t,n,i,o)){r=false;return false}});return r},filter:function(e,t){return vr(this,er(this,e,t,true))},find:function(e,t,r){var n=this.findEntry(e,t);return n?n[1]:r},forEach:function(e,t){He(this.size);return this.__iterate(t?e.bind(t):e)},join:function(e){He(this.size);e=void 0!==e?""+e:",";var t="";var r=true;this.__iterate(function(n){r?r=false:t+=e;t+=null!==n&&void 0!==n?n.toString():""});return t},keys:function(){return this.__iterator(T)},map:function(e,t){return vr(this,Qt(this,e,t))},reduce:function(e,t,r){He(this.size);var n;var i;arguments.length<2?i=true:n=t;this.__iterate(function(t,o,a){if(i){i=false;n=t}else n=e.call(r,n,t,o,a)});return n},reduceRight:function(e,t,r){var n=this.toKeyedSeq().reverse();return n.reduce.apply(n,arguments)},reverse:function(){return vr(this,Zt(this,true))},slice:function(e,t){return vr(this,nr(this,e,t,true))},some:function(e,t){return!this.every(en(e),t)},sort:function(e){return vr(this,fr(this,e))},values:function(){return this.__iterator(M)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return true})},count:function(e,t){return P(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return tr(this,e,t)},equals:function(e){return ye(this,e)},entrySeq:function(){var e=this;if(e._cache)return new Q(e._cache);var t=e.toSeq().map(Zr).toIndexedSeq();t.fromEntrySeq=function(){return e.toSeq()};return t},filterNot:function(e,t){return this.filter(en(e),t)},findEntry:function(e,t,r){var n=r;this.__iterate(function(r,i,o){if(e.call(t,r,i,o)){n=[i,r];return false}});return n},findKey:function(e,t){var r=this.findEntry(e,t);return r&&r[0]},findLast:function(e,t,r){return this.toKeyedSeq().reverse().find(e,t,r)},findLastEntry:function(e,t,r){return this.toKeyedSeq().reverse().findEntry(e,t,r)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(D)},flatMap:function(e,t){return vr(this,sr(this,e,t))},flatten:function(e){return vr(this,ur(this,e,true))},fromEntrySeq:function(){return new Jt(this)},get:function(e,t){return this.find(function(t,r){return he(r,e)},void 0,t)},getIn:function(e,t){var r=this;var n=wr(e);var i;while(!(i=n.next()).done){var o=i.value;r=r&&r.get?r.get(o,_):_;if(r===_)return t}return r},groupBy:function(e,t){return rr(this,e,t)},has:function(e){return this.get(e,_)!==_},hasIn:function(e){return this.getIn(e,_)!==_},isSubset:function(e){e="function"===typeof e.includes?e:r(e);return this.every(function(t){return e.includes(t)})},isSuperset:function(e){e="function"===typeof e.isSubset?e:r(e);return e.isSubset(this)},keyOf:function(e){return this.findKey(function(t){return he(t,e)})},keySeq:function(){return this.toSeq().map(Qr).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return lr(this,e)},maxBy:function(e,t){return lr(this,t,e)},min:function(e){return lr(this,e?tn(e):on)},minBy:function(e,t){return lr(this,t?tn(t):on,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return vr(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return vr(this,or(this,e,t,true))},skipUntil:function(e,t){return this.skipWhile(en(e),t)},sortBy:function(e,t){return vr(this,fr(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return vr(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return vr(this,ir(this,e,t))},takeUntil:function(e,t){return this.takeWhile(en(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=an(this))}});var Jr=r.prototype;Jr[l]=true;Jr[N]=Jr.values;Jr.__toJS=Jr.toArray;Jr.__toStringMapper=rn;Jr.inspect=Jr.toSource=function(){return this.toString()};Jr.chain=Jr.flatMap;Jr.contains=Jr.includes;Yr(n,{flip:function(){return vr(this,Xt(this))},mapEntries:function(e,t){var r=this;var n=0;return vr(this,this.toSeq().map(function(i,o){return e.call(t,[o,i],n++,r)}).fromEntrySeq())},mapKeys:function(e,t){var r=this;return vr(this,this.toSeq().flip().map(function(n,i){return e.call(t,n,i,r)}).flip())}});var Xr=n.prototype;Xr[p]=true;Xr[N]=Jr.entries;Xr.__toJS=Jr.toObject;Xr.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+rn(e)};Yr(i,{toKeyedSeq:function(){return new Kt(this,false)},filter:function(e,t){return vr(this,er(this,e,t,false))},findIndex:function(e,t){var r=this.findEntry(e,t);return r?r[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return vr(this,Zt(this,false))},slice:function(e,t){return vr(this,nr(this,e,t,false))},splice:function(e,t){var r=arguments.length;t=Math.max(0|t,0);if(0===r||2===r&&!t)return this;e=x(e,e<0?this.count():this.size);var n=this.slice(0,e);return vr(this,1===r?n:n.concat(E(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var r=this.findLastEntry(e,t);return r?r[0]:-1},first:function(){return this.get(0)},flatten:function(e){return vr(this,ur(this,e,false))},get:function(e,t){e=k(this,e);return e<0||Infinity===this.size||void 0!==this.size&&e>this.size?t:this.find(function(t,r){return r===e},void 0,t)},has:function(e){e=k(this,e);return e>=0&&(void 0!==this.size?Infinity===this.size||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return vr(this,cr(this,e))},interleave:function(){var e=[this].concat(E(arguments));var t=dr(this.toSeq(),Y.of,e);var r=t.flatten(true);t.size&&(r.size=t.size*e.length);return vr(this,r)},keySeq:function(){return be(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return vr(this,or(this,e,t,false))},zip:function(){var e=[this].concat(E(arguments));return vr(this,dr(this,nn,e))},zipWith:function(e){var t=E(arguments);t[0]=this;return vr(this,dr(this,e,t))}});i.prototype[d]=true;i.prototype[v]=true;Yr(o,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});o.prototype.has=Jr.includes;o.prototype.contains=o.prototype.includes;Yr($,n.prototype);Yr(Y,i.prototype);Yr(J,o.prototype);Yr(Oe,n.prototype);Yr(Se,i.prototype);Yr(Ee,o.prototype);function Qr(e,t){return t}function Zr(e,t){return[t,e]}function en(e){return function(){return!e.apply(this,arguments)}}function tn(e){return function(){return-e.apply(this,arguments)}}function rn(e){return"string"===typeof e?JSON.stringify(e):String(e)}function nn(){return E(arguments)}function on(e,t){return e<t?1:e>t?-1:0}function an(e){if(Infinity===e.size)return 0;var t=f(e);var r=u(e);var n=t?1:0;var i=e.__iterate(r?t?function(e,t){n=31*n+sn(De(e),De(t))|0}:function(e,t){n=n+sn(De(e),De(t))|0}:t?function(e){n=31*n+De(e)|0}:function(e){n=n+De(e)|0});return un(i,n)}function un(e,t){t=Pe(t,3432918353);t=Pe(t<<15|t>>>-15,461845907);t=Pe(t<<13|t>>>-13,5);t=(t+3864292196|0)^e;t=Pe(t^t>>>16,2246822507);t=Pe(t^t>>>13,3266489909);t=ke(t^t>>>16);return t}function sn(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var cn={Iterable:r,Seq:K,Collection:Ie,Map:We,OrderedMap:qt,List:St,Stack:Fr,Set:Dr,OrderedSet:Lr,Record:Ir,Range:be,Repeat:me,is:he,fromJS:le};return cn})},656:function(e,t,r){"use strict";var n=r(260),i=r(657),o=r(278),a="function"===typeof Symbol&&Symbol["for"],u=a?Symbol["for"]("react.element"):60103,s=a?Symbol["for"]("react.portal"):60106,c=a?Symbol["for"]("react.fragment"):60107,f=a?Symbol["for"]("react.strict_mode"):60108,l=a?Symbol["for"]("react.provider"):60109,p=a?Symbol["for"]("react.context"):60110,d=a?Symbol["for"]("react.async_mode"):60111,v=a?Symbol["for"]("react.forward_ref"):60112,h="function"===typeof Symbol&&Symbol.iterator;function y(e){for(var t=arguments.length-1,r="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,n=0;n<t;n++)r+="&args[]="+encodeURIComponent(arguments[n+1]);t=Error(r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");t.name="Invariant Violation";t.framesToPop=1;throw t}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function g(e,t,r){this.props=e;this.context=t;this.refs=i;this.updater=r||m}g.prototype.isReactComponent={};g.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e?y("85"):void 0;this.updater.enqueueSetState(this,e,t,"setState")};g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _(){}_.prototype=g.prototype;function b(e,t,r){this.props=e;this.context=t;this.refs=i;this.updater=r||m}var w=b.prototype=new _;w.constructor=b;n(w,g.prototype);w.isPureReactComponent=!0;var I={current:null},O=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var n=void 0,i={},o=null,a=null;if(null!=t)for(n in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)O.call(t,n)&&!S.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(1===s)i.children=r;else if(1<s){for(var c=Array(s),f=0;f<s;f++)c[f]=arguments[f+2];i.children=c}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)void 0===i[n]&&(i[n]=s[n]);return{$$typeof:u,type:e,key:o,ref:a,props:i,_owner:I.current}}function P(e){return"object"===typeof e&&null!==e&&e.$$typeof===u}function k(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}var D=/\/+/g,j=[];function x(e,t,r,n){if(j.length){var i=j.pop();i.result=e;i.keyPrefix=t;i.func=r;i.context=n;i.count=0;return i}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function R(e){e.result=null;e.keyPrefix=null;e.func=null;e.context=null;e.count=0;10>j.length&&j.push(e)}function C(e,t,r,n){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case u:case s:o=!0}}if(o)return r(n,e,""===t?"."+T(e,0):t),1;o=0;t=""===t?".":t+":";if(Array.isArray(e))for(var a=0;a<e.length;a++){i=e[a];var c=t+T(i,a);o+=C(i,c,r,n)}else if(null===e||"undefined"===typeof e?c=null:(c=h&&e[h]||e["@@iterator"],c="function"===typeof c?c:null),"function"===typeof c)for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=t+T(i,a++),o+=C(i,c,r,n);else"object"===i&&(r=""+e,y("31","[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return o}function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?k(e.key):t.toString(36)}function M(e,t){e.func.call(e.context,t,e.count++)}function A(e,t,r){var n=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++);Array.isArray(e)?L(e,n,r,o.thatReturnsArgument):null!=e&&(P(e)&&(t=i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(D,"$&/")+"/")+r,e={$$typeof:u,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),n.push(e))}function L(e,t,r,n,i){var o="";null!=r&&(o=(""+r).replace(D,"$&/")+"/");t=x(t,o,n,i);null==e||C(e,"",A,t);R(t)}var z={Children:{map:function(e,t,r){if(null==e)return e;var n=[];L(e,n,null,t,r);return n},forEach:function(e,t,r){if(null==e)return e;t=x(null,null,t,r);null==e||C(e,"",M,t);R(t)},count:function(e){return null==e?0:C(e,"",o.thatReturnsNull,null)},toArray:function(e){var t=[];L(e,t,null,o.thatReturnsArgument);return t},only:function(e){P(e)?void 0:y("143");return e}},createRef:function(){return{current:null}},Component:g,PureComponent:b,createContext:function(e,t){void 0===t&&(t=null);e={$$typeof:p,_calculateChangedBits:t,_defaultValue:e,_currentValue:e,_changedBits:0,Provider:null,Consumer:null};e.Provider={$$typeof:l,_context:e};return e.Consumer=e},forwardRef:function(e){return{$$typeof:v,render:e}},Fragment:c,StrictMode:f,unstable_AsyncMode:d,createElement:E,cloneElement:function(e,t,r){var i=void 0,o=n({},e.props),a=e.key,s=e.ref,c=e._owner;if(null!=t){void 0!==t.ref&&(s=t.ref,c=I.current);void 0!==t.key&&(a=""+t.key);var f=void 0;e.type&&e.type.defaultProps&&(f=e.type.defaultProps);for(i in t)O.call(t,i)&&!S.hasOwnProperty(i)&&(o[i]=void 0===t[i]&&void 0!==f?f[i]:t[i])}i=arguments.length-2;if(1===i)o.children=r;else if(1<i){f=Array(i);for(var l=0;l<i;l++)f[l]=arguments[l+2];o.children=f}return{$$typeof:u,type:e.type,key:a,ref:s,props:o,_owner:c}},createFactory:function(e){var t=E.bind(null,e);t.type=e;return t},isValidElement:P,version:"16.3.1",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:I,assign:n}},N=Object.freeze({default:z}),B=N&&z||N;e.exports=B["default"]?B["default"]:B},657:function(e,t,r){"use strict";var n={};false;e.exports=n},7:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1704);Object.defineProperty(t,"IconActivity",{enumerable:true,get:function e(){return mt(n).default}});var i=r(1705);Object.defineProperty(t,"IconAlert",{enumerable:true,get:function e(){return mt(i).default}});var o=r(2924);Object.defineProperty(t,"IconAlignLeft",{enumerable:true,get:function e(){return mt(o).default}});var a=r(2925);Object.defineProperty(t,"IconAlignCenter",{enumerable:true,get:function e(){return mt(a).default}});var u=r(1706);Object.defineProperty(t,"IconApiMethod",{enumerable:true,get:function e(){return mt(u).default}});var s=r(1707);Object.defineProperty(t,"IconArrowDown",{enumerable:true,get:function e(){return mt(s).default}});var c=r(1708);Object.defineProperty(t,"IconArrowLeft",{enumerable:true,get:function e(){return mt(c).default}});var f=r(1709);Object.defineProperty(t,"IconArrowRight",{enumerable:true,get:function e(){return mt(f).default}});var l=r(1710);Object.defineProperty(t,"IconArrows",{enumerable:true,get:function e(){return mt(l).default}});var p=r(1711);Object.defineProperty(t,"IconArrowUp",{enumerable:true,get:function e(){return mt(p).default}});var d=r(1712);Object.defineProperty(t,"IconBell",{enumerable:true,get:function e(){return mt(d).default}});var v=r(1713);Object.defineProperty(t,"IconBold",{enumerable:true,get:function e(){return mt(v).default}});var h=r(1714);Object.defineProperty(t,"IconBook",{enumerable:true,get:function e(){return mt(h).default}});var y=r(1715);Object.defineProperty(t,"IconBriefCase",{enumerable:true,get:function e(){return mt(y).default}});var m=r(1716);Object.defineProperty(t,"IconCard",{enumerable:true,get:function e(){return mt(m).default}});var g=r(1717);Object.defineProperty(t,"IconCheck",{enumerable:true,get:function e(){return mt(g).default}});var _=r(1718);Object.defineProperty(t,"IconHide",{enumerable:true,get:function e(){return mt(_).default}});var b=r(1719);Object.defineProperty(t,"IconCheckCircle",{enumerable:true,get:function e(){return mt(b).default}});var w=r(1720);Object.defineProperty(t,"IconChevronDown",{enumerable:true,get:function e(){return mt(w).default}});var I=r(1721);Object.defineProperty(t,"IconChevronLeft",{enumerable:true,get:function e(){return mt(I).default}});var O=r(1722);Object.defineProperty(t,"IconChevronRight",{enumerable:true,get:function e(){return mt(O).default}});var S=r(1723);Object.defineProperty(t,"IconChevronSelect",{enumerable:true,get:function e(){return mt(S).default}});var E=r(1724);Object.defineProperty(t,"IconChevronUp",{enumerable:true,get:function e(){return mt(E).default}});var P=r(1725);Object.defineProperty(t,"IconCircle",{enumerable:true,get:function e(){return mt(P).default}});var k=r(1726);Object.defineProperty(t,"IconCirclePlus",{enumerable:true,get:function e(){return mt(k).default}});var D=r(1727);Object.defineProperty(t,"IconCircleRight",{enumerable:true,get:function e(){return mt(D).default}});var j=r(1728);Object.defineProperty(t,"IconClock",{enumerable:true,get:function e(){return mt(j).default}});var x=r(1729);Object.defineProperty(t,"IconCode",{enumerable:true,get:function e(){return mt(x).default}});var R=r(1730);Object.defineProperty(t,"IconCommand",{enumerable:true,get:function e(){return mt(R).default}});var C=r(1731);Object.defineProperty(t,"IconComment",{enumerable:true,get:function e(){return mt(C).default}});var T=r(1732);Object.defineProperty(t,"IconCommit",{enumerable:true,get:function e(){return mt(T).default}});var M=r(1733);Object.defineProperty(t,"IconCopy",{enumerable:true,get:function e(){return mt(M).default}});var A=r(1734);Object.defineProperty(t,"IconCornerDownRight",{enumerable:true,get:function e(){return mt(A).default}});var L=r(1735);Object.defineProperty(t,"IconCornerLeftUp",{enumerable:true,get:function e(){return mt(L).default}});var z=r(1736);Object.defineProperty(t,"IconDiff",{enumerable:true,get:function e(){return mt(z).default}});var N=r(1737);Object.defineProperty(t,"IconDiscussion",{enumerable:true,get:function e(){return mt(N).default}});var B=r(1738);Object.defineProperty(t,"IconDot",{enumerable:true,get:function e(){return mt(B).default}});var U=r(1739);Object.defineProperty(t,"IconDownload",{enumerable:true,get:function e(){return mt(U).default}});var q=r(1740);Object.defineProperty(t,"IconEllipsisH",{enumerable:true,get:function e(){return mt(q).default}});var F=r(1741);Object.defineProperty(t,"IconEllipsisV",{enumerable:true,get:function e(){return mt(F).default}});var H=r(1742);Object.defineProperty(t,"IconEdit",{enumerable:true,get:function e(){return mt(H).default}});var W=r(1743);Object.defineProperty(t,"IconExclamationCircle",{enumerable:true,get:function e(){return mt(W).default}});var G=r(1744);Object.defineProperty(t,"IconExternalLink",{enumerable:true,get:function e(){return mt(G).default}});var V=r(1745);Object.defineProperty(t,"IconEye",{enumerable:true,get:function e(){return mt(V).default}});var K=r(1746);Object.defineProperty(t,"IconFeed",{enumerable:true,get:function e(){return mt(K).default}});var $=r(1747);Object.defineProperty(t,"IconFeedbackBad",{enumerable:true,get:function e(){return mt($).default}});var Y=r(1748);Object.defineProperty(t,"IconFeedbackGood",{enumerable:true,get:function e(){return mt(Y).default}});var J=r(1749);Object.defineProperty(t,"IconFeedbackOk",{enumerable:true,get:function e(){return mt(J).default}});var X=r(1750);Object.defineProperty(t,"IconFile",{enumerable:true,get:function e(){return mt(X).default}});var Q=r(1751);Object.defineProperty(t,"IconFileCode",{enumerable:true,get:function e(){return mt(Q).default}});var Z=r(1752);Object.defineProperty(t,"IconFolder",{enumerable:true,get:function e(){return mt(Z).default}});var ee=r(1753);Object.defineProperty(t,"IconGear",{enumerable:true,get:function e(){return mt(ee).default}});var te=r(1754);Object.defineProperty(t,"IconGitBranch",{enumerable:true,get:function e(){return mt(te).default}});var re=r(1755);Object.defineProperty(t,"IconGitHub",{enumerable:true,get:function e(){return mt(re).default}});var ne=r(1756);Object.defineProperty(t,"IconGitHubLogo",{enumerable:true,get:function e(){return mt(ne).default}});var ie=r(1757);Object.defineProperty(t,"IconGlobe",{enumerable:true,get:function e(){return mt(ie).default}});var oe=r(1758);Object.defineProperty(t,"IconGoogleAnalytics",{enumerable:true,get:function e(){return mt(oe).default}});var ae=r(1759);Object.defineProperty(t,"IconGoogleLogo",{enumerable:true,get:function e(){return mt(ae).default}});var ue=r(1760);Object.defineProperty(t,"IconGrabber",{enumerable:true,get:function e(){return mt(ue).default}});var se=r(1761);Object.defineProperty(t,"IconGrabberH",{enumerable:true,get:function e(){return mt(se).default}});var ce=r(1762);Object.defineProperty(t,"IconGrabberV",{enumerable:true,get:function e(){return mt(ce).default}});var fe=r(1763);Object.defineProperty(t,"IconGrid",{enumerable:true,get:function e(){return mt(fe).default}});var le=r(1764);Object.defineProperty(t,"IconGroup",{enumerable:true,get:function e(){return mt(le).default}});var pe=r(1765);Object.defineProperty(t,"IconHash",{enumerable:true,get:function e(){return mt(pe).default}});var de=r(1766);Object.defineProperty(t,"IconHeading1",{enumerable:true,get:function e(){return mt(de).default}});var ve=r(1767);Object.defineProperty(t,"IconHeading2",{enumerable:true,get:function e(){return mt(ve).default}});var he=r(1768);Object.defineProperty(t,"IconHeading3",{enumerable:true,get:function e(){return mt(he).default}});var ye=r(1769);Object.defineProperty(t,"IconHeart",{enumerable:true,get:function e(){return mt(ye).default}});var me=r(1770);Object.defineProperty(t,"IconHelpCircle",{enumerable:true,get:function e(){return mt(me).default}});var ge=r(1771);Object.defineProperty(t,"IconHistory",{enumerable:true,get:function e(){return mt(ge).default}});var _e=r(1772);Object.defineProperty(t,"IconImage",{enumerable:true,get:function e(){return mt(_e).default}});var be=r(1773);Object.defineProperty(t,"IconInfoCircle",{enumerable:true,get:function e(){return mt(be).default}});var we=r(1774);Object.defineProperty(t,"IconIntercom",{enumerable:true,get:function e(){return mt(we).default}});var Ie=r(1775);Object.defineProperty(t,"IconItalic",{enumerable:true,get:function e(){return mt(Ie).default}});var Oe=r(1776);Object.defineProperty(t,"IconLayers",{enumerable:true,get:function e(){return mt(Oe).default}});var Se=r(1777);Object.defineProperty(t,"IconLayout",{enumerable:true,get:function e(){return mt(Se).default}});var Ee=r(1778);Object.defineProperty(t,"IconLink",{enumerable:true,get:function e(){return mt(Ee).default}});var Pe=r(1779);Object.defineProperty(t,"IconListOrdered",{enumerable:true,get:function e(){return mt(Pe).default}});var ke=r(1780);Object.defineProperty(t,"IconListTasks",{enumerable:true,get:function e(){return mt(ke).default}});var De=r(1781);Object.defineProperty(t,"IconListUnordered",{enumerable:true,get:function e(){return mt(De).default}});var je=r(1782);Object.defineProperty(t,"IconLock",{enumerable:true,get:function e(){return mt(je).default}});var xe=r(1783);Object.defineProperty(t,"IconMegaphone",{enumerable:true,get:function e(){return mt(xe).default}});var Re=r(1784);Object.defineProperty(t,"IconMenu",{enumerable:true,get:function e(){return mt(Re).default}});var Ce=r(1785);Object.defineProperty(t,"IconMoreHorizontal",{enumerable:true,get:function e(){return mt(Ce).default}});var Te=r(1786);Object.defineProperty(t,"IconPackage",{enumerable:true,get:function e(){return mt(Te).default}});var Me=r(1787);Object.defineProperty(t,"IconPageLink",{enumerable:true,get:function e(){return mt(Me).default}});var Ae=r(1788);Object.defineProperty(t,"IconParagraph",{enumerable:true,get:function e(){return mt(Ae).default}});var Le=r(1789);Object.defineProperty(t,"IconPencil",{enumerable:true,get:function e(){return mt(Le).default}});var ze=r(1790);Object.defineProperty(t,"IconPerson",{enumerable:true,get:function e(){return mt(ze).default}});var Ne=r(1791);Object.defineProperty(t,"IconPlus",{enumerable:true,get:function e(){return mt(Ne).default}});var Be=r(1792);Object.defineProperty(t,"IconQuestion",{enumerable:true,get:function e(){return mt(Be).default}});var Ue=r(1793);Object.defineProperty(t,"IconQuote",{enumerable:true,get:function e(){return mt(Ue).default}});var qe=r(1794);Object.defineProperty(t,"IconRedo",{enumerable:true,get:function e(){return mt(qe).default}});var Fe=r(1795);Object.defineProperty(t,"IconSearch",{enumerable:true,get:function e(){return mt(Fe).default}});var He=r(1796);Object.defineProperty(t,"IconSignOut",{enumerable:true,get:function e(){return mt(He).default}});var We=r(1797);Object.defineProperty(t,"IconSlack",{enumerable:true,get:function e(){return mt(We).default}});var Ge=r(1798);Object.defineProperty(t,"IconSlidersHorizontal",{enumerable:true,get:function e(){return mt(Ge).default}});var Ve=r(1799);Object.defineProperty(t,"IconSmartphone",{enumerable:true,get:function e(){return mt(Ve).default}});var Ke=r(1800);Object.defineProperty(t,"IconStar",{enumerable:true,get:function e(){return mt(Ke).default}});var $e=r(1801);Object.defineProperty(t,"IconStop",{enumerable:true,get:function e(){return mt($e).default}});var Ye=r(1802);Object.defineProperty(t,"IconStrikethrough",{enumerable:true,get:function e(){return mt(Ye).default}});var Je=r(1803);Object.defineProperty(t,"IconTable",{enumerable:true,get:function e(){return mt(Je).default}});var Xe=r(1804);Object.defineProperty(t,"IconTableColumnAfter",{enumerable:true,get:function e(){return mt(Xe).default}});var Qe=r(1805);Object.defineProperty(t,"IconTableRowAfter",{enumerable:true,get:function e(){return mt(Qe).default}});var Ze=r(1806);Object.defineProperty(t,"IconTabs",{enumerable:true,get:function e(){return mt(Ze).default}});var et=r(1807);Object.defineProperty(t,"IconTextSize",{enumerable:true,get:function e(){return mt(et).default}});var tt=r(1808);Object.defineProperty(t,"IconTrashcan",{enumerable:true,get:function e(){return mt(tt).default}});var rt=r(1809);Object.defineProperty(t,"IconUndo",{enumerable:true,get:function e(){return mt(rt).default}});var nt=r(1810);Object.defineProperty(t,"IconUserPlus",{enumerable:true,get:function e(){return mt(nt).default}});var it=r(1811);Object.defineProperty(t,"IconUserMinus",{enumerable:true,get:function e(){return mt(it).default}});var ot=r(1812);Object.defineProperty(t,"IconUserCheck",{enumerable:true,get:function e(){return mt(ot).default}});var at=r(1813);Object.defineProperty(t,"IconUsers",{enumerable:true,get:function e(){return mt(at).default}});var ut=r(2917);Object.defineProperty(t,"IconChangelog",{enumerable:true,get:function e(){return mt(ut).default}});var st=r(1815);Object.defineProperty(t,"IconX",{enumerable:true,get:function e(){return mt(st).default}});var ct=r(1816);Object.defineProperty(t,"IconXCircle",{enumerable:true,get:function e(){return mt(ct).default}});var ft=r(1817);Object.defineProperty(t,"IconZap",{enumerable:true,get:function e(){return mt(ft).default}});var lt=r(1818);Object.defineProperty(t,"IllustrationGitBookToGitHub",{enumerable:true,get:function e(){return mt(lt).default}});var pt=r(1819);Object.defineProperty(t,"IllustrationGitHubToGitBook",{enumerable:true,get:function e(){return mt(pt).default}});var dt=r(1820);Object.defineProperty(t,"IconMail",{enumerable:true,get:function e(){return mt(dt).default}});var vt=r(1821);Object.defineProperty(t,"Logo",{enumerable:true,get:function e(){return mt(vt).default}});var ht=r(1822);Object.defineProperty(t,"LogoText",{enumerable:true,get:function e(){return mt(ht).default}});var yt=r(1823);Object.defineProperty(t,"LogoTextWhite",{enumerable:true,get:function e(){return mt(yt).default}});function mt(e){return e&&e.__esModule?e:{default:e}}},807:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var i=r(6);var o=r(1937);var a=f(o);var u=r(28);var s=f(u);var c=r(3);function f(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=5e3;var h=function(e){d(t,e);function t(){l(this,t);return p(this,e.apply(this,arguments))}t.prototype.start=function e(t){return this.merge({history:new a.default,lastSnapshot:Date.now(),working:c.WorkingState.createFromBase(t)})};t.prototype.restore=function e(t){return this.merge({history:new a.default,lastSnapshot:Date.now(),working:t})};t.prototype.cancel=function e(){return this.merge({working:null})};t.prototype.push=function e(t){return this.merge({working:t,history:this.history.push(this.working)})};t.prototype.undo=function e(){var t=this.history,r=this.working;if(!this.canUndo)return this;return this.merge({history:t.undo(r),working:t.previous})};t.prototype.redo=function e(){var t=this.history,r=this.working;if(!this.canRedo)return this;return this.merge({history:t.redo(r),working:t.next})};t.prototype.setEditorState=function e(t,r,n,i){var o=this.history,a=this.working,u=this.lastSnapshot;if(!a){(0,s.default)(false,"StateEdition.setEditorState was called despite working state being missing.");return this}var c=a.documents.getEditorState(t,r);var f=!c;var l=!f&&i.document!==n.document;var p=i.history!==n.history&&(i.history.undos.count()!==n.history.undos.count()||i.history.redos.count()!==n.history.redos.count());var d=Date.now();var h=d-u>v;var y=l&&(p||h);return this.merge({working:a.change().setEditedState(t,r,i).state,history:y?o.push(c?a:a.change().clearEditedDocument(t,r).state):o,lastSnapshot:y?d:u})};n(t,[{key:"revision",get:function e(){return this.working?this.working.revision:null}},{key:"isEditing",get:function e(){return Boolean(this.working)}},{key:"canUndo",get:function e(){return this.history.canUndo}},{key:"canRedo",get:function e(){return this.history.canRedo}},{key:"hasChanges",get:function e(){return this.isEditing&&(this.canRedo||this.canUndo)}}]);return t}((0,i.Record)({working:null,history:new a.default({strategy:a.default.smooth}),lastSnapshot:Date.now()}));t.default=h},837:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,i,o;var a=r(0);var u=d(a);var s=r(2);var c=r(1);var f=r(465);var l=p(f);function p(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=s.StyleSheet.create({body:{width:"100%",minHeight:"100vh",color:c.colors.TEXT_COLOR,background:c.colors.BG_BODY,display:"flex",flexDirection:"column"},bodyWithHeader:(n={},n["@media "+c.MEDIA.SMALLER_THAN_TABLET]={paddingTop:l.default.HEADER_MOBILE_HEIGHT},n),bodyContent:{width:"100%",margin:"0 auto",display:"flex",flex:"1",minHeight:"100%"}});var g=(o=i=function(e){y(t,e);function t(){v(this,t);return h(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.header,n=t.children;return u.createElement("div",{className:(0,s.css)(m.body,r&&m.bodyWithHeader)},r,u.createElement("div",{className:(0,s.css)(m.bodyContent)},n))};return t}(u.Component),i.defaultProps={header:null},o);t.default=g},838:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Header=void 0;var n=r(2135);var i=o(n);function o(e){return e&&e.__esModule?e:{default:e}}t.Header=i.default},90:function(e,t,r){"use strict";t.decode=t.parse=r(1582);t.encode=t.stringify=r(1583)},926:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,i,o;var a=r(0);var u=_(a);var s=r(5);var c=r(3);var f=r(1);var l=r(31);var p=r(19);var d=r(2624);var v=r(2626);var h=g(v);var y=r(2627);var m=g(y);function g(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function b(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(i,o){try{var a=t[i](o);var u=a.value}catch(e){r(e);return}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=2e3;var E=(n=f.Skeleton.connectToSkeleton(function(e){var t=e.isLoading;return{isShowingPlaceholder:t}}),i=(0,s.connect)(function(e){var t=e.spaceID,r=e.edition;return{spaceID:t,editingState:r.working}}),n(o=i(o=(0,p.contentRoutingConnect)(o=function(e){O(t,e);function t(){var r=this;var n,i,o;w(this,t);for(var a=arguments.length,u=Array(a),s=0;s<a;s++)u[s]=arguments[s];return o=(n=(i=I(this,e.call.apply(e,[this].concat(u))),i),i.state={ready:false,error:null,lastBackupToRestore:null},i.initialize=b(regeneratorRuntime.mark(function e(){var t,n,o,a;return regeneratorRuntime.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:t=i.props,n=t.spaceID,o=t.editingState;r.next=3;return(0,d.initialize)();case 3:r.next=5;return(0,d.hasBackup)(n);case 5:a=r.sent;i.setState({ready:true,lastBackupToRestore:a},function(){o&&i.debounceBackup(n,o)});case 7:case"end":return r.stop()}},e,r)})),i.debounceBackup=function(e,t){var n=i.props.contentContext;var o=i.state.lastBackupToRestore;i.timeout&&clearTimeout(i.timeout);if(o)return;i.timeout=setTimeout(b(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function r(o){while(1)switch(o.prev=o.next){case 0:o.next=2;return(0,d.backupWorkingState)(e,i.lastBackupState||new c.WorkingState,t,n);case 2:i.lastBackupState=t;case 3:case"end":return o.stop()}},o,r)})),S)},i.clearBackup=function(){var e=b(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:i.timeout&&clearTimeout(i.timeout);r.next=3;return(0,d.clearBackup)(t);case 3:case"end":return r.stop()}},e,r)}));return function(t){return e.apply(this,arguments)}}(),i.onRestore=b(regeneratorRuntime.mark(function e(){var t,n,o,a,u,s,c,f;return regeneratorRuntime.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:t=i.props,n=t.spaceID,o=t.dispatch,a=t.navigate;u=void 0;r.prev=2;r.next=5;return(0,d.restoreWorkingState)(n);case 5:u=r.sent;r.next=12;break;case 8:r.prev=8;r.t0=r["catch"](2);i.setState({error:r.t0});throw r.t0;case 12:r.prev=12;i.setState({lastBackupToRestore:null});return r.finish(12);case 15:s=u,c=s.state,f=s.context;i.lastBackupState=c;a({toEdit:true,toRootPage:true,toPrimaryVersion:true,toPrimary:!f.draftID,toDraft:f.draftID});o((0,l.resume)(c));a({toEdit:true,toPage:f.pageURL,toRootPage:!f.pageURL,toVersion:f.versionID,toPrimaryVersion:!f.versionID,toPrimary:!f.draftID,toDraft:f.draftID});case 20:case"end":return r.stop()}},e,r,[[2,8,12,15]])})),i.onDoNotRestore=b(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:t=i.props.spaceID;r.next=3;return(0,d.clearBackup)(t);case 3:i.setState({lastBackupToRestore:null});case 4:case"end":return r.stop()}},e,r)})),n),I(i,o)}t.prototype.componentDidMount=function e(){this.initialize()};t.prototype.componentWillReceiveProps=function e(t){var r=t.spaceID,n=t.editingState;var i=this.state,o=i.ready,a=i.lastBackupToRestore;this.props.editingState&&!n&&this.clearBackup(r);o&&!a&&n&&this.debounceBackup(r,n)};t.prototype.render=function e(){var t=this.props,r=t.isShowingPlaceholder,n=t.children;var i=this.state,o=i.error,a=i.lastBackupToRestore;return u.createElement(u.Fragment,null,n,o&&!r&&u.createElement(m.default,null),!o&&!r&&a&&u.createElement(h.default,{backup:a,onRestore:this.onRestore,onDoNotRestore:this.onDoNotRestore}))};return t}(u.Component))||o)||o)||o);t.default=E},96:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Backend=void 0;var n=r(1179);Object.keys(n).forEach(function(e){if("default"===e||"__esModule"===e)return;Object.defineProperty(t,e,{enumerable:true,get:function t(){return n[e]}})});var i=r(1570);var o=a(i);function a(e){return e&&e.__esModule?e:{default:e}}t.Backend=o.default}});