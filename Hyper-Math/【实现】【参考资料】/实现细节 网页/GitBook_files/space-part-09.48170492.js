webpackJsonp([18],{1372:function(e,t,r){(function(n){t=e.exports=r(1373);t.log=i;t.formatArgs=o;t.save=s;t.load=u;t.useColors=a;t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c();t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function a(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return true;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return false;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}};function o(e){var r=this.useColors;e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff);if(!r)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var a=0;var o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){if("%%"===e)return;a++;"%c"===e&&(o=a)});e.splice(o,0,n)}function i(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function u(){var e;try{e=t.storage.debug}catch(e){}!e&&"undefined"!==typeof n&&"env"in n&&(e=n.env.DEBUG);return e}t.enable(u());function c(){try{return window.localStorage}catch(e){}}}).call(t,r(39))},1374:function(e,t,r){var n;var a;var o;false;e.exports=r(1375)()},1379:function(e,t,r){"use strict";var n=r(4);function a(e,t){function r(r,n,a,o,i){var s=n[a];if(null==s&&!r)return null;if(null==s&&r)return new Error("The "+i+" `"+a+"` is marked as required in `"+o+"`, but it was not supplied.");if(t(s))return null;return new Error("Invalid "+i+" `"+a+"` supplied to `"+o+"`, expected a Slate `"+e+"` but received: "+s)}function n(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(void 0,[false].concat(t))}n.isRequired=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(void 0,[true].concat(t))};return n}var o={block:a("Block",function(e){return n["Block"].isBlock(e)}),blocks:a("List<Block>",function(e){return n["Block"].isBlockList(e)}),change:a("Change",function(e){return n["Change"].isChange(e)}),character:a("Character",function(e){return n["Character"].isCharacter(e)}),characters:a("List<Character>",function(e){return n["Character"].isCharacterList(e)}),data:a("Data",function(e){return n["Data"].isData(e)}),document:a("Document",function(e){return n["Document"].isDocument(e)}),history:a("History",function(e){return n["History"].isHistory(e)}),inline:a("Inline",function(e){return n["Inline"].isInline(e)}),inlines:a("Inline",function(e){return n["Inline"].isInlineList(e)}),leaf:a("Leaf",function(e){return n["Leaf"].isLeaf(e)}),leaves:a("List<Leaf>",function(e){return n["Leaf"].isLeafList(e)}),mark:a("Mark",function(e){return n["Mark"].isMark(e)}),marks:a("Set<Mark>",function(e){return n["Mark"].isMarkSet(e)}),node:a("Node",function(e){return n["Node"].isNode(e)}),nodes:a("List<Node>",function(e){return n["Node"].isNodeList(e)}),range:a("Range",function(e){return n["Range"].isRange(e)}),ranges:a("List<Range>",function(e){return n["Range"].isRangeList(e)}),schema:a("Schema",function(e){return n["Schema"].isSchema(e)}),stack:a("Stack",function(e){return n["Stack"].isStack(e)}),value:a("Value",function(e){return n["Value"].isValue(e)}),text:a("Text",function(e){return n["Text"].isText(e)}),texts:a("List<Text>",function(e){return n["Text"].isTextList(e)})};t["a"]=o},1380:function(e,t,r){"use strict";var n=r(6);var a="<<anonymous>>";var o={listOf:f,mapOf:v,orderedMapOf:h,setOf:p,orderedSetOf:y,stackOf:g,iterableOf:m,recordOf:k,shape:O,contains:O,mapContains:E,list:u("List",n.List.isList),map:u("Map",n.Map.isMap),orderedMap:u("OrderedMap",n.OrderedMap.isOrderedMap),set:u("Set",n.Set.isSet),orderedSet:u("OrderedSet",n.OrderedSet.isOrderedSet),stack:u("Stack",n.Stack.isStack),seq:u("Seq",n.Seq.isSeq),record:u("Record",function(e){return e instanceof n.Record}),iterable:u("Iterable",n.Iterable.isIterable)};function i(e){var t=typeof e;if(Array.isArray(e))return"array";if(e instanceof RegExp)return"object";if(e instanceof n.Iterable)return"Immutable."+e.toSource().split(" ")[0];return t}function s(e){function t(t,r,n,o,i,s){for(var u=arguments.length,c=Array(u>6?u-6:0),l=6;l<u;l++)c[l-6]=arguments[l];s=s||n;o=o||a;if(null!=r[n])return e.apply(void 0,[r,n,o,i,s].concat(c));var f=i;if(t)return new Error("Required "+f+" `"+s+"` was not specified in `"+o+"`.")}var r=t.bind(null,false);r.isRequired=t.bind(null,true);return r}function u(e,t){function r(r,n,a,o,s){var u=r[n];if(!t(u)){var c=i(u);return new Error("Invalid "+o+" `"+s+"` of type `"+c+"` supplied to `"+a+"`, expected `"+e+"`.")}return null}return s(r)}function c(e,t,r){function n(n,a,o,s,u){for(var c=arguments.length,l=Array(c>5?c-5:0),f=5;f<c;f++)l[f-5]=arguments[f];var d=n[a];if(!r(d)){var v=s;var h=i(d);return new Error("Invalid "+v+" `"+u+"` of type `"+h+"` supplied to `"+o+"`, expected an Immutable.js "+t+".")}if("function"!==typeof e)return new Error("Invalid typeChecker supplied to `"+o+"` for propType `"+u+"`, expected a function.");var p=d.toArray();for(var y=0,g=p.length;y<g;y++){var m=e.apply(void 0,[p,y,o,s,u+"["+y+"]"].concat(l));if(m instanceof Error)return m}}return s(n)}function l(e){function t(t,r,n,a,o){for(var i=arguments.length,s=Array(i>5?i-5:0),u=5;u<i;u++)s[u-5]=arguments[u];var c=t[r];if("function"!==typeof e)return new Error("Invalid keysTypeChecker (optional second argument) supplied to `"+n+"` for propType `"+o+"`, expected a function.");var l=c.keySeq().toArray();for(var f=0,d=l.length;f<d;f++){var v=e.apply(void 0,[l,f,n,a,o+" -> key("+l[f]+")"].concat(s));if(v instanceof Error)return v}}return s(t)}function f(e){return c(e,"List",n.List.isList)}function d(e,t,r,n){function a(){for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return c(e,r,n).apply(void 0,o)||t&&l(t).apply(void 0,o)}return s(a)}function v(e,t){return d(e,t,"Map",n.Map.isMap)}function h(e,t){return d(e,t,"OrderedMap",n.OrderedMap.isOrderedMap)}function p(e){return c(e,"Set",n.Set.isSet)}function y(e){return c(e,"OrderedSet",n.OrderedSet.isOrderedSet)}function g(e){return c(e,"Stack",n.Stack.isStack)}function m(e){return c(e,"Iterable",n.Iterable.isIterable)}function k(e){function t(t,r,a,o,s){for(var u=arguments.length,c=Array(u>5?u-5:0),l=5;l<u;l++)c[l-5]=arguments[l];var f=t[r];if(!(f instanceof n.Record)){var d=i(f);var v=o;return new Error("Invalid "+v+" `"+s+"` of type `"+d+"` supplied to `"+a+"`, expected an Immutable.js Record.")}for(var h in e){var p=e[h];if(!p)continue;var y=f.toObject();var g=p.apply(void 0,[y,h,a,o,s+"."+h].concat(c));if(g)return g}}return s(t)}function b(e){var t=void 0===arguments[1]?"Iterable":arguments[1];var r=void 0===arguments[2]?n.Iterable.isIterable:arguments[2];function a(n,a,o,s,u){for(var c=arguments.length,l=Array(c>5?c-5:0),f=5;f<c;f++)l[f-5]=arguments[f];var d=n[a];if(!r(d)){var v=i(d);var h=s;return new Error("Invalid "+h+" `"+u+"` of type `"+v+"` supplied to `"+o+"`, expected an Immutable.js "+t+".")}var p=d.toObject();for(var y in e){var g=e[y];if(!g)continue;var m=g.apply(void 0,[p,y,o,s,u+"."+y].concat(l));if(m)return m}}return s(a)}function O(e){return b(e)}function E(e){return b(e,"Map",n.Map.isMap)}e.exports=o},1381:function(e,t,r){var n=r(1382);e.exports=i;var a=r(1383);function o(e){return e&&e.window===e}function i(e){if(o(e))return e;var t=n(e);if(a){t.parentWindow.execScript("document._parentWindow = window;","Javascript");var r=t._parentWindow;t._parentWindow=null;return r}return t.defaultView||t.parentWindow}},1384:function(e,t){function r(e){var t=e.anchorNode;var r=e.anchorOffset;var n=e.focusNode;var a=e.focusOffset;var o=t.compareDocumentPosition(n);return!(4===o||0===o&&r<a)}e.exports=r},1386:function(e,t,r){var n=r(1387),a=r(391);var o="Expected a function";function i(e,t,r){var i=true,s=true;if("function"!=typeof e)throw new TypeError(o);if(a(r)){i="leading"in r?!!r.leading:i;s="trailing"in r?!!r.trailing:s}return n(e,t,{leading:i,maxWait:t,trailing:s})}e.exports=i},1387:function(e,t,r){var n=r(391),a=r(1388),o=r(1390);var i="Expected a function";var s=Math.max,u=Math.min;function c(e,t,r){var c,l,f,d,v,h,p=0,y=false,g=false,m=true;if("function"!=typeof e)throw new TypeError(i);t=o(t)||0;if(n(r)){y=!!r.leading;g="maxWait"in r;f=g?s(o(r.maxWait)||0,t):f;m="trailing"in r?!!r.trailing:m}function k(t){var r=c,n=l;c=l=void 0;p=t;d=e.apply(n,r);return d}function b(e){p=e;v=setTimeout(A,t);return y?k(e):d}function O(e){var r=e-h,n=e-p,a=t-r;return g?u(a,f-n):a}function E(e){var r=e-h,n=e-p;return void 0===h||r>=t||r<0||g&&n>=f}function A(){var e=a();if(E(e))return C(e);v=setTimeout(A,O(e))}function C(e){v=void 0;if(m&&c)return k(e);c=l=void 0;return d}function w(){void 0!==v&&clearTimeout(v);p=0;c=h=l=v=void 0}function T(){return void 0===v?d:C(a())}function S(){var e=a(),r=E(e);c=arguments;l=this;h=e;if(r){if(void 0===v)return b(h);if(g){v=setTimeout(A,t);return k(h)}}void 0===v&&(v=setTimeout(A,t));return d}S.cancel=w;S.flush=T;return S}e.exports=c},139:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform);var a={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"};var o={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:n?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"};var i={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var s=1;s<20;s++)i["f"+s]=111+s;function u(e,t,r){if(t&&!("byKey"in t)){r=t;t=null}var n=f(e,t);var a=null==r?function(e){return d(n,e)}:d(n,r);return a}function c(e,t){return u(e,t)}function l(e,t){return u(e,{byKey:true},t)}function f(e,t){var r=t&&t.byKey;var n={};e=e.replace("++","+add");var o=e.split("+");var i=o.length;for(var s in a)n[a[s]]=false;var u=true;var c=false;var l=void 0;try{for(var f=o[Symbol.iterator](),d;!(u=(d=f.next()).done);u=true){var p=d.value;var y=h(p);var g=a[y];1!=i&&g||(r?n.key=y:n.which=v(p));g&&(n[g]=true);1==i&&!g&&r&&(n.shiftKey=null)}}catch(e){c=true;l=e}finally{try{!u&&f.return&&f.return()}finally{if(c)throw l}}return n}function d(e,t){for(var r in e){var n=e[r];var a=void 0;if(null==n)continue;a="key"==r?t.key.toLowerCase():"which"==r?91==n&&93==t.which?91:t.which:t[r];if(null==a&&false==n)continue;if(a!=n)return false}return true}function v(e){e=h(e);var t=i[e]||e.toUpperCase().charCodeAt(0);return t}function h(e){e=e.toLowerCase();e=o[e]||e;return e}t.default=u;t.isHotkey=u;t.isCodeHotkey=c;t.isKeyHotkey=l;t.parseHotkey=f;t.compareHotkey=d;t.toKeyCode=v;t.toKeyName=h},1396:function(e,t,r){"use strict";var n=r(4);var a=r(1397);var o=r.n(a);function i(e){var t=JSON.stringify(e);var r=Object(a["btoa"])(encodeURIComponent(t));return r}function s(e){var t=decodeURIComponent(Object(a["atob"])(e));var r=JSON.parse(t);return r}function u(e,t){var r=s(e);var a=n["Value"].fromJSON(r,t);return a}function c(e,t){var r=s(e);var a=n["Node"].fromJSON(r,t);return a}function l(e,t){var r=e.toJSON(t);var n=i(r);return n}function f(e,t){var r=e.toJSON(t);var n=i(r);return n}var d={deserialize:u,deserializeNode:c,serialize:l,serializeNode:f};t["a"]=d},1397:function(e,t,r){"use strict";t.atob=self.atob.bind(self);t.btoa=self.btoa.bind(self)},1398:function(e,t,r){"use strict";var n=r(4);var a=r(6);var o=r.n(a);var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r=t.defaultBlock,o=void 0===r?"line":r,s=t.defaultMarks,u=void 0===s?[]:s,c=t.toJSON,l=void 0!==c&&c;a["Set"].isSet(u)&&(u=u.toArray());o=n["Node"].createProperties(o);u=u.map(n["Mark"].createProperties);var f={object:"value",document:{object:"document",data:{},nodes:e.split("\n").map(function(e){return i({},o,{object:"block",isVoid:false,data:{},nodes:[{object:"text",leaves:[{object:"leaf",text:e,marks:u}]}]})})}};var d=l?f:n["Value"].fromJSON(f);return d}function u(e){return c(e.document)}function c(e){return"document"==e.object||"block"==e.object&&n["Block"].isBlockList(e.nodes)?e.nodes.map(c).join("\n"):e.text}var l={deserialize:s,serialize:u};t["a"]=l},1399:function(e,t,r){"use strict";var n=r(139);var a=r.n(n);var o=r(658);var i=o["e"]||o["f"];var s=Object(n["isKeyHotkey"])("mod+b");var u=Object(n["isKeyHotkey"])("mod+i");var c=Object(n["isKeyHotkey"])("enter");var l=Object(n["isKeyHotkey"])("shift+enter");var f=function e(t){return c(t)||l(t)};var d=Object(n["isKeyHotkey"])("backspace");var v=Object(n["isKeyHotkey"])("shift+backspace");var h=Object(n["isKeyHotkey"])("delete");var p=Object(n["isKeyHotkey"])("shift+delete");var y=function e(t){return d(t)||v(t)};var g=function e(t){return h(t)||p(t)};var m=Object(n["isKeyHotkey"])("ctrl+h");var k=Object(n["isKeyHotkey"])("ctrl+d");var b=function e(t){return y(t)||i&&m(t)};var O=function e(t){return g(t)||i&&k(t)};var E=function e(t){return Object(n["isKeyHotkey"])("cmd+shift+backspace",t)||Object(n["isKeyHotkey"])("cmd+backspace",t)};var A=Object(n["isKeyHotkey"])("ctrl+k");var C=function e(t){return i&&E(t)};var w=function e(t){return i&&A(t)};var T=function e(t){return Object(n["isKeyHotkey"])("shift+option+backspace",t)||Object(n["isKeyHotkey"])("option+backspace",t)};var S=Object(n["isKeyHotkey"])("ctrl+backspace");var _=function e(t){return Object(n["isKeyHotkey"])("shift+option+delete",t)||Object(n["isKeyHotkey"])("option+delete",t)};var x=Object(n["isKeyHotkey"])("ctrl+delete");var N=function e(t){return i?T(t):S(t)};var P=function e(t){return i?_(t):x(t)};var B=Object(n["isKeyHotkey"])("shift+right");var M=Object(n["isKeyHotkey"])("shift+left");var R=Object(n["isKeyHotkey"])("right");var D=Object(n["isKeyHotkey"])("left");var j=function e(t){return R(t)&&!B(t)};var I=function e(t){return D(t)&&!M(t)};var K=Object(n["isKeyHotkey"])("option+up");var L=Object(n["isKeyHotkey"])("option+down");var F=function e(t){return i&&K(t)};var z=function e(t){return i&&L(t)};var H=Object(n["isKeyHotkey"])("option+shift+up");var V=Object(n["isKeyHotkey"])("option+shift+down");var U=function e(t){return i&&H(t)};var J=function e(t){return i&&V(t)};var q=Object(n["isKeyHotkey"])("mod+z");var W=Object(n["isKeyHotkey"])("mod+shift+z");var G=Object(n["isKeyHotkey"])("mod+y");var Y=function e(t){return i?W(t):G(t)};var X=Object(n["isKeyHotkey"])("ctrl+t");var Q=function e(t){return i&&X(t)};var $=function e(t){return s(t)||b(t)||O(t)||C(t)||w(t)||N(t)||P(t)||u(t)||Y(t)||f(t)||Q(t)||q(t)};var Z=function e(t){return"ArrowDown"==t.key||"ArrowLeft"==t.key||"ArrowRight"==t.key||"ArrowUp"==t.key||"Backspace"==t.key||"Enter"==t.key};var ee={isBold:s,isCollapseCharBackward:I,isCollapseCharForward:j,isCollapseLineBackward:F,isCollapseLineForward:z,isComposing:Z,isContentEditable:$,isDeleteCharBackward:b,isDeleteCharForward:O,isDeleteLineBackward:C,isDeleteLineForward:w,isDeleteWordBackward:N,isDeleteWordForward:P,isExtendCharBackward:M,isExtendCharForward:B,isExtendLineBackward:U,isExtendLineForward:J,isItalic:u,isRedo:Y,isSplitBlock:f,isUndo:q};t["a"]=ee},1406:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var a=r(0);var o=l(a);var i=r(56);var s=l(i);var u=r(1407);var c=l(u);function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h={ESCAPE:27};var p=function(e){v(t,e);function t(){f(this,t);var e=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.state={active:false};e.handleWrapperClick=e.handleWrapperClick.bind(e);e.closePortal=e.closePortal.bind(e);e.handleOutsideMouseClick=e.handleOutsideMouseClick.bind(e);e.handleKeydown=e.handleKeydown.bind(e);e.portal=null;e.node=null;return e}n(t,[{key:"componentDidMount",value:function e(){this.props.closeOnEsc&&document.addEventListener("keydown",this.handleKeydown);if(this.props.closeOnOutsideClick){document.addEventListener("mouseup",this.handleOutsideMouseClick);document.addEventListener("touchstart",this.handleOutsideMouseClick)}this.props.isOpened&&this.openPortal()}},{key:"componentWillReceiveProps",value:function e(t){if("undefined"!==typeof t.isOpened){t.isOpened&&(this.state.active?this.renderPortal(t):this.openPortal(t));!t.isOpened&&this.state.active&&this.closePortal()}"undefined"===typeof t.isOpened&&this.state.active&&this.renderPortal(t)}},{key:"componentWillUnmount",value:function e(){this.props.closeOnEsc&&document.removeEventListener("keydown",this.handleKeydown);if(this.props.closeOnOutsideClick){document.removeEventListener("mouseup",this.handleOutsideMouseClick);document.removeEventListener("touchstart",this.handleOutsideMouseClick)}this.closePortal(true)}},{key:"handleWrapperClick",value:function e(t){t.preventDefault();t.stopPropagation();if(this.state.active)return;this.openPortal()}},{key:"openPortal",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.setState({active:true});this.renderPortal(t);this.props.onOpen(this.node)}},{key:"closePortal",value:function e(){var t=this;var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var n=function e(){if(t.node){s.default.unmountComponentAtNode(t.node);document.body.removeChild(t.node)}t.portal=null;t.node=null;true!==r&&t.setState({active:false})};if(this.state.active){this.props.beforeClose?this.props.beforeClose(this.node,n):n();this.props.onClose()}}},{key:"handleOutsideMouseClick",value:function e(t){if(!this.state.active)return;var r=(0,i.findDOMNode)(this.portal);if(r.contains(t.target)||t.button&&0!==t.button)return;t.stopPropagation();this.closePortal()}},{key:"handleKeydown",value:function e(t){t.keyCode===h.ESCAPE&&this.state.active&&this.closePortal()}},{key:"renderPortal",value:function e(t){if(!this.node){this.node=document.createElement("div");document.body.appendChild(this.node)}var r=t.children;"function"===typeof t.children.type&&(r=o.default.cloneElement(t.children,{closePortal:this.closePortal}));this.portal=s.default.unstable_renderSubtreeIntoContainer(this,r,this.node,this.props.onUpdate)}},{key:"render",value:function e(){if(this.props.openByClickOn)return o.default.cloneElement(this.props.openByClickOn,{onClick:this.handleWrapperClick});return null}}]);return t}(o.default.Component);t.default=p;p.propTypes={children:c.default.element.isRequired,openByClickOn:c.default.element,closeOnEsc:c.default.bool,closeOnOutsideClick:c.default.bool,isOpened:c.default.bool,onOpen:c.default.func,onClose:c.default.func,beforeClose:c.default.func,onUpdate:c.default.func};p.defaultProps={onOpen:function e(){},onClose:function e(){},onUpdate:function e(){}};e.exports=t["default"]},1407:function(e,t,r){var n;var a;var o;false;e.exports=r(1408)()},1408:function(e,t,r){"use strict";var n=r(1409);var a=r(1410);var o=r(1411);e.exports=function(){function e(e,t,r,n,i,s){if(s===o)return;a(false,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}e.isRequired=e;function t(){return e}var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};r.checkPropTypes=n;r.PropTypes=r;return r}},1409:function(e,t,r){"use strict";function n(e){return function(){return e}}var a=function e(){};a.thatReturns=n;a.thatReturnsFalse=n(false);a.thatReturnsTrue=n(true);a.thatReturnsNull=n(null);a.thatReturnsThis=function(){return this};a.thatReturnsArgument=function(e){return e};e.exports=a},1410:function(e,t,r){"use strict";var n=function e(t){};false;function a(e,t,r,a,o,i,s,u){n(t);if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,a,o,i,s,u];var f=0;c=new Error(t.replace(/%s/g,function(){return l[f++]}));c.name="Invariant Violation"}c.framesToPop=1;throw c}}e.exports=a},1411:function(e,t,r){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},2209:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,a,o,i;var s=r(0);var u=E(s);var c=r(17);var l=O(c);var f=r(5);var d=r(2);var v=r(3);var h=r(1);var p=r(7);var y=r(31);var g=r(846);var m=O(g);var k=r(847);var b=O(k);function O(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var T=(n=(0,f.connect)(),n(a=(i=o=function(e){w(t,e);function t(){var r,n,a;A(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return a=(r=(n=C(this,e.call.apply(e,[this].concat(i))),n),n.state={editTitle:false,title:"",editHref:false,href:""},n.onEditTitle=function(e){e.stopPropagation();n.setState({editTitle:true,title:n.props.page.title||""})},n.onEditHref=function(e){e.stopPropagation();n.setState({editHref:true,href:n.props.page.href||""})},n.onChangedTitle=function(e){n.setState({title:e})},n.onChangedHref=function(e){n.setState({href:e})},n.onFinishedEditTitle=function(){var e=n.context.closePortal;var t=n.props,r=t.dispatch,a=t.version,o=t.page;var i=n.state.title;if(!i){n.onRemovePage();return}v.Page.isValidTitle(i)&&r((0,y.updatePageTitle)(a,o,i));e()},n.onFinishedEditHref=function(){var e=n.context.closePortal;var t=n.props,r=t.dispatch,a=t.version,o=t.page;var i=n.state.href;if(!i){n.onRemovePage();return}v.Page.isValidHref(i)&&r((0,y.updatePage)(a,o.merge({href:i})));e()},n.onRemovePage=function(){var e=n.props,t=e.version,r=e.page,a=e.dispatch;a((0,y.removePage)(t,r))},r),C(n,a)}t.prototype.render=function e(){var r=t.STYLES;var n=this.props.readOnly;var a=this.state,o=a.editTitle,i=a.editHref,s=a.title,c=a.href;if(n)return null;if(o||i)return u.createElement(h.View,{styles:r.pageLinkMenuInputWrapper},o&&u.createElement(u.Fragment,null,u.createElement(b.default,{value:s,onChange:this.onChangedTitle,onEnter:this.onFinishedEditTitle}),u.createElement(h.Button,{styles:[r.pageLinkInputButton],disabled:!v.Page.isValidTitle(s),onClick:this.onFinishedEditTitle},u.createElement(p.IconCheck,null))),i&&u.createElement(u.Fragment,null,u.createElement(m.default,{value:c,onChange:this.onChangedHref,onEnter:this.onFinishedEditHref}),u.createElement(h.Button,{styles:[r.pageLinkInputButton],disabled:!v.Page.isValidHref(c),onClick:this.onFinishedEditHref},u.createElement(p.IconCheck,null))));return u.createElement(h.Menu,null,u.createElement(h.Menu.Item,{icon:u.createElement(p.IconPencil,null),onClick:this.onEditTitle},"Edit title"),u.createElement(h.Menu.Item,{icon:u.createElement(p.IconExternalLink,null),onClick:this.onEditHref},"Edit URL"),u.createElement(h.Menu.Item,{icon:u.createElement(p.IconTrashcan,null),onClick:this.onRemovePage},"Delete this link"))};return t}(u.Component),o.contextTypes={closePortal:l.default.func},o.STYLES=d.StyleSheet.create({pageLinkMenuInputWrapper:{display:"flex",padding:h.boxes.PADDING_SMALL},pageLinkInputButton:{marginLeft:h.boxes.PADDING_SMALL}}),i))||a);t.default=T},2210:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.MODE_EDIT_SLUG=t.MODE_INSERT_LINK=void 0;var n,a,o,i;var s=r(0);var u=w(s);var c=r(17);var l=C(c);var f=r(5);var d=r(2);var v=r(3);var h=r(1);var p=r(7);var y=r(31);var g=r(19);var m=r(848);var k=C(m);var b=r(470);var O=C(b);var E=r(849);var A=C(E);function C(e){return e&&e.__esModule?e:{default:e}}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var x="slug";var N="link";var P="title";var B=(n=(0,f.connect)(),n(a=(0,g.contentRoutingConnect)(a=(i=o=function(e){_(t,e);function t(r){T(this,t);var n=S(this,e.call(this,r));n.onCreatePage=function(){var e=n.props,t=e.version,r=e.page,a=e.dispatch,o=e.navigate;var i=a((0,y.createPage)(t,r)),s=i.url;o({toPage:s})};n.onRemovePage=function(){var e=n.props,t=e.version,r=e.page,a=e.dispatch;a((0,y.removePage)(t,r))};n.onEditSlug=function(e){e.stopPropagation();n.setState({mode:x})};n.onCreatePageLink=function(e){e.stopPropagation();n.setState({mode:N})};n.onEditTitle=function(e){e.stopPropagation();n.setState({mode:P})};n.onSubmitPageLink=function(e){var t=n.context.closePortal;var r=n.props,a=r.dispatch,o=r.version,i=r.page;a((0,y.createPageLink)(e,o,i));t()};n.onPathSlugChanged=function(e){var t=n.context.closePortal;var r=n.props,a=r.dispatch,o=r.page,i=r.version;n.setState({mode:null},function(){e&&e!=o.path&&a((0,y.updatePagePath)(i,o,e));t()})};n.onChangeTitle=function(e){n.setState({title:e})};n.onSubmitTitle=function(){var e=n.context.closePortal;var t=n.props,r=t.dispatch,a=t.version,o=t.page;var i=n.state.title;if(!i){n.onRemovePage();return}v.Page.isValidTitle(i)&&r((0,y.updatePageTitle)(a,o,i));e()};n.state={title:r.page.title,mode:null};return n}t.prototype.componentWillReceiveProps=function e(t){var r=this.props.page;t.page.title!==r.title&&this.setState({title:t.page.title})};t.prototype.render=function e(){var r=t.STYLES;var n=this.props,a=n.page,o=n.version,i=n.readOnly;var s=this.state,c=s.mode,l=s.title;if(i)return null;var f=o.page.getURLOfParentOf(a);switch(c){case x:return u.createElement(k.default,{value:a.path,parentURL:f,onChange:this.onPathSlugChanged});case N:return u.createElement(O.default,{onSubmit:this.onSubmitPageLink});case P:return u.createElement("div",{className:(0,d.css)(r.pageGroupInputWrapper)},u.createElement(A.default,{value:l,onChange:this.onChangeTitle,onEnter:this.onSubmitTitle}),u.createElement(h.Button,{styles:[r.pageGroupInputButton],disabled:!v.Page.isValidTitle(l),onClick:this.onSubmitTitle},u.createElement(p.IconCheck,null)));default:return u.createElement(h.Menu,null,u.createElement(h.Menu.Item,{icon:u.createElement(p.IconPencil,null),onClick:this.onEditTitle},"Edit title"),u.createElement(h.Menu.Item,{icon:u.createElement(p.IconLink,null),onClick:this.onEditSlug},"Change path"),u.createElement(h.Menu.Item,{icon:u.createElement(p.IconTrashcan,null),onClick:this.onRemovePage},"Delete this group"),u.createElement(h.Menu.Divider,null),u.createElement(h.Menu.Item,{icon:u.createElement(p.IconPlus,null),onClick:this.onCreatePage},"New Page"),u.createElement(h.Menu.Item,{icon:u.createElement(p.IconExternalLink,null),onClick:this.onCreatePageLink},"New External Link"))}};return t}(u.Component),o.contextTypes={closePortal:l.default.func},o.STYLES=d.StyleSheet.create({pageGroupInputWrapper:{display:"flex",padding:h.boxes.PADDING_SMALL},pageGroupInputButton:{marginLeft:h.boxes.PADDING_SMALL}}),i))||a)||a);t.default=B;t.MODE_INSERT_LINK=N;t.MODE_EDIT_SLUG=x},2377:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var a=r(0);var o=c(a);var i=r(2);var s=r(3);var u=r(1);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=i.StyleSheet.create({blockApiMethod:{marginBottom:u.spacing.S300},blockApiMethodWithSeparator:{position:"relative",marginTop:u.spacing.S400+u.spacing.S500+1,":before":{content:'" "',position:"absolute",top:-u.spacing.S400,left:0,height:1,width:"100%",backgroundColor:u.colors.GREY_LIGHTER}}});var h=function(e){d(t,e);function t(){l(this,t);return f(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.value,a=t.node,u=t.children,c=t.attributes;return o.createElement("div",n({className:(0,i.css)(v.blockApiMethod,!s.Edition.isFirstNode(r.document,a)&&v.blockApiMethodWithSeparator)},c),u)};return t}(o.Component);t.default=h},2378:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var a,o;var i=r(0);var s=h(i);var u=r(2);var c=r(3);var l=r(1);var f=r(322);var d=v(f);function v(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=(o=a=function(e){g(t,e);function t(){p(this,t);return y(this,e.apply(this,arguments))}t.prototype.render=function e(){var r=t.STYLES;var a=this.props,o=a.readOnly,i=a.node,l=a.attributes,f=a.children;if(o&&c.Edition.isEmptyBlock(i))return null;return s.createElement("div",n({className:(0,u.css)(r.methodDescription)},l),!o&&c.Edition.isEmptyBlock(i)&&s.createElement(d.default,null,"Briefly describe this method..."),f)};return t}(s.Component),a.STYLES=u.StyleSheet.create({methodDescription:{position:"relative",marginBottom:l.spacing.S300}}),o);t.default=m},2379:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var a=l(n);var o=r(2);var i=r(12);var s=r(3);var u=r(1);var c=r(7);function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=o.StyleSheet.create({responseAddExample:{outline:"none",display:"inline-block",color:u.colors.TEXT_SECONDARY,fontSize:u.font.SIZE_NORMAL,cursor:"pointer",marginBottom:u.boxes.SPACING_V_NORMAL}});var p=function(e){v(t,e);function t(){var r,n,a;f(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return a=(r=(n=d(this,e.call.apply(e,[this].concat(i))),n),n.onAddResponseExample=function(){var e=n.props,t=e.editor,r=e.node;s.Edition.onChange(t,function(e){return e.insertNodeByKey(r.key,r.nodes.size,s.Edition.ApiMethod.createResponseExample())})},r),d(n,a)}t.prototype.render=function e(){var t=this.props,r=t.readOnly,n=t.children;return a.createElement("div",null,n,!r&&a.createElement("div",{role:"button",tabIndex:0,className:(0,o.css)(h.responseAddExample),onClick:this.onAddResponseExample,contentEditable:false},a.createElement(c.IconPlus,null)," ",a.createElement(i.FormattedMessage,{id:"BlockApiMethodResponse.add",defaultMessage:"Add Response Example"})))};return t}(a.Component);t.default=p},2380:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var a;var o=r(0);var i=d(o);var s=r(2);var u=r(12);var c=r(3);var l=r(1);var f=r(7);function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=s.StyleSheet.create({blockApiMethodRequest:{},blockApiMethodRequestAdd:{marginBottom:l.boxes.SPACING_V_NORMAL},blockApiMethodRequestAddButton:{display:"inline-block",color:l.colors.TEXT_SECONDARY,fontSize:l.font.SIZE_NORMAL,cursor:"pointer"},blockApiMethodRequestContent:{}});var g=(a={},a[c.DOC_BLOCKS.API_METHOD_HEADERS]={id:"BlockApiMethodRequest.headers",defaultMessage:"Headers"},a[c.DOC_BLOCKS.API_METHOD_PATH_PARAMETERS]={id:"BlockApiMethodRequest.pathParameters",defaultMessage:"Path Parameters"},a[c.DOC_BLOCKS.API_METHOD_QUERY_PARAMETERS]={id:"BlockApiMethodRequest.queryParameters",defaultMessage:"Query Parameters"},a[c.DOC_BLOCKS.API_METHOD_FORM_DATA_PARAMETERS]={id:"BlockApiMethodRequest.formDataParameters",defaultMessage:"Form Data Parameters"},a[c.DOC_BLOCKS.API_METHOD_BODY_PARAMETERS]={id:"BlockApiMethodRequest.bodyParameters",defaultMessage:"Body Parameters"},a);var m=function(e){p(t,e);function t(){var r,n,a;v(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return a=(r=(n=h(this,e.call.apply(e,[this].concat(i))),n),n.onClick=function(){var e=n.props,t=e.type,r=e.onClick;r(t)},r),h(n,a)}t.prototype.render=function e(){var t=this.props.type;return i.createElement(l.Menu.Item,{onClick:this.onClick},i.createElement(u.FormattedMessage,{id:g[t].id,defaultMessage:g[t].defaultMessage}))};return t}(i.Component);var k=function(e){p(t,e);function t(){var r,n,a;v(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return a=(r=(n=h(this,e.call.apply(e,[this].concat(i))),n),n.onAddParameter=function(e){var t=n.props,r=t.editor,a=t.node;var o=a.nodes.find(function(t){return t.type===e});o?c.Edition.onChange(r,function(e){return e.insertNodeByKey(o.key,0,c.Edition.ApiMethod.createParameter())}):c.Edition.onChange(r,function(t){return t.insertNodeByKey(a.key,0,c.Edition.ApiMethod.createParameters(e))})},r),h(n,a)}t.prototype.render=function e(){var t=this;var r=this.props,a=r.attributes,o=r.readOnly,d=r.children;return i.createElement("div",n({className:(0,s.css)(y.blockApiMethodRequest)},a),i.createElement("div",{className:(0,s.css)(y.blockApiMethodRequestContent)},d),!o&&i.createElement("div",{className:(0,s.css)(y.blockApiMethodRequestAdd),contentEditable:false},i.createElement(l.Popover.Portal,{openByClickOn:i.createElement("div",{className:(0,s.css)(y.blockApiMethodRequestAddButton)},i.createElement(f.IconPlus,null)," ",i.createElement(u.FormattedMessage,{id:"BlockApiMethodRequest.add",defaultMessage:"Add a parameter"})),closeOnOutsideClick:true,closeOnEsc:true,fixed:false},i.createElement(l.Popover,null,i.createElement(l.Menu,null,c.Edition.ApiMethod.PARAMETERS_ORDER.map(function(e){return i.createElement(m,{key:e,type:e,onClick:t.onAddParameter})}))))))};return t}(i.Component);t.default=k},2381:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var a,o;var i=r(0);var s=m(i);var u=r(2);r(6);var c=r(3);var l=r(1);var f=r(322);var d=g(f);var v=r(2382);var h=g(v);var p=r(2383);var y=g(p);function g(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=(o=a=function(e){O(t,e);function t(){var r,n,a;k(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return a=(r=(n=b(this,e.call.apply(e,[this].concat(i))),n),n.onChangeMethod=function(e){var t=n.props,r=t.editor,a=t.parent;c.Edition.onChange(r,function(t){return t.setNodeByKey(a.key,{data:a.data.merge({method:e})})})},n.onChangeUrl=function(e,t){var r=n.props,a=r.editor,o=r.parent;c.Edition.onChange(a,function(r){return r.setNodeByKey(o.key,{data:o.data.merge({host:e,path:t})})})},r),b(n,a)}t.prototype.render=function e(){var r=t.STYLES;var a=this.props,o=a.attributes,i=a.headingIDs,l=a.parent,f=a.node,v=a.readOnly,p=a.children;var g=l.data.get("method");var m=i.get(f.key);return s.createElement("div",null,s.createElement("h2",n({id:m,className:(0,u.css)(r.blockApiMethodSummary)},o),s.createElement("div",{className:(0,u.css)(r.blockApiMethodSummaryMethod),contentEditable:false},s.createElement(h.default,{method:g,readOnly:v,onChange:this.onChangeMethod})),s.createElement("div",{className:(0,u.css)(r.blockApiMethodSummaryContent)},!v&&c.Edition.isEmptyBlock(f)&&s.createElement(d.default,null,"Give a title to this method..."),p)),s.createElement(y.default,{readOnly:v,host:l.data.get("host"),path:l.data.get("path"),onChange:this.onChangeUrl}))};return t}(s.Component),a.STYLES=u.StyleSheet.create({blockApiMethodSummary:{display:"flex",alignItems:"center",fontSize:20,fontWeight:l.font.WEIGHT_BOLD,margin:0,marginBottom:l.spacing.S300},blockApiMethodSummaryMethod:{paddingRight:l.spacing.S100},blockApiMethodSummaryContent:{position:"relative",flex:1,verticalAlign:"baseline"}}),o);t.default=E},2382:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,a,o;var i=r(0);var s=d(i);var u=r(2);var c=r(1);var l=r(3);var f=r(7);function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=(n={},n[l.Edition.ApiMethod.METHODS.get("GET")]="#3884ff",n[l.Edition.ApiMethod.METHODS.get("PUT")]="#f5ca64",n[l.Edition.ApiMethod.METHODS.get("POST")]="#59d77f",n[l.Edition.ApiMethod.METHODS.get("DELETE")]="#ff5454",n[l.Edition.ApiMethod.METHODS.get("OPTIONS")]="#75d1ff",n[l.Edition.ApiMethod.METHODS.get("HEAD")]="#d09970",n[l.Edition.ApiMethod.METHODS.get("PATCH")]="#a962f5",n);var g=function(e){p(t,e);function t(){var r,n,a;v(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return a=(r=(n=h(this,e.call.apply(e,[this].concat(i))),n),n.onClick=function(){var e=n.props,t=e.method,r=e.onClick;r(t)},r),h(n,a)}t.prototype.render=function e(){var t=this.props.method;return s.createElement(c.Menu.Item,{onClick:this.onClick},t.toUpperCase())};return t}(s.Component);var m=(o=a=function(e){p(t,e);function t(){v(this,t);return h(this,e.apply(this,arguments))}t.prototype.render=function e(){var r=t.STYLES;var n=this.props,a=n.readOnly,o=n.method,i=n.onChange;var u=y[o];return a?s.createElement(c.Badge,{styles:[c.Badge.SIZES.medium],style:{backgroundColor:u}},o):s.createElement(c.Popover.Portal,{openByClickOn:s.createElement(c.Badge,{icon:s.createElement(f.IconChevronDown,null),styles:[c.Badge.SIZES.medium,r.methodLabelEditable],style:{backgroundColor:u}},o),closeOnOutsideClick:true,closeOnEsc:true,fixed:false},s.createElement(c.Popover,null,s.createElement(c.Menu,null,l.Edition.ApiMethod.METHODS.map(function(e){return s.createElement(g,{key:e,method:e,onClick:i})}).toArray())))};return t}(s.Component),a.STYLES=u.StyleSheet.create({methodLabelEditable:{cursor:"pointer"}}),o);t.default=m},2383:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var a=l(n);var o=r(2);var i=r(100);var s=c(i);var u=r(1);function c(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=o.StyleSheet.create({apiMethodPath:{display:"flex",alignItems:"baseline",fontFamily:u.font.FAMILY_CODE,fontSize:u.font.SIZE_CODE,lineHeight:u.font.LINE_CODE,color:u.colors.TEXT_SECONDARY,marginBottom:u.spacing.S300},apiMethodPathHost:{borderRadius:u.boxes.RADIUS_NORMAL+"px 0 0 "+u.boxes.RADIUS_NORMAL+"px",padding:u.spacing.S100,paddingRight:0,backgroundColor:u.colors.BG_BODY},apiMethodPathHostEditable:{outline:"none",font:"inherit",color:"inherit",border:0,"::placeholder":{color:u.colors.TEXT_MUTED},":not(:focus)":{cursor:"pointer"}},apiMethodPathPath:{fontWeight:"bold",flex:1,borderRadius:"0 "+u.boxes.RADIUS_NORMAL+"px "+u.boxes.RADIUS_NORMAL+"px 0",padding:u.spacing.S100,paddingLeft:0,color:u.colors.TEXT_COLOR,backgroundColor:u.colors.BG_BODY},apiMethodPathPathEditable:{outline:"none",fontFamily:"inherit",fontSize:"inherit",lineHeight:"inherit",border:0,"::placeholder":{color:u.colors.TEXT_MUTED},":not(:focus)":{cursor:"pointer"}}});var p=function(e){v(t,e);function t(){var r,n,a;f(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return a=(r=(n=d(this,e.call.apply(e,[this].concat(i))),n),n.hostRef=function(e){n.host=e},n.pathRef=function(e){n.path=e},n.onFocusHost=function(){n.host.select()},n.onFocusPath=function(){n.path.select()},n.onChangeHost=function(e){var t=n.props,r=t.onChange,a=t.path;r(e,a)},n.onChangePath=function(e){var t=n.props,r=t.onChange,a=t.host;r(a,e)},r),d(n,a)}t.prototype.render=function e(){var t=this.props,r=t.readOnly,n=t.host,i=t.path;if(r)return a.createElement("div",{className:(0,o.css)(h.apiMethodPath)},a.createElement("div",{className:(0,o.css)(h.apiMethodPathHost)},n),a.createElement("div",{className:(0,o.css)(h.apiMethodPathPath)},i));return a.createElement("div",{className:(0,o.css)(h.apiMethodPath),contentEditable:false},a.createElement(s.default,{value:n,onChange:this.onChangeHost,placeholder:"https://api.acme.com",inputClassName:(0,o.css)(h.apiMethodPathHost,h.apiMethodPathHostEditable),component:u.AutosizeInput,ref:this.hostRef,onFocus:this.onFocusHost}),a.createElement(s.default,{value:i,onChange:this.onChangePath,placeholder:"/v1/cakes/:id",className:(0,o.css)(h.apiMethodPathPath,h.apiMethodPathPathEditable),ref:this.pathRef,onFocus:this.onFocusPath}))};return t}(a.Component);t.default=p},2384:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var a;var o=r(0);var i=f(o);var s=r(2);var u=r(12);var c=r(3);var l=r(1);function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=s.StyleSheet.create({blockApiMethodParameters:{marginBottom:l.boxes.SPACING_V_NORMAL},blockApiMethodParametersTitle:{position:"relative",fontSize:l.font.SIZE_NORMAL,color:l.colors.TEXT_SECONDARY,marginBottom:4},blockApiMethodParametersMenu:{position:"absolute",top:"50%",right:l.boxes.PADDING_NORMAL/2,transform:"translateY(-50%)",cursor:"pointer",color:l.colors.TEXT_MUTED,opacity:0,transition:"opacity 150ms ease-out",":hover":{color:l.colors.TEXT_COLOR}},blockApiMethodParametersMenuVisible:{opacity:1},blockApiMethodParametersBody:{}});var y=(a={},a[c.DOC_BLOCKS.API_METHOD_HEADERS]={id:"BlockApiMethodParameters.headers",defaultMessage:"Headers"},a[c.DOC_BLOCKS.API_METHOD_PATH_PARAMETERS]={id:"BlockApiMethodParameters.pathParameters",defaultMessage:"Path Parameters"},a[c.DOC_BLOCKS.API_METHOD_QUERY_PARAMETERS]={id:"BlockApiMethodParameters.queryParameters",defaultMessage:"Query Parameters"},a[c.DOC_BLOCKS.API_METHOD_FORM_DATA_PARAMETERS]={id:"BlockApiMethodParameters.formDataParameters",defaultMessage:"Form Data Parameters"},a[c.DOC_BLOCKS.API_METHOD_BODY_PARAMETERS]={id:"BlockApiMethodParameters.bodyParameters",defaultMessage:"Body Parameters"},a);var g=function(e){h(t,e);function t(){d(this,t);return v(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.attributes,a=t.node,o=t.children;return i.createElement("div",n({className:(0,s.css)(p.blockApiMethodParameters)},r),i.createElement("div",{className:(0,s.css)(p.blockApiMethodParametersTitle),contentEditable:false},i.createElement(u.FormattedMessage,{id:y[a.type].id,defaultMessage:y[a.type].defaultMessage})),i.createElement("div",{className:(0,s.css)(p.blockApiMethodParametersBody)},o))};return t}(i.Component);t.default=g},2385:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var a,o,i,s,u,c;var l=r(0);var f=T(l);var d=r(2);var v=r(12);var h=r(100);var p=w(h);var y=r(3);var g=r(1);var m=r(7);var k=r(322);var b=w(k);var O=r(2386);var E=w(O);var A=r(2387);var C=w(A);function w(e){return e&&e.__esModule?e:{default:e}}function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var N=d.StyleSheet.create({blockApiMethodParameter:(a={position:"relative",borderLeft:"1px solid "+g.colors.BORDER_NORMAL,borderRight:"1px solid "+g.colors.BORDER_NORMAL,borderTop:"1px solid "+g.colors.BORDER_NORMAL,padding:g.boxes.PADDING_NORMAL,":first-child":{borderTopLeftRadius:g.boxes.RADIUS_NORMAL,borderTopRightRadius:g.boxes.RADIUS_NORMAL},":last-child":{borderBottom:"1px solid "+g.colors.BORDER_NORMAL,borderBottomLeftRadius:g.boxes.RADIUS_NORMAL,borderBottomRightRadius:g.boxes.RADIUS_NORMAL}},a["@media "+g.MEDIA.TABLET]={display:"flex",padding:0,":not(:first-child)":{borderTop:0}},a),blockApiMethodParameterCell:(o={},o["@media "+g.MEDIA.TABLET]={padding:g.boxes.PADDING_SMALL},o),blockApiMethodParameterCellName:(i={marginBottom:g.boxes.PADDING_SMALL},i["@media "+g.MEDIA.TABLET]={width:150,marginBottom:0},i),blockApiMethodParameterCellType:(s={marginBottom:g.boxes.PADDING_NORMAL},s["@media "+g.MEDIA.TABLET]={width:130,marginBottom:0},s),blockApiMethodParameterCellDescription:(u={},u["@media "+g.MEDIA.TABLET]={flex:1},u),blockApiMethodParameterName:{display:"block",lineHeight:g.font.LINE_SMALL,borderBottom:"2px solid transparent"},blockApiMethodParameterNameEditable:{cursor:"pointer",font:"inherit",color:"inherit",backgroundColor:"transparent",outline:"none",borderTop:0,borderRight:0,borderLeft:0,":focus":{cursor:"auto",borderBottomColor:g.colors.BLUE_BASE}},blockApiMethodParameterDescription:{position:"relative",color:g.colors.TEXT_SECONDARY,fontSize:g.font.SIZE_NORMAL},blockApiMethodParameterRemove:{cursor:"pointer",position:"absolute",zIndex:1,top:g.boxes.PADDING_SMALL,right:g.boxes.PADDING_SMALL,color:g.colors.TEXT_MUTED,opacity:0,transition:"opacity 150ms ease-out",backgroundColor:g.colors.BG_CONTENT,padding:4,borderRadius:g.boxes.RADIUS_NORMAL,":hover":{color:g.colors.TEXT_COLOR}},blockApiMethodParameterRemoveVisible:{opacity:1}});var P=(0,v.injectIntl)(c=function(e){x(t,e);function t(){var r,n,a;S(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return a=(r=(n=_(this,e.call.apply(e,[this].concat(i))),n),n.inputRef=function(e){n.input=e},n.onFocus=function(){n.input&&n.input.select()},r),_(n,a)}t.prototype.render=function e(){var t=this.props,r=t.readOnly,n=t.name,a=t.onChange,o=t.intl;if(r)return f.createElement("div",{className:(0,d.css)(N.blockApiMethodParameterName)},n);return f.createElement(p.default,{component:g.AutosizeInput,inputClassName:(0,d.css)(N.blockApiMethodParameterName,N.blockApiMethodParameterNameEditable),value:n,onChange:a,ref:this.inputRef,onFocus:this.onFocus,placeholder:o.formatMessage({id:"BlockApiMethodParameters.name.placeholder",defaultMessage:"Parameter Name"})})};return t}(f.Component))||c;var B=function(e){x(t,e);function t(){var r,n,a;S(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return a=(r=(n=_(this,e.call.apply(e,[this].concat(i))),n),n.state={isHover:false},n.onChangeType=function(e){var t=n.props,r=t.editor,a=t.node;y.Edition.onChange(r,function(t){return t.setNodeByKey(a.key,{data:a.data.merge({type:e})})})},n.onChangeName=function(e){var t=n.props,r=t.editor,a=t.node;y.Edition.onChange(r,function(t){return t.setNodeByKey(a.key,{data:a.data.merge({name:e})})})},n.onChangeRequired=function(e){var t=n.props,r=t.editor,a=t.node;y.Edition.onChange(r,function(t){return t.setNodeByKey(a.key,{data:a.data.merge({required:e})})})},n.onRemove=function(){var e=n.props,t=e.editor,r=e.node;y.Edition.onChange(t,function(e){return e.removeNodeByKey(r.key)})},n.onMouseEnter=function(){return n.setState({isHover:true})},n.onMouseLeave=function(){return n.setState({isHover:false})},r),_(n,a)}t.prototype.render=function e(){var t=this.state.isHover;var r=this.props,a=r.attributes,o=r.node,i=r.readOnly,s=r.children;var u=o.data.get("name");var c=o.data.get("required");var l=o.data.get("type");return f.createElement("div",n({className:(0,d.css)(N.blockApiMethodParameter),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},a),f.createElement("div",{className:(0,d.css)(N.blockApiMethodParameterCell,N.blockApiMethodParameterCellName),contentEditable:false},f.createElement(P,{readOnly:i,name:u,onChange:this.onChangeName}),f.createElement(C.default,{readOnly:i,isRequired:c,onChange:this.onChangeRequired})),f.createElement("div",{className:(0,d.css)(N.blockApiMethodParameterCell,N.blockApiMethodParameterCellType),contentEditable:false},f.createElement(E.default,{type:l,readOnly:i,onChange:this.onChangeType})),f.createElement("div",{className:(0,d.css)(N.blockApiMethodParameterCell,N.blockApiMethodParameterCellDescription)},f.createElement("div",{className:(0,d.css)(N.blockApiMethodParameterDescription)},!i&&y.Edition.isEmptyBlock(o)&&f.createElement(b.default,null,"Briefly describe this parameter..."),s)),!i&&f.createElement("div",{className:(0,d.css)(N.blockApiMethodParameterRemove,t&&N.blockApiMethodParameterRemoveVisible),role:"button",tabIndex:-1,onClick:this.onRemove},f.createElement(m.IconX,null)))};return t}(f.Component);t.default=B},2386:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var a=c(n);var o=r(2);var i=r(3);var s=r(1);var u=r(7);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=o.StyleSheet.create({parameterType:{display:"inline-block",fontFamily:s.font.FAMILY_CODE,fontSize:s.font.SIZE_CODE,lineHeight:s.font.LINE_CODE,backgroundColor:s.colors.BG_CODE,borderRadius:s.boxes.RADIUS_NORMAL,padding:"2px 6px",whiteSpace:"nowrap"},parameterTypeEditable:{cursor:"pointer"}});var h=function(e){d(t,e);function t(){var r,n,a;l(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return a=(r=(n=f(this,e.call.apply(e,[this].concat(i))),n),n.onClick=function(){var e=n.props,t=e.type,r=e.onClick;r(t)},r),f(n,a)}t.prototype.render=function e(){var t=this.props.type;return a.createElement(s.Menu.Item,{onClick:this.onClick},t)};return t}(a.Component);var p=function(e){d(t,e);function t(){l(this,t);return f(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.type,n=t.readOnly,c=t.onChange;return n?a.createElement("div",{className:(0,o.css)(v.parameterType)},r):a.createElement(s.Popover.Portal,{openByClickOn:a.createElement("div",{className:(0,o.css)(v.parameterType,v.parameterTypeEditable)},r," ",a.createElement(u.IconChevronDown,null)),closeOnOutsideClick:true,closeOnEsc:true,fixed:false},a.createElement(s.Popover,null,a.createElement(s.Menu,null,Object.keys(i.Edition.ApiMethod.TYPES).map(function(e){return a.createElement(h,{key:e,type:i.Edition.ApiMethod.TYPES[e],onClick:c})}))))};return t}(a.Component);t.default=p},2387:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var a=c(n);var o=r(2);var i=r(12);var s=r(1);var u=r(7);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=o.StyleSheet.create({blockApiMethodParameterRequirement:{textTransform:"uppercase",fontSize:10,lineHeight:s.font.LINE_SMALL,color:s.colors.TEXT_SECONDARY},blockApiMethodParameterRequirementEditable:{cursor:"pointer"},blockApiMethodParameterRequirementRequired:{color:s.colors.DANGER}});var h=function(e){d(t,e);function t(){var r,n,a;l(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return a=(r=(n=f(this,e.call.apply(e,[this].concat(i))),n),n.onChangeRequired=function(){var e=n.props.onChange;e(true)},n.onChangeOptional=function(){var e=n.props.onChange;e(false)},r),f(n,a)}t.prototype.render=function e(){var t=this.props,r=t.readOnly,n=t.isRequired;if(r)return a.createElement("div",{className:(0,o.css)(v.blockApiMethodParameterRequirement,n&&v.blockApiMethodParameterRequirementRequired)},n?a.createElement(i.FormattedMessage,{id:"BlockApiMethodParameter.required",defaultMessage:"required"}):a.createElement(i.FormattedMessage,{id:"BlockApiMethodParameter.optional",defaultMessage:"optional"}));return a.createElement(s.Popover.Portal,{openByClickOn:a.createElement("div",{className:(0,o.css)(v.blockApiMethodParameterRequirement,v.blockApiMethodParameterRequirementEditable,n&&v.blockApiMethodParameterRequirementRequired)},n?a.createElement(i.FormattedMessage,{id:"BlockApiMethodParameter.required",defaultMessage:"required"}):a.createElement(i.FormattedMessage,{id:"BlockApiMethodParameter.optional",defaultMessage:"optional"})," ",a.createElement(u.IconChevronDown,null)),closeOnOutsideClick:true,closeOnEsc:true,fixed:false},a.createElement(s.Popover,{align:"start"},a.createElement(s.Menu,null,a.createElement(s.Menu.Item,{onClick:this.onChangeRequired},a.createElement(i.FormattedMessage,{id:"BlockApiMethodParameter.required",defaultMessage:"required"})),a.createElement(s.Menu.Item,{onClick:this.onChangeOptional},a.createElement(i.FormattedMessage,{id:"BlockApiMethodParameter.optional",defaultMessage:"optional"})))))};return t}(a.Component);t.default=h},2388:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var a;var o=r(0);var i=h(o);var s=r(12);var u=r(2);var c=r(3);var l=r(1);var f=r(490);var d=v(f);function v(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=u.StyleSheet.create({blockApiMethodSpecWrapper:{},blockApiMethodSpec:{position:"relative",zIndex:1,display:"flex",marginBottom:-1},blockApiMethodSpecContent:{display:"none",border:"1px solid "+l.colors.BORDER_NORMAL,padding:l.spacing.S300,paddingBottom:0,borderBottomLeftRadius:l.boxes.RADIUS_NORMAL,borderBottomRightRadius:l.boxes.RADIUS_NORMAL},blockApiMethodSpecContentActive:{display:"block"},blockApiMethodTab:{}});var k=(a={},a[c.DOC_BLOCKS.API_METHOD_REQUEST]={id:"BlockApiMethodSpec.request",defaultMessage:"Request"},a[c.DOC_BLOCKS.API_METHOD_RESPONSE]={id:"BlockApiMethodSpec.response",defaultMessage:"Response"},a);var b=function(e){g(t,e);function t(){var r,n,a;p(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return a=(r=(n=y(this,e.call.apply(e,[this].concat(i))),n),n.onClick=function(){var e=n.props,t=e.index,r=e.onSelect;r(t)},r),y(n,a)}t.prototype.render=function e(){var t=this.props,r=t.isActive,n=t.type;return i.createElement(d.default,{isActive:r,onClick:this.onClick},i.createElement(s.FormattedMessage,{id:k[n].id,defaultMessage:k[n].defaultMessage}))};return t}(i.Component);var O=function(e){g(t,e);function t(){var r,n,a;p(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return a=(r=(n=y(this,e.call.apply(e,[this].concat(i))),n),n.state={activeIndex:0},n.select=function(e){return n.setState({activeIndex:e})},r),y(n,a)}t.prototype.render=function e(){var t=this;var r=this.props,a=r.attributes,o=r.node,s=r.children;var c=this.state.activeIndex;return i.createElement("div",n({className:(0,u.css)(m.blockApiMethodSpecWrapper)},a),i.createElement("div",{className:(0,u.css)(m.blockApiMethodSpec),contentEditable:false},o.nodes.map(function(e,r){return i.createElement(b,{key:e.type,index:r,isActive:r===c,type:e.type,onSelect:t.select})})),i.Children.map(s,function(e,t){return i.createElement("div",{className:(0,u.css)(m.blockApiMethodSpecContent,t===c&&m.blockApiMethodSpecContentActive),key:t},e)}))};return t}(i.Component);t.default=O},2389:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var a=r(0);var o=v(a);var i=r(2);var s=r(3);var u=r(1);var c=r(7);var l=r(2390);var f=d(l);function d(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=i.StyleSheet.create({responseExample:{position:"relative",":not(:last-child)":{marginBottom:u.boxes.SPACING_V_NORMAL}},responseExampleRemove:{cursor:"pointer",position:"absolute",zIndex:1,top:0,right:0,color:u.colors.TEXT_MUTED,opacity:0,transition:"opacity 150ms ease-out",backgroundColor:u.colors.BG_CONTENT,padding:4,borderRadius:u.boxes.RADIUS_NORMAL,":hover":{color:u.colors.TEXT_COLOR}},responseExampleRemoveVisible:{opacity:1},responseExampleTitle:{display:"flex",alignItems:"center",fontSize:u.font.SIZE_MEDIUM,fontWeight:u.font.WEIGHT_BOLD,marginBottom:4}});var m=function(e){y(t,e);function t(){var r,n,a;h(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return a=(r=(n=p(this,e.call.apply(e,[this].concat(i))),n),n.state={isHover:false},n.onChangeHTTPCode=function(e){var t=n.props,r=t.editor,a=t.node;s.Edition.onChange(r,function(t){return t.setNodeByKey(a.key,{data:a.data.merge({httpCode:e})})})},n.onRemove=function(){var e=n.props,t=e.editor,r=e.node;s.Edition.onChange(t,function(e){return e.removeNodeByKey(r.key)})},n.onMouseEnter=function(){return n.setState({isHover:true})},n.onMouseLeave=function(){return n.setState({isHover:false})},r),p(n,a)}t.prototype.render=function e(){var t=this.props,r=t.readOnly,a=t.node,s=t.attributes,u=t.children;var l=this.state.isHover;var d=a.data.get("httpCode");return o.createElement("div",n({className:(0,i.css)(g.responseExample),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},s),o.createElement("div",{className:(0,i.css)(g.responseExampleTitle)},o.createElement(f.default,{code:d,readOnly:r,onChange:this.onChangeHTTPCode}),!r&&o.createElement("div",{role:"button",tabIndex:-1,className:(0,i.css)(g.responseExampleRemove,l&&g.responseExampleRemoveVisible),onClick:this.onRemove,contentEditable:false},o.createElement(c.IconX,null))),u)};return t}(o.Component);t.default=m},2390:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,a,o;var i=r(0);var s=y(i);var u=r(2);var c=r(401);var l=p(c);var f=r(3);var d=r(1);var v=r(2391);var h=p(v);function p(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=f.Edition.ApiMethod.HTTP_CODES.map(function(e){return{uid:e,title:e+": "+l.default[e]}}).toArray();var O=u.StyleSheet.create({httpCodePicker:{display:"flex",alignItems:"center",fontSize:d.font.SIZE_MEDIUM,fontWeight:d.font.WEIGHT_BOLD,marginBottom:4},httpCodePickerInputWrapper:{width:"100%"},httpCodePickerInput:{display:"block",width:"100%",font:"inherit",color:"inherit",background:"transparent",border:0,outline:"none",":not(:focus)":{cursor:"pointer"}}});var E=(a=n=function(e){k(t,e);function t(r){g(this,t);var n=m(this,e.call(this,r));o.call(n);var a=n.props.value;n.state={value:a};return n}t.prototype.componentWillReceiveProps=function e(t){var r=this;var n=t.value;var a=this.props.value;if(a===n)return;this.setState({value:n},function(){r.input.blur()})};t.prototype.render=function e(){var t=this.state.value;return s.createElement(d.Autocomplete,{items:b,styles:[O.httpCodePickerInputWrapper],className:(0,u.css)(O.httpCodePickerInput),onChange:this.onChange,onFocus:this.onFocus,onPick:this.onPick,onBlur:this.onBlur,ref:this.inputRef,value:t})};return t}(s.Component),o=function e(){var t=this;this.inputRef=function(e){t.input=e};this.onChange=function(e){return t.setState({value:e.target.value})};this.onFocus=function(){return t.input.select()};this.onBlur=function(){var e=t.props.value;t.setState({value:e})};this.onPick=function(e){if(!e)return;var r=t.props.onChange;var n=e.uid;r(Number(n))}},a);var A=function(e){k(t,e);function t(){g(this,t);return m(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.code,n=t.readOnly,a=t.onChange;var o=r+": "+l.default[r];return s.createElement("div",{className:(0,u.css)(O.httpCodePicker),contentEditable:false},s.createElement(h.default,{code:r}),n?s.createElement("span",null,o):s.createElement(E,{value:o,onChange:a}))};return t}(s.Component);t.default=A},2391:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var a=u(n);var o=r(2);var i=r(3);var s=r(1);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=o.StyleSheet.create({httpCodeDot:{display:"inline-block",width:10,height:10,borderRadius:"50%",backgroundColor:s.colors.DIFF_MODIFIED,marginRight:6},httpCodeDotError:{backgroundColor:s.colors.DANGER},httpCodeDotSuccess:{backgroundColor:s.colors.SUCCESS}});var v=function(e){f(t,e);function t(){c(this,t);return l(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props.code;return a.default.createElement("span",{className:(0,o.css)(d.httpCodeDot,i.Edition.ApiMethod.isErrorCode(t)&&d.httpCodeDotError,i.Edition.ApiMethod.isSuccessCode(t)&&d.httpCodeDotSuccess)})};return t}(a.default.Component);t.default=v},2392:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var a,o;var i=r(0);var s=v(i);var u=r(2);var c=r(3);var l=r(1);var f=r(322);var d=v(f);function v(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=(o=a=function(e){y(t,e);function t(){h(this,t);return p(this,e.apply(this,arguments))}t.prototype.render=function e(){var r=t.STYLES;var a=this.props,o=a.readOnly,i=a.node,l=a.attributes,f=a.children;if(o&&c.Edition.isEmptyBlock(i))return null;return s.default.createElement("div",n({className:(0,u.css)(r.responseExampleDescription)},l),!o&&c.Edition.isEmptyBlock(i)&&s.default.createElement(d.default,null,"Briefly describe this response example..."),f)};return t}(s.default.Component),a.STYLES=u.StyleSheet.create({responseExampleDescription:{position:"relative",marginBottom:4,fontSize:l.font.SIZE_NORMAL,color:l.colors.TEXT_SECONDARY}}),o);t.default=g},2393:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n;var a=r(3);var o=(n={},n[a.Edition.ApiMethod.METHODS.get("GET")]="#3884ff",n[a.Edition.ApiMethod.METHODS.get("PUT")]="#f5ca64",n[a.Edition.ApiMethod.METHODS.get("POST")]="#59d77f",n[a.Edition.ApiMethod.METHODS.get("DELETE")]="#ff5454",n[a.Edition.ApiMethod.METHODS.get("OPTIONS")]="#75d1ff",n[a.Edition.ApiMethod.METHODS.get("HEAD")]="#d09970",n[a.Edition.ApiMethod.METHODS.get("PATCH")]="#a962f5",n);function i(e){return o[e]||"#f5f5f5"}t.default=i},322:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,a;var o=r(0);var i=c(o);var s=r(2);var u=r(1);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=(a=n=function(e){d(t,e);function t(){l(this,t);return f(this,e.apply(this,arguments))}t.prototype.render=function e(){var r=t.STYLES;var n=this.props.children;return i.createElement(u.View,{component:"span",styles:[r.placeholder],contentEditable:false},n)};return t}(i.Component),n.STYLES=s.StyleSheet.create({placeholder:{position:"absolute",color:u.colors.TEXT_MUTED,pointerEvents:"none"}}),a);t.default=v},4:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"Block",function(){return ke});r.d(t,"Change",function(){return Ct});r.d(t,"Changes",function(){return kt});r.d(t,"Character",function(){return re});r.d(t,"Data",function(){return R});r.d(t,"Document",function(){return ge});r.d(t,"History",function(){return He});r.d(t,"Inline",function(){return pe});r.d(t,"Leaf",function(){return ae});r.d(t,"Mark",function(){return W});r.d(t,"Node",function(){return de});r.d(t,"Operation",function(){return at});r.d(t,"Operations",function(){return wt});r.d(t,"Range",function(){return Y});r.d(t,"Schema",function(){return Xe});r.d(t,"Stack",function(){return We});r.d(t,"Text",function(){return fe});r.d(t,"Value",function(){return rt});r.d(t,"resetKeyGenerator",function(){return ce});r.d(t,"setKeyGenerator",function(){return ue});r.d(t,"resetMemoization",function(){return U});r.d(t,"useMemoization",function(){return J});var n=r(606);var a=r.n(n);var o=r(6);var i=r.n(o);var s=r(607);var u=r(1279);var c=r.n(u);var l=r(1280);var f=r.n(l);var d=r(1281);var v=r.n(d);var h=r(1283);var p=r.n(h);var y=r(622);var g=r.n(y);var m=r(87);var k=r(274);var b=r.n(k);var O=r(641);var E=r.n(O);var A=r(646);var C=r.n(A);var w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var T=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var S=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var x=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)};var N=function(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r};var P=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t};var B=function(){function e(e,t){var r=[];var n=true;var a=false;var o=void 0;try{for(var i=e[Symbol.iterator](),s;!(n=(s=i.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){a=true;o=e}finally{try{!n&&i["return"]&&i["return"]()}finally{if(a)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var M=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)};var R=function(){function e(){T(this,e)}S(e,null,[{key:"create",value:function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(o["Map"].isMap(r))return r;if(a()(r))return e.fromJSON(r);throw new Error("`Data.create` only accepts objects or maps, but you passed it: "+r)}},{key:"fromJSON",value:function e(t){return new o["Map"](t)}}]);return e}();R.fromJS=R.fromJSON;var D={BLOCK:"@@__SLATE_BLOCK__@@",CHANGE:"@@__SLATE_CHANGE__@@",CHARACTER:"@@__SLATE_CHARACTER__@@",DOCUMENT:"@@__SLATE_DOCUMENT__@@",HISTORY:"@@__SLATE_HISTORY__@@",INLINE:"@@__SLATE_INLINE__@@",LEAF:"@@__SLATE_LEAF__@@",MARK:"@@__SLATE_MARK__@@",OPERATION:"@@__SLATE_OPERATION__@@",RANGE:"@@__SLATE_RANGE__@@",SCHEMA:"@@__SLATE_SCHEMA__@@",STACK:"@@__SLATE_STACK__@@",TEXT:"@@__SLATE_TEXT__@@",VALUE:"@@__SLATE_VALUE__@@"};var j=true;var I=0;var K={};var L={};var F=void 0;function z(e,t){var r=function t(r){var n=e[r];if(!n)throw new Error('Object does not have a property named "'+r+'".');e[r]=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];if(!j)return n.apply(this,t);if(I!==this.__cache_key){this.__cache_key=I;this.__cache=new Map;this.__cache_no_args={};this.__cache_no_args.__proto__=null}this.__cache||(this.__cache=new Map);if(!this.__cache_no_args){this.__cache_no_args={};this.__cache_no_args.__proto__=null}var o=0!==t.length;var i=void 0;var s=void 0;if(o){s=[r].concat(t);i=H(this.__cache,s)}else i=this.__cache_no_args[r];if(i!==F)return i===L?void 0:i;var u=n.apply(this,t);var c=void 0===u?L:u;o?this.__cache=V(this.__cache,s,c):this.__cache_no_args[r]=c;return u}};var n=true;var a=false;var o=void 0;try{for(var i=t[Symbol.iterator](),s;!(n=(s=i.next()).done);n=true){var u=s.value;r(u)}}catch(e){a=true;o=e}finally{try{!n&&i.return&&i.return()}finally{if(a)throw o}}}function H(e,t){var r=true;var n=false;var a=void 0;try{for(var o=t[Symbol.iterator](),i;!(r=(i=o.next()).done);r=true){var s=i.value;e=e.get(s);if(e===F)return F}}catch(e){n=true;a=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw a}}return e.get(K)}function V(e,t,r){var n=e;var a=void 0;var o=true;var i=false;var s=void 0;try{for(var u=t[Symbol.iterator](),c;!(o=(c=u.next()).done);o=true){var l=c.value;a=n.get(l);if(a===F){a=new Map;n.set(l,a)}n=a}}catch(e){i=true;s=e}finally{try{!o&&u.return&&u.return()}finally{if(i)throw s}}a.set(K,r);return e}function U(){I++;I>=Number.MAX_SAFE_INTEGER&&(I=0)}function J(e){j=e}var q={data:new o["Map"],type:void 0};var W=function(e){x(t,e);function t(){T(this,t);return P(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}S(t,[{key:"getComponent",value:function e(t){return t.__getComponent(this)}},{key:"toJSON",value:function e(){var t={object:this.object,type:this.type,data:this.data.toJSON()};return t}},{key:"toJS",value:function e(){return this.toJSON()}},{key:"object",get:function e(){return"mark"}},{key:"kind",get:function e(){s["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");return this.object}}],[{key:"create",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isMark(r))return r;"string"==typeof r&&(r={type:r});if(a()(r))return t.fromJSON(r);throw new Error("`Mark.create` only accepts objects, strings or marks, but you passed it: "+r)}},{key:"createSet",value:function e(r){if(o["Set"].isSet(r)||Array.isArray(r)){var n=new o["Set"](r.map(t.create));return n}if(null==r)return new o["Set"];throw new Error("`Mark.createSet` only accepts sets, arrays or null, but you passed it: "+r)}},{key:"createProperties",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isMark(r))return{data:r.data,type:r.type};if("string"==typeof r)return{type:r};if(a()(r)){var n={};"type"in r&&(n.type=r.type);"data"in r&&(n.data=R.create(r.data));return n}throw new Error("`Mark.createProperties` only accepts objects, strings or marks, but you passed it: "+r)}},{key:"fromJSON",value:function e(r){var n=r.data,a=void 0===n?{}:n,i=r.type;if("string"!=typeof i)throw new Error("`Mark.fromJS` requires a `type` string.");var s=new t({type:i,data:new o["Map"](a)});return s}},{key:"isMark",value:function e(t){return!!(t&&t[D.MARK])}},{key:"isMarkSet",value:function e(r){return o["Set"].isSet(r)&&r.every(function(e){return t.isMark(e)})}}]);return t}(Object(o["Record"])(q));W.fromJS=W.fromJSON;W.prototype[D.MARK]=true;z(W.prototype,["getComponent"]);var G={anchorKey:null,anchorOffset:0,focusKey:null,focusOffset:0,isBackward:null,isFocused:false,marks:null};var Y=function(e){x(t,e);function t(){T(this,t);return P(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}S(t,[{key:"hasAnchorAtStartOf",value:function e(t){if(0!=this.anchorOffset)return false;var r=Z(t);return this.anchorKey==r.key}},{key:"hasAnchorAtEndOf",value:function e(t){var r=ee(t);return this.anchorKey==r.key&&this.anchorOffset==r.text.length}},{key:"hasAnchorBetween",value:function e(t,r,n){return this.anchorOffset<=n&&r<=this.anchorOffset&&this.hasAnchorIn(t)}},{key:"hasAnchorIn",value:function e(t){return"text"==t.object?t.key==this.anchorKey:null!=this.anchorKey&&t.hasDescendant(this.anchorKey)}},{key:"hasFocusAtEndOf",value:function e(t){var r=ee(t);return this.focusKey==r.key&&this.focusOffset==r.text.length}},{key:"hasFocusAtStartOf",value:function e(t){if(0!=this.focusOffset)return false;var r=Z(t);return this.focusKey==r.key}},{key:"hasFocusBetween",value:function e(t,r,n){return r<=this.focusOffset&&this.focusOffset<=n&&this.hasFocusIn(t)}},{key:"hasFocusIn",value:function e(t){return"text"==t.object?t.key==this.focusKey:null!=this.focusKey&&t.hasDescendant(this.focusKey)}},{key:"isAtStartOf",value:function e(t){return this.isCollapsed&&this.hasAnchorAtStartOf(t)}},{key:"isAtEndOf",value:function e(t){return this.isCollapsed&&this.hasAnchorAtEndOf(t)}},{key:"focus",value:function e(){return this.merge({isFocused:true})}},{key:"blur",value:function e(){return this.merge({isFocused:false})}},{key:"deselect",value:function e(){return this.merge({anchorKey:null,anchorOffset:0,focusKey:null,focusOffset:0,isFocused:false,isBackward:false})}},{key:"flip",value:function e(){return this.merge({anchorKey:this.focusKey,anchorOffset:this.focusOffset,focusKey:this.anchorKey,focusOffset:this.anchorOffset,isBackward:null==this.isBackward?null:!this.isBackward})}},{key:"moveAnchor",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;var r=this.anchorKey,n=this.focusKey,a=this.focusOffset,o=this.isBackward;var i=this.anchorOffset+t;return this.merge({anchorOffset:i,isBackward:r==n?i>a:o})}},{key:"moveFocus",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;var r=this.anchorKey,n=this.anchorOffset,a=this.focusKey,o=this.isBackward;var i=this.focusOffset+t;return this.merge({focusOffset:i,isBackward:a==r?n>i:o})}},{key:"moveAnchorTo",value:function e(t,r){var n=this.anchorKey,a=this.focusKey,o=this.focusOffset,i=this.isBackward;return this.merge({anchorKey:t,anchorOffset:r,isBackward:t==a?r>o:t==n?i:null})}},{key:"moveFocusTo",value:function e(t,r){var n=this.focusKey,a=this.anchorKey,o=this.anchorOffset,i=this.isBackward;return this.merge({focusKey:t,focusOffset:r,isBackward:t==a?o>r:t==n?i:null})}},{key:"moveAnchorOffsetTo",value:function e(t){return this.merge({anchorOffset:t,isBackward:this.anchorKey==this.focusKey?t>this.focusOffset:this.isBackward})}},{key:"moveFocusOffsetTo",value:function e(t){return this.merge({focusOffset:t,isBackward:this.anchorKey==this.focusKey?this.anchorOffset>t:this.isBackward})}},{key:"moveOffsetsTo",value:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return this.moveAnchorOffsetTo(t).moveFocusOffsetTo(r)}},{key:"moveToAnchor",value:function e(){return this.moveFocusTo(this.anchorKey,this.anchorOffset)}},{key:"moveToFocus",value:function e(){return this.moveAnchorTo(this.focusKey,this.focusOffset)}},{key:"moveAnchorToStartOf",value:function e(t){t=Z(t);return this.moveAnchorTo(t.key,0)}},{key:"moveAnchorToEndOf",value:function e(t){t=ee(t);return this.moveAnchorTo(t.key,t.text.length)}},{key:"moveFocusToStartOf",value:function e(t){t=Z(t);return this.moveFocusTo(t.key,0)}},{key:"moveFocusToEndOf",value:function e(t){t=ee(t);return this.moveFocusTo(t.key,t.text.length)}},{key:"moveToRangeOf",value:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;var n=this.isBackward?this.flip():this;return n.moveAnchorToStartOf(t).moveFocusToEndOf(r)}},{key:"normalize",value:function e(t){var r=this;var n=r.anchorKey,a=r.anchorOffset,o=r.focusKey,i=r.focusOffset,u=r.isBackward;var c="undefined"===typeof a?"undefined":w(a);var l="undefined"===typeof i?"undefined":w(i);"number"==c&&"number"==l||s["a"].warn('The range offsets should be numbers, but they were of type "'+c+'" and "'+l+'".');if(null==n||null==o)return r.merge({anchorKey:null,anchorOffset:0,focusKey:null,focusOffset:0,isBackward:false});var f=t.getDescendant(n);var d=t.getDescendant(o);if(!f||!d){s["a"].warn("The range was invalid and was reset. The range in question was:",r);var v=t.getFirstText();return r.merge({anchorKey:v?v.key:null,anchorOffset:0,focusKey:v?v.key:null,focusOffset:0,isBackward:false})}if("text"!=f.object){s["a"].warn("The range anchor was set to a Node that is not a Text node. This should not happen and can degrade performance. The node in question was:",f);var h=f.getTextAtOffset(a);var p=f.getOffset(h.key);a-=p;f=h}if("text"!=d.object){s["a"].warn("The range focus was set to a Node that is not a Text node. This should not happen and can degrade performance. The node in question was:",d);var y=d.getTextAtOffset(i);var g=d.getOffset(y.key);i-=g;d=y}null==u&&(u=f.key===d.key?a>i:!t.areDescendantsSorted(f.key,d.key));return r.merge({anchorKey:f.key,anchorOffset:a,focusKey:d.key,focusOffset:i,isBackward:u})}},{key:"toJSON",value:function e(){var t={object:this.object,anchorKey:this.anchorKey,anchorOffset:this.anchorOffset,focusKey:this.focusKey,focusOffset:this.focusOffset,isBackward:this.isBackward,isFocused:this.isFocused,marks:null==this.marks?null:this.marks.toArray().map(function(e){return e.toJSON()})};return t}},{key:"toJS",value:function e(){return this.toJSON()}},{key:"object",get:function e(){return"range"}},{key:"kind",get:function e(){s["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");return this.object}},{key:"isBlurred",get:function e(){return!this.isFocused}},{key:"isCollapsed",get:function e(){return this.anchorKey==this.focusKey&&this.anchorOffset==this.focusOffset}},{key:"isExpanded",get:function e(){return!this.isCollapsed}},{key:"isForward",get:function e(){return null==this.isBackward?null:!this.isBackward}},{key:"isSet",get:function e(){return null!=this.anchorKey&&null!=this.focusKey}},{key:"isUnset",get:function e(){return!this.isSet}},{key:"startKey",get:function e(){return this.isBackward?this.focusKey:this.anchorKey}},{key:"startOffset",get:function e(){return this.isBackward?this.focusOffset:this.anchorOffset}},{key:"endKey",get:function e(){return this.isBackward?this.anchorKey:this.focusKey}},{key:"endOffset",get:function e(){return this.isBackward?this.anchorOffset:this.focusOffset}}],[{key:"create",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isRange(r))return r;if(a()(r))return t.fromJSON(r);throw new Error("`Range.create` only accepts objects or ranges, but you passed it: "+r)}},{key:"createList",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(o["List"].isList(r)||Array.isArray(r)){var n=new o["List"](r.map(t.create));return n}throw new Error("`Range.createList` only accepts arrays or lists, but you passed it: "+r)}},{key:"createProperties",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isRange(r))return{anchorKey:r.anchorKey,anchorOffset:r.anchorOffset,focusKey:r.focusKey,focusOffset:r.focusOffset,isBackward:r.isBackward,isFocused:r.isFocused,marks:r.marks};if(a()(r)){var n={};"anchorKey"in r&&(n.anchorKey=r.anchorKey);"anchorOffset"in r&&(n.anchorOffset=r.anchorOffset);"anchorPath"in r&&(n.anchorPath=r.anchorPath);"focusKey"in r&&(n.focusKey=r.focusKey);"focusOffset"in r&&(n.focusOffset=r.focusOffset);"focusPath"in r&&(n.focusPath=r.focusPath);"isBackward"in r&&(n.isBackward=r.isBackward);"isFocused"in r&&(n.isFocused=r.isFocused);"marks"in r&&(n.marks=null==r.marks?null:W.createSet(r.marks));return n}throw new Error("`Range.createProperties` only accepts objects or ranges, but you passed it: "+r)}},{key:"fromJSON",value:function e(r){var n=r.anchorKey,a=void 0===n?null:n,i=r.anchorOffset,s=void 0===i?0:i,u=r.focusKey,c=void 0===u?null:u,l=r.focusOffset,f=void 0===l?0:l,d=r.isBackward,v=void 0===d?null:d,h=r.isFocused,p=void 0!==h&&h,y=r.marks,g=void 0===y?null:y;var m=new t({anchorKey:a,anchorOffset:s,focusKey:c,focusOffset:f,isBackward:v,isFocused:p,marks:null==g?null:new o["Set"](g.map(W.fromJSON))});return m}},{key:"isRange",value:function e(t){return!!(t&&t[D.RANGE])}}]);return t}(Object(o["Record"])(G));Y.fromJS=Y.fromJSON;Y.prototype[D.RANGE]=true;var X=[["move",""],["move","To"],["move","ToStartOf"],["move","ToEndOf"]];X.forEach(function(e){var t=B(e,2),r=t[0],n=t[1];Y.prototype[""+r+n]=function(){var e;return(e=this[r+"Anchor"+n].apply(this,arguments))[r+"Focus"+n].apply(e,arguments)}});var Q=[["has","AtStartOf",true],["has","AtEndOf",true],["has","Between",true],["has","In",true],["collapseTo",""],["move",""],["moveTo",""],["move","To"],["move","OffsetTo"]];Q.forEach(function(e){var t=B(e,3),r=t[0],n=t[1],a=t[2];var o=r+"Anchor"+n;var i=r+"Focus"+n;Y.prototype[r+"Start"+n]=function(){return this.isBackward?this[i].apply(this,arguments):this[o].apply(this,arguments)};Y.prototype[r+"End"+n]=function(){return this.isBackward?this[o].apply(this,arguments):this[i].apply(this,arguments)};a&&(Y.prototype[r+"Edge"+n]=function(){return this[o].apply(this,arguments)||this[i].apply(this,arguments)})});var $=[["collapseTo","moveTo"],["collapseToAnchor","moveToAnchor"],["collapseToFocus","moveToFocus"],["collapseToStart","moveToStart"],["collapseToEnd","moveToEnd"],["collapseToStartOf","moveToStartOf"],["collapseToEndOf","moveToEndOf"],["extend","moveFocus"],["extendTo","moveFocusTo"],["extendToStartOf","moveFocusToStartOf"],["extendToEndOf","moveFocusToEndOf"]];$.forEach(function(e){var t=B(e,2),r=t[0],n=t[1];Y.prototype[r]=function(){return this[n].apply(this,arguments)}});function Z(e){return"text"==e.object?e:e.getFirstText()}function ee(e){return"text"==e.object?e:e.getLastText()}var te={marks:new o["Set"],text:""};var re=function(e){x(t,e);function t(){T(this,t);return P(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}S(t,[{key:"toJSON",value:function e(){var t={object:this.object,text:this.text,marks:this.marks.toArray().map(function(e){return e.toJSON()})};return t}},{key:"toJS",value:function e(){return this.toJSON()}},{key:"object",get:function e(){return"character"}},{key:"kind",get:function e(){s["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");return this.object}}],[{key:"create",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isCharacter(r))return r;"string"==typeof r&&(r={text:r});if(a()(r))return t.fromJSON(r);throw new Error("`Character.create` only accepts objects, strings or characters, but you passed it: "+r)}},{key:"createList",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];"string"==typeof r&&(r=r.split(""));if(o["List"].isList(r)||Array.isArray(r)){var n=new o["List"](r.map(t.create));return n}throw new Error("`Block.createList` only accepts strings, arrays or lists, but you passed it: "+r)}},{key:"fromJSON",value:function e(r){var n=r.text,a=r.marks,i=void 0===a?[]:a;if("string"!=typeof n)throw new Error("`Character.fromJSON` requires a block `text` string.");var s=new t({text:n,marks:new o["Set"](i)});return s}},{key:"isCharacter",value:function e(t){return!!(t&&t[D.CHARACTER])}},{key:"isCharacterList",value:function e(r){return o["List"].isList(r)&&r.every(function(e){return t.isCharacter(e)})}}]);return t}(Object(o["Record"])(te));re.fromJS=re.fromJSON;re.prototype[D.CHARACTER]=true;var ne={marks:new o["Set"],text:""};var ae=function(e){x(t,e);function t(){T(this,t);return P(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}S(t,[{key:"getCharacters",value:function e(){var t=this.marks;var r=re.createList(this.text.split("").map(function(e){return re.create({text:e,marks:t})}));return r}},{key:"toJSON",value:function e(){var t={object:this.object,text:this.text,marks:this.marks.toArray().map(function(e){return e.toJSON()})};return t}},{key:"toJS",value:function e(){return this.toJSON()}},{key:"object",get:function e(){return"leaf"}},{key:"kind",get:function e(){s["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");return this.object}}],[{key:"create",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isLeaf(r))return r;"string"==typeof r&&(r={text:r});if(a()(r))return t.fromJSON(r);throw new Error("`Leaf.create` only accepts objects, strings or leaves, but you passed it: "+r)}},{key:"createList",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(o["List"].isList(r)||Array.isArray(r)){var n=new o["List"](r.map(t.create));return n}throw new Error("`Leaf.createList` only accepts arrays or lists, but you passed it: "+r)}},{key:"fromJSON",value:function e(r){var n=r.text,a=void 0===n?"":n,i=r.marks,s=void 0===i?[]:i;var u=new t({text:a,marks:new o["Set"](s.map(W.fromJSON))});return u}},{key:"isLeaf",value:function e(t){return!!(t&&t[D.LEAF])}},{key:"isLeafList",value:function e(r){return o["List"].isList(r)&&r.every(function(e){return t.isLeaf(e)})}}]);return t}(Object(o["Record"])(ne));ae.fromJS=ae.fromJSON;ae.prototype[D.LEAF]=true;var oe=void 0;var ie=void 0;function se(){return ie()}function ue(e){ie=e}function ce(){oe=0;ie=function e(){return""+oe++}}ce();var le={characters:new o["List"],key:void 0};var fe=function(e){x(t,e);function t(){T(this,t);return P(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}S(t,[{key:"addMark",value:function e(t,r,n){var a=new o["Set"]([n]);return this.addMarks(t,r,a)}},{key:"addMarks",value:function e(t,r,n){var a=this.characters.map(function(e,a){if(a<t)return e;if(a>=t+r)return e;var o=e,i=o.marks;i=i.union(n);e=e.set("marks",i);return e});return this.set("characters",a)}},{key:"getDecoratedCharacters",value:function e(t){var r=this;var n=r,a=n.key,o=n.characters;if(0==o.size)return o;t.forEach(function(e){var t=e.startKey,n=e.endKey,i=e.startOffset,s=e.endOffset,u=e.marks;var c=t==a;var l=n==a;var f=c?i:0;var d=l?s-f:o.size;r=r.addMarks(f,d,u)});return r.characters}},{key:"getDecorations",value:function e(t){return t.__getDecorations(this)}},{key:"getLeaves",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];var r=this.getDecoratedCharacters(t);var n=[];var a=void 0;var i=void 0;0==r.size?n.push({}):r.forEach(function(e,t){var r=e.marks,s=e.text;if(0==t){a=e;i={text:s,marks:r};n.push(i);return}var u=a.marks;var c=Object(o["is"])(r,u);if(c){a=e;i.text+=s;return}a=e;i={text:s,marks:r};n.push(i)},[]);n=new o["List"](n.map(function(e){return new ae(e)}));return n}},{key:"getActiveMarksBetweenOffsets",value:function e(t,r){var n=this;if(0===t&&r===this.characters.size)return this.getActiveMarks();var a=this.characters.get(t);if(!a)return Object(o["Set"])();var i=a.marks;if(0===i.size)return i;return i.withMutations(function(e){for(var a=t+1;a<r;a++){var o=n.characters.get(a);e.intersect(o.marks);if(0===e.size)return}})}},{key:"getActiveMarks",value:function e(){var t=this;if(0===this.characters.size)return Object(o["Set"])();var r=this.characters.first().marks;if(0===r.size)return r;return r.withMutations(function(e){t.characters.forEach(function(t){e.intersect(t.marks);if(0===e.size)return false})})}},{key:"getMarksBetweenOffsets",value:function e(t,r){var n=this;if(0===t&&r===this.characters.size)return this.getMarks();return(new o["OrderedSet"]).withMutations(function(e){for(var a=t;a<r;a++){var o=n.characters.get(a);e.union(o.marks)}})}},{key:"getMarks",value:function e(){var t=this.getMarksAsArray();return new o["OrderedSet"](t)}},{key:"getMarksAsArray",value:function e(){if(0===this.characters.size)return[];var t=this.characters.first().marks;var r=t;var n=[];this.characters.forEach(function(e){if(e.marks===r)return true;r=e.marks;n.push(r.toArray())});return Array.prototype.concat.apply(t.toArray(),n)}},{key:"getMarksAtIndex",value:function e(t){if(0==t)return W.createSet();var r=this.characters;var n=r.get(t-1);if(!n)return W.createSet();return n.marks}},{key:"getNode",value:function e(t){return this.key==t?this:null}},{key:"hasNode",value:function e(t){return!!this.getNode(t)}},{key:"insertText",value:function e(t,r,n){var a=this.characters;var o=re.createList(r.split("").map(function(e){return{text:e,marks:n}}));a=a.slice(0,t).concat(o).concat(a.slice(t));return this.set("characters",a)}},{key:"regenerateKey",value:function e(){var t=se();return this.set("key",t)}},{key:"removeMark",value:function e(t,r,n){var a=this.characters.map(function(e,a){if(a<t)return e;if(a>=t+r)return e;var o=e,i=o.marks;i=i.remove(n);e=e.set("marks",i);return e});return this.set("characters",a)}},{key:"removeText",value:function e(t,r){var n=this.characters;var a=t;var o=t+r;n=n.filterNot(function(e,t){return a<=t&&t<o});return this.set("characters",n)}},{key:"toJSON",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r={object:this.object,leaves:this.getLeaves().toArray().map(function(e){return e.toJSON()})};t.preserveKeys&&(r.key=this.key);return r}},{key:"toJS",value:function e(t){return this.toJSON(t)}},{key:"updateMark",value:function e(t,r,n,a){var o=n.merge(a);var i=this.characters.map(function(e,a){if(a<t)return e;if(a>=t+r)return e;var i=e,s=i.marks;if(!s.has(n))return e;s=s.remove(n);s=s.add(o);e=e.set("marks",s);return e});return this.set("characters",i)}},{key:"validate",value:function e(t){return t.validateNode(this)}},{key:"getFirstInvalidDescendant",value:function e(t){return this.validate(t)?this:null}},{key:"object",get:function e(){return"text"}},{key:"kind",get:function e(){s["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");return this.object}},{key:"isEmpty",get:function e(){return""==this.text}},{key:"text",get:function e(){return this.characters.reduce(function(e,t){return e+t.text},"")}}],[{key:"create",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t.isText(r))return r;"string"==typeof r&&(r={leaves:[{text:r}]});if(a()(r)){if(r.text){var n=r,o=n.text,i=n.marks,s=n.key;r={key:s,leaves:[{text:o,marks:i}]}}return t.fromJSON(r)}throw new Error("`Text.create` only accepts objects, arrays, strings or texts, but you passed it: "+r)}},{key:"createList",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(o["List"].isList(r)||Array.isArray(r)){var n=new o["List"](r.map(t.create));return n}throw new Error("`Text.createList` only accepts arrays or lists, but you passed it: "+r)}},{key:"fromJSON",value:function e(r){if(t.isText(r))return r;var n=r.leaves,a=void 0===n?[]:n,i=r.key,s=void 0===i?se():i;var u=a.map(ae.fromJSON).reduce(function(e,t){return e.concat(t.getCharacters())},new o["List"]);var c=new t({characters:u,key:s});return c}},{key:"isText",value:function e(t){return!!(t&&t[D.TEXT])}},{key:"isTextList",value:function e(r){return o["List"].isList(r)&&r.every(function(e){return t.isText(e)})}}]);return t}(Object(o["Record"])(le));fe.fromJS=fe.fromJSON;fe.prototype[D.TEXT]=true;z(fe.prototype,["getDecoratedCharacters","getDecorations","getLeaves","getActiveMarks","getMarks","getMarksAsArray","getMarksAtIndex","validate"]);var de=function(){function e(){T(this,e)}S(e,[{key:"areDescendantsSorted",value:function e(t,r){t=ve(t);r=ve(r);var n=this.getKeysAsArray();var a=n.indexOf(t);var o=n.indexOf(r);if(-1==a||-1==o)return null;return a<o}},{key:"assertChild",value:function e(t){var r=this.getChild(t);if(!r){t=ve(t);throw new Error('Could not find a child node with key "'+t+'".')}return r}},{key:"assertDescendant",value:function e(t){var r=this.getDescendant(t);if(!r){t=ve(t);throw new Error('Could not find a descendant node with key "'+t+'".')}return r}},{key:"assertNode",value:function e(t){var r=this.getNode(t);if(!r){t=ve(t);throw new Error('Could not find a node with key "'+t+'".')}return r}},{key:"assertPath",value:function e(t){var r=this.getDescendantAtPath(t);if(!r)throw new Error('Could not find a descendant at path "'+t+'".');return r}},{key:"filterDescendants",value:function e(t){var r=[];this.forEachDescendant(function(e,n,a){t(e,n,a)&&r.push(e)});return Object(o["List"])(r)}},{key:"findDescendant",value:function e(t){var r=null;this.forEachDescendant(function(e,n,a){if(t(e,n,a)){r=e;return false}});return r}},{key:"forEachDescendant",value:function e(t){var r=void 0;this.nodes.forEach(function(e,n,a){if(false===t(e,n,a)){r=false;return false}if("text"!=e.object){r=e.forEachDescendant(t);return r}});return r}},{key:"getAncestors",value:function e(t){t=ve(t);if(t==this.key)return Object(o["List"])();if(this.hasChild(t))return Object(o["List"])([this]);var r=this.getPath(t);if(r)return r.slice(0,-1).reduce(function(e,t){var r=e.last();return e.push(r.nodes.get(t))},Object(o["List"])([this]));return null}},{key:"getBlocks",value:function e(){var t=this.getBlocksAsArray();return new o["List"](t)}},{key:"getBlocksAsArray",value:function e(){return this.nodes.reduce(function(e,t){if("block"!=t.object)return e;if(!t.isLeafBlock())return e.concat(t.getBlocksAsArray());e.push(t);return e},[])}},{key:"getBlocksAtRange",value:function e(t){var r=this.getBlocksAtRangeAsArray(t);return new o["List"](new o["OrderedSet"](r))}},{key:"getBlocksAtRangeAsArray",value:function e(t){t=t.normalize(this);if(t.isUnset)return[];var r=t,n=r.startKey,a=r.endKey;var o=this.getClosestBlock(n);if(n==a)return[o];var i=this.getClosestBlock(a);var s=this.getBlocksAsArray();var u=s.indexOf(o);var c=s.indexOf(i);return s.slice(u,c+1)}},{key:"getBlocksByType",value:function e(t){var r=this.getBlocksByTypeAsArray(t);return new o["List"](r)}},{key:"getBlocksByTypeAsArray",value:function e(t){return this.nodes.reduce(function(e,r){if("block"!=r.object)return e;if(r.isLeafBlock()&&r.type==t){e.push(r);return e}return e.concat(r.getBlocksByTypeAsArray(t))},[])}},{key:"getCharacters",value:function e(){return this.getTexts().flatMap(function(e){return e.characters})}},{key:"getCharactersAtRange",value:function e(t){t=t.normalize(this);if(t.isUnset)return Object(o["List"])();var r=t,n=r.startKey,a=r.endKey,i=r.startOffset,s=r.endOffset;if(n===a){var u=this.getDescendant(a);return u.characters.slice(i,s)}return this.getTextsAtRange(t).flatMap(function(e){if(e.key===n)return e.characters.slice(i);if(e.key===a)return e.characters.slice(0,s);return e.characters})}},{key:"getChild",value:function e(t){t=ve(t);return this.nodes.find(function(e){return e.key==t})}},{key:"getClosest",value:function e(t,r){t=ve(t);var n=this.getAncestors(t);if(!n)throw new Error('Could not find a descendant node with key "'+t+'".');return n.rest().findLast(r)}},{key:"getClosestBlock",value:function e(t){return this.getClosest(t,function(e){return"block"==e.object})}},{key:"getClosestInline",value:function e(t){return this.getClosest(t,function(e){return"inline"==e.object})}},{key:"getClosestVoid",value:function e(t){return this.getClosest(t,function(e){return e.isVoid})}},{key:"getCommonAncestor",value:function e(t,r){t=ve(t);r=ve(r);if(t==this.key)return this;if(r==this.key)return this;this.assertDescendant(t);this.assertDescendant(r);var n=this.getPath(t);var a=this.getPath(r);var o=0;for(;o<n.length;o+=1)if(n[o]!==a[o])break;var i=n.slice(0,o);return this.getDescendantAtPath(i)}},{key:"getDecorations",value:function e(t){var r=t.find("decorateNode",this);var n=Y.createList(r||[]);return n}},{key:"getDepth",value:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.assertDescendant(t);if(this.hasChild(t))return r;return this.getFurthestAncestor(t).getDepth(t,r+1)}},{key:"getDescendant",value:function e(t){t=ve(t);var r=this.getPath(t);if(r)return this.getDescendantAtPath(r);return null}},{key:"getDescendantAtPath",value:function e(t){var r=this;var n=true;var a=false;var o=void 0;try{for(var i=t[Symbol.iterator](),s;!(n=(s=i.next()).done);n=true){var u=s.value;if(!r)return;if(!r.nodes)return;r=r.nodes.get(u)}}catch(e){a=true;o=e}finally{try{!n&&i.return&&i.return()}finally{if(a)throw o}}return r}},{key:"getFirstText",value:function e(){var t=null;var r=this.nodes.find(function(e){if("text"==e.object)return true;t=e.getFirstText();return t});return t||r}},{key:"getFragmentAtRange",value:function e(t){t=t.normalize(this);if(t.isUnset)return ge.create();var r=this;var n=t,a=n.startKey,o=n.startOffset,i=n.endKey,s=n.endOffset;var u=r.assertDescendant(a);var c=r.assertDescendant(i);var l=u;var f=void 0;while(r.getParent(l.key)){var d="text"==l.object?o:l.nodes.indexOf(f);r=r.splitNode(r.getPath(l.key),d);f=r.getNextSibling(l.key);l=r.getParent(l.key)}l=a==i?r.getNextText(a):c;while(r.getParent(l.key)){var v="text"==l.object?a==i?s-o:s:l.nodes.indexOf(f);r=r.splitNode(r.getPath(l.key),v);f=r.getNextSibling(l.key);l=r.getParent(l.key)}var h=r.getNextSibling(r.getFurthestAncestor(a).key);var p=a==i?r.getNextSibling(r.getNextSibling(r.getFurthestAncestor(i).key).key):r.getNextSibling(r.getFurthestAncestor(i).key);var y=r.nodes.indexOf(h);var g=r.nodes.indexOf(p);var m=r.nodes.slice(y,g);return ge.create({nodes:m})}},{key:"getFurthest",value:function e(t,r){var n=this.getAncestors(t);if(!n){t=ve(t);throw new Error('Could not find a descendant node with key "'+t+'".')}return n.rest().find(r)}},{key:"getFurthestBlock",value:function e(t){return this.getFurthest(t,function(e){return"block"==e.object})}},{key:"getFurthestInline",value:function e(t){return this.getFurthest(t,function(e){return"inline"==e.object})}},{key:"getFurthestAncestor",value:function e(t){t=ve(t);var r=this.getPath(t);if(r)return this.getDescendantAtPath(r.slice(0,1));return null}},{key:"getFurthestOnlyChildAncestor",value:function e(t){var r=this.getAncestors(t);if(!r){t=ve(t);throw new Error('Could not find a descendant node with key "'+t+'".')}var n=r.shift().reverse().takeUntil(function(e){return e.nodes.size>1}).last();if(!n)return null;return n}},{key:"getInlines",value:function e(){var t=this.getInlinesAsArray();return new o["List"](t)}},{key:"getInlinesAsArray",value:function e(){var t=[];this.nodes.forEach(function(e){if("text"==e.object)return;e.isLeafInline()?t.push(e):t=t.concat(e.getInlinesAsArray())});return t}},{key:"getInlinesAtRange",value:function e(t){var r=this.getInlinesAtRangeAsArray(t);return new o["List"](new o["OrderedSet"](r))}},{key:"getInlinesAtRangeAsArray",value:function e(t){var r=this;t=t.normalize(this);if(t.isUnset)return[];return this.getTextsAtRangeAsArray(t).map(function(e){return r.getClosestInline(e.key)}).filter(function(e){return e})}},{key:"getInlinesByType",value:function e(t){var r=this.getInlinesByTypeAsArray(t);return new o["List"](r)}},{key:"getInlinesByTypeAsArray",value:function e(t){return this.nodes.reduce(function(e,r){if("text"==r.object)return e;if(r.isLeafInline()&&r.type==t){e.push(r);return e}return e.concat(r.getInlinesByTypeAsArray(t))},[])}},{key:"getKeysAsArray",value:function e(){var t=[];this.forEachDescendant(function(e){t.push(e.key)});return t}},{key:"getKeys",value:function e(){var t=this.getKeysAsArray();return new o["Set"](t)}},{key:"getLastText",value:function e(){var t=null;var r=this.nodes.findLast(function(e){if("text"==e.object)return true;t=e.getLastText();return t});return t||r}},{key:"getMarks",value:function e(){var t=this.getMarksAsArray();return new o["Set"](t)}},{key:"getOrderedMarks",value:function e(){var t=this.getMarksAsArray();return new o["OrderedSet"](t)}},{key:"getMarksAsArray",value:function e(){var t=[];this.nodes.forEach(function(e){t.push(e.getMarksAsArray())});return Array.prototype.concat.apply([],t)}},{key:"getMarksAtRange",value:function e(t){return new o["Set"](this.getOrderedMarksAtRange(t))}},{key:"getInsertMarksAtRange",value:function e(t){t=t.normalize(this);if(t.isUnset)return Object(o["Set"])();if(t.isCollapsed)return this.getMarksAtPosition(t.startKey,t.startOffset);var r=this.getDescendant(t.startKey);var n=r.characters.get(t.startOffset);if(!n)return Object(o["Set"])();return n.marks}},{key:"getOrderedMarksAtRange",value:function e(t){t=t.normalize(this);if(t.isUnset)return Object(o["OrderedSet"])();if(t.isCollapsed)return this.getMarksAtPosition(t.startKey,t.startOffset);var r=t,n=r.startKey,a=r.startOffset,i=r.endKey,s=r.endOffset;return this.getOrderedMarksBetweenPositions(n,a,i,s)}},{key:"getOrderedMarksBetweenPositions",value:function e(t,r,n,a){if(t===n){var i=this.getDescendant(t);return i.getMarksBetweenOffsets(r,a)}var s=this.getTextsBetweenPositionsAsArray(t,n);return Object(o["OrderedSet"])().withMutations(function(e){s.forEach(function(o){o.key===t?e.union(o.getMarksBetweenOffsets(r,o.text.length)):o.key===n?e.union(o.getMarksBetweenOffsets(0,a)):e.union(o.getMarks())})})}},{key:"getActiveMarksAtRange",value:function e(t){t=t.normalize(this);if(t.isUnset)return Object(o["Set"])();if(t.isCollapsed){var r=t,n=r.startKey,a=r.startOffset;return this.getMarksAtPosition(n,a).toSet()}var i=t,s=i.startKey,u=i.endKey,c=i.startOffset,l=i.endOffset;var f=this.getDescendant(s);if(s!==u){while(s!==u&&0===l){var d=this.getPreviousText(u);u=d.key;l=d.text.length}while(s!==u&&c===f.text.length){f=this.getNextText(s);s=f.key;c=0}}if(s===u)return f.getActiveMarksBetweenOffsets(c,l);var v=f.getActiveMarksBetweenOffsets(c,f.text.length);if(0===v.size)return Object(o["Set"])();var h=this.getDescendant(u);var p=h.getActiveMarksBetweenOffsets(0,l);var y=v.intersect(p);if(0===y.size)return y;var g=this.getNextText(s);while(g.key!==u){if(0!==g.text.length){y=y.intersect(g.getActiveMarks());if(0===y.size)return Object(o["Set"])()}g=this.getNextText(g.key)}return y}},{key:"getMarksAtPosition",value:function e(t,r){if(0==r){var n=this.getPreviousText(t);if(!n||0==n.text.length)return Object(o["OrderedSet"])();if(this.getClosestBlock(t)!==this.getClosestBlock(n.key))return Object(o["OrderedSet"])();var a=n.characters.last();if(!a)return Object(o["OrderedSet"])();return new o["OrderedSet"](a.marks)}var i=this.getDescendant(t);var s=i.characters.get(r-1);if(!s)return Object(o["OrderedSet"])();return new o["OrderedSet"](s.marks)}},{key:"getMarksByType",value:function e(t){var r=this.getMarksByTypeAsArray(t);return new o["Set"](r)}},{key:"getOrderedMarksByType",value:function e(t){var r=this.getMarksByTypeAsArray(t);return new o["OrderedSet"](r)}},{key:"getMarksByTypeAsArray",value:function e(t){return this.nodes.reduce(function(e,r){return"text"==r.object?e.concat(r.getMarksAsArray().filter(function(e){return e.type==t})):e.concat(r.getMarksByTypeAsArray(t))},[])}},{key:"getNextBlock",value:function e(t){var r=this.assertDescendant(t);var n=void 0;if("block"==r.object)n=r.getLastText();else{var a=this.getClosestBlock(t);n=a.getLastText()}var o=this.getNextText(n.key);if(!o)return null;return this.getClosestBlock(o.key)}},{key:"getNextSibling",value:function e(t){t=ve(t);var r=this.getPath(t);if(!r)return null;var n=function e(t){return t===r.length-1};var a=r.map(function(e,t){return n(t)?e+1:e});return this.getDescendantAtPath(a)}},{key:"getNextText",value:function e(t){t=ve(t);return this.getTexts().skipUntil(function(e){return e.key==t}).get(1)}},{key:"getNode",value:function e(t){t=ve(t);return this.key==t?this:this.getDescendant(t)}},{key:"getNodeAtPath",value:function e(t){return t.length?this.getDescendantAtPath(t):this}},{key:"getOffset",value:function e(t){this.assertDescendant(t);var r=this.getFurthestAncestor(t);var n=this.nodes.takeUntil(function(e){return e==r}).reduce(function(e,t){return e+t.text.length},0);return this.hasChild(t)?n:n+r.getOffset(t)}},{key:"getOffsetAtRange",value:function e(t){t=t.normalize(this);if(t.isUnset)throw new Error("The range cannot be unset to calculcate its offset.");if(t.isExpanded)throw new Error("The range must be collapsed to calculcate its offset.");var r=t,n=r.startKey,a=r.startOffset;return this.getOffset(n)+a}},{key:"getParent",value:function e(t){if(t===this.key)return null;if(this.hasChild(t))return this;var r=this.getPath(t);if(r)return this.getDescendantAtPath(r.slice(0,-1));return null}},{key:"forEachDescendantWithPath",value:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;var a=void 0;this.nodes.forEach(function(e,o){if(o<n){a=true;return true}var i=[].concat(M(r),[o]);if(false===t(e,i)){a=false;return false}if("text"!=e.object){a=e.forEachDescendantWithPath(t,i);return a}});return a}},{key:"regeneratePathsCache",value:function e(){var t=this;this.__cache_paths=Object(o["Map"])();this.forEachDescendantWithPath(function(e,r){t.__cache_paths=t.__cache_paths.set(e.key,r)})}},{key:"getPathsCache",value:function e(){return this.__cache_paths}},{key:"setPathsCache",value:function e(t){return this.__cache_paths=t}},{key:"getPath",value:function e(t){if(t===this.key)return[];this.getPathsCache()||this.regeneratePathsCache();return this.getPathsCache().get(t,null)}},{key:"refindPath",value:function e(t,r){var n=this.getDescendantAtPath(t);if(n&&n.key===r)return t;return this.getPath(r)}},{key:"refindNode",value:function e(t,r){var n=this.getDescendantAtPath(t);if(n&&n.key===r)return n;return this.getDescendant(r)}},{key:"getPlaceholder",value:function e(t){return t.__getPlaceholder(this)}},{key:"getPreviousBlock",value:function e(t){var r=this.assertDescendant(t);var n=void 0;if("block"==r.object)n=r.getFirstText();else{var a=this.getClosestBlock(t);n=a.getFirstText()}var o=this.getPreviousText(n.key);if(!o)return null;return this.getClosestBlock(o.key)}},{key:"getPreviousSibling",value:function e(t){t=ve(t);var r=this.getParent(t);var n=r.nodes.takeUntil(function(e){return e.key==t});if(n.size==r.nodes.size)throw new Error('Could not find a child node with key "'+t+'".');return n.last()}},{key:"getPreviousText",value:function e(t){t=ve(t);return this.getTexts().takeUntil(function(e){return e.key==t}).last()}},{key:"getSelectionIndexes",value:function e(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n=t.startKey,a=t.endKey;if(!r||t.isBlurred)return null;if(t.isUnset)return null;if(n==a){var o=this.getFurthestAncestor(n);var i=o?this.nodes.indexOf(o):null;return{start:i,end:i+1}}var s=null;var u=null;this.nodes.forEach(function(e,t){if("text"==e.object){null==s&&e.key==n&&(s=t);null==u&&e.key==a&&(u=t+1)}else{null==s&&e.hasDescendant(n)&&(s=t);null==u&&e.hasDescendant(a)&&(u=t+1)}return null==s||null==u});r&&null==s&&(s=0);r&&null==u&&(u=this.nodes.size);return null==s?null:{start:s,end:u}}},{key:"getText",value:function e(){return this.nodes.reduce(function(e,t){return e+t.text},"")}},{key:"getTextAtOffset",value:function e(t){if(0==t)return this.getFirstText();if(t==this.text.length)return this.getLastText();if(t<0||t>this.text.length)return null;var r=0;return this.getTexts().find(function(e,n,a){r+=e.text.length;return r>t})}},{key:"getTextDirection",value:function e(){var t=c()(this.text);return"neutral"==t?void 0:t}},{key:"getTexts",value:function e(){var t=this.getTextsAsArray();return new o["List"](t)}},{key:"getTextsAsArray",value:function e(){var t=[];this.nodes.forEach(function(e){"text"==e.object?t.push(e):t=t.concat(e.getTextsAsArray())});return t}},{key:"getTextsAtRange",value:function e(t){t=t.normalize(this);if(t.isUnset)return Object(o["List"])();var r=t,n=r.startKey,a=r.endKey;return new o["List"](this.getTextsBetweenPositionsAsArray(n,a))}},{key:"getTextsBetweenPositionsAsArray",value:function e(t,r){var n=this.getDescendant(t);if(t==r)return[n];var a=this.getDescendant(r);var o=this.getTextsAsArray();var i=o.indexOf(n);var s=o.indexOf(a,i);return o.slice(i,s+1)}},{key:"getTextsAtRangeAsArray",value:function e(t){t=t.normalize(this);if(t.isUnset)return[];var r=t,n=r.startKey,a=r.endKey;return this.getTextsBetweenPositionsAsArray(n,a)}},{key:"hasChild",value:function e(t){return!!this.getChild(t)}},{key:"hasBlocks",value:function e(t){var r=this.assertNode(t);return!!(r.nodes&&r.nodes.find(function(e){return"block"===e.object}))}},{key:"hasInlines",value:function e(t){var r=this.assertNode(t);return!!(r.nodes&&r.nodes.find(function(e){return pe.isInline(e)||fe.isText(e)}))}},{key:"hasDescendant",value:function e(t){return!!this.getPath(t)}},{key:"hasNode",value:function e(t){return!!this.getDescendant(t)}},{key:"hasVoidParent",value:function e(t){return!!this.getClosestVoid(t)}},{key:"insertNode",value:function e(t,r){var n=this;this.hasDescendant(r.key)&&(r=r.regenerateKey());"text"!=r.object&&(r=r.mapDescendants(function(e){return n.hasDescendant(e.key)?e.regenerateKey():e}));var a=this.getDescendantAtPath(t.slice(0,-1));var o=t[t.length-1];var i=a.nodes.insert(o,r);return this.updateNode(a.set("nodes",i),true,o)}},{key:"isInRange",value:function e(t){t=t.normalize(this);var r=this;var n=t,a=n.startKey,o=n.endKey,i=n.isCollapsed;if(r.key==a||r.key==o||r.hasDescendant(a)||r.hasDescendant(o))return true;if(i)return false;var s=r.getTextsAtRange(t);var u=false;s.forEach(function(e){r.hasDescendant(e.key)&&(u=true);return u});return u}},{key:"isLeafBlock",value:function e(){return"block"==this.object&&this.nodes.every(function(e){return"block"!=e.object})}},{key:"isLeafInline",value:function e(){return"inline"==this.object&&this.nodes.every(function(e){return"inline"!=e.object})}},{key:"mergeNode",value:function e(t,r){var n=this.getDescendantAtPath(t);var a=this.getDescendantAtPath(r);if(n.object!=a.object)throw new Error('Tried to merge two nodes of different objects: "'+n.object+'" and "'+a.object+'".');if("text"==n.object){var i=n.characters.concat(a.characters);n=n.set("characters",i)}else{var s=n.nodes.concat(a.nodes);n=n.set("nodes",s)}var u=this.getDescendantAtPath(r.slice(0,-1));var c=u.nodes.reduce(function(e,t){if(t.key===n.key)return e.push(n);if(t.key===a.key)return e;return e.push(t)},Object(o["List"])());var l=t[t.length-1];return this.updateNode(u.set("nodes",c),true,l)}},{key:"mapChildren",value:function e(t){var r=this;var n=this.nodes;n.forEach(function(e,a){var o=t(e,a,r.nodes);o!=e&&(n=n.set(o.key,o))});return this.set("nodes",n)}},{key:"mapDescendants",value:function e(t){var r=this;var n=this.nodes;n.forEach(function(e,a){var o=e;"text"!=o.object&&(o=o.mapDescendants(t));o=t(o,a,r.nodes);if(o==e)return;n=n.set(a,o)});return this.set("nodes",n)}},{key:"regenerateKey",value:function e(){var t=se();return this.set("key",t)}},{key:"removeDescendant",value:function e(t){t=ve(t);var r=this;var n=r.getParent(t);if(!n)throw new Error('Could not find a descendant node with key "'+t+'".');var a=n.nodes.findIndex(function(e){return e.key===t});var o=n.nodes.splice(a,1);n=n.set("nodes",o);r=r.updateNode(n);return r}},{key:"removeNode",value:function e(t){var r=this.getDescendantAtPath(t);var n=this.getParent(r.key);var a=n.nodes.filter(function(e){var t=e.key;return t!==r.key});var o=t[t.length-1];return this.updateNode(n.set("nodes",a),true,o)}},{key:"splitNode",value:function e(t,r){var n=this.getDescendantAtPath(t);var a=void 0;var i=void 0;if("text"==n.object){var s=n.characters.take(r);var u=n.characters.skip(r);a=n.set("characters",s);i=n.set("characters",u).regenerateKey()}else{var c=n.nodes.take(r);var l=n.nodes.skip(r);a=n.set("nodes",c);i=n.set("nodes",l).regenerateKey()}var f=this.getDescendantAtPath(t.slice(0,-1));var d=f.nodes.reduce(function(e,t){if(t.key===a.key)return e.push(a,i);return e.push(t)},Object(o["List"])());var v=t[t.length-1];return this.updateNode(f.set("nodes",d),true,v)}},{key:"updateNode",value:function e(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t.key==this.key)return t;var a=this.assertDescendant(t.key);var o=this.getPathsCache();if(o&&r){var i=this.getPath(a.key);fe.isText(a)||a.forEachDescendantWithPath(function(e){return o=o.remove(e.key)},i,n);fe.isText(t)||t.forEachDescendantWithPath(function(e,t){return o=o.set(e.key,t)},i,n)}var s=this.getAncestors(t.key);s.reverse().forEach(function(e){var r=e,n=r.nodes;var o=n.indexOf(a);a=e;n=n.set(o,t);e=e.set("nodes",n);t=e});t.setPathsCache(o);return t}},{key:"validate",value:function e(t){return t.validateNode(this)}},{key:"getFirstInvalidDescendant",value:function e(t){var r=null;this.nodes.find(function(e){r=e.validate(t)?e:e.getFirstInvalidDescendant(t);return r});return r}}],[{key:"create",value:function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isNode(r))return r;if(a()(r)){var n=r.object;if(!n&&r.kind){s["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");n=r.kind}switch(n){case"block":return ke.create(r);case"document":return ge.create(r);case"inline":return pe.create(r);case"text":return fe.create(r);default:throw new Error("`Node.create` requires a `object` string.")}}throw new Error("`Node.create` only accepts objects or nodes but you passed it: "+r)}},{key:"createList",value:function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(o["List"].isList(r)||Array.isArray(r)){var n=new o["List"](r.map(e.create));return n}throw new Error("`Node.createList` only accepts lists or arrays, but you passed it: "+r)}},{key:"createProperties",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(ke.isBlock(t)||pe.isInline(t))return{data:t.data,isVoid:t.isVoid,type:t.type};if("string"==typeof t)return{type:t};if(a()(t)){var r={};"type"in t&&(r.type=t.type);"data"in t&&(r.data=R.create(t.data));"isVoid"in t&&(r.isVoid=t.isVoid);return r}throw new Error("`Node.createProperties` only accepts objects, strings, blocks or inlines, but you passed it: "+t)}},{key:"fromJSON",value:function e(t){var r=t.object;if(!r&&t.kind){s["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");r=t.kind}switch(r){case"block":return ke.fromJSON(t);case"document":return ge.fromJSON(t);case"inline":return pe.fromJSON(t);case"text":return fe.fromJSON(t);default:throw new Error("`Node.fromJSON` requires an `object` of either 'block', 'document', 'inline' or 'text', but you passed: "+t)}}},{key:"isNode",value:function e(t){return ke.isBlock(t)||ge.isDocument(t)||pe.isInline(t)||fe.isText(t)}},{key:"isNodeList",value:function t(r){return o["List"].isList(r)&&r.every(function(t){return e.isNode(t)})}}]);return e}();de.fromJS=de.fromJSON;function ve(e){if("string"==typeof e)return e;throw new Error("Invalid `key` argument! It must be a key string, but you passed: "+e)}z(de.prototype,["areDescendantsSorted","getAncestors","getBlocksAsArray","getBlocksAtRangeAsArray","getBlocksByTypeAsArray","getChild","getClosestBlock","getClosestInline","getClosestVoid","getCommonAncestor","getDecorations","getDepth","getDescendant","getDescendantAtPath","getFirstText","getFragmentAtRange","getFurthestBlock","getFurthestInline","getFurthestAncestor","getFurthestOnlyChildAncestor","getInlinesAsArray","getInlinesAtRangeAsArray","getInlinesByTypeAsArray","getMarksAsArray","getMarksAtPosition","getOrderedMarksBetweenPositions","getInsertMarksAtRange","getKeysAsArray","getLastText","getMarksByTypeAsArray","getNextBlock","getNextSibling","getNextText","getNode","getNodeAtPath","getOffset","getOffsetAtRange","getParent","getPath","getPlaceholder","getPreviousBlock","getPreviousSibling","getPreviousText","getText","getTextAtOffset","getTextDirection","getTextsAsArray","getTextsBetweenPositionsAsArray","isLeafBlock","isLeafInline","validate","getFirstInvalidDescendant"]);var he={data:new o["Map"],isVoid:false,key:void 0,nodes:new o["List"],type:void 0};var pe=function(e){x(t,e);function t(){T(this,t);return P(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}S(t,[{key:"toJSON",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r={object:this.object,type:this.type,isVoid:this.isVoid,data:this.data.toJSON(),nodes:this.nodes.toArray().map(function(e){return e.toJSON(t)})};t.preserveKeys&&(r.key=this.key);return r}},{key:"toJS",value:function e(t){return this.toJSON(t)}},{key:"object",get:function e(){return"inline"}},{key:"kind",get:function e(){s["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");return this.object}},{key:"isEmpty",get:function e(){return!this.isVoid&&!this.nodes.some(function(e){return!e.isEmpty})}},{key:"text",get:function e(){return this.getText()}}],[{key:"create",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isInline(r))return r;"string"==typeof r&&(r={type:r});if(a()(r))return t.fromJSON(r);throw new Error("`Inline.create` only accepts objects, strings or inlines, but you passed it: "+r)}},{key:"createList",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(o["List"].isList(r)||Array.isArray(r)){var n=new o["List"](r.map(t.create));return n}throw new Error("`Inline.createList` only accepts arrays or lists, but you passed it: "+r)}},{key:"fromJSON",value:function e(r){if(t.isInline(r))return r;var n=r.data,a=void 0===n?{}:n,i=r.isVoid,s=void 0!==i&&i,u=r.key,c=void 0===u?se():u,l=r.nodes,f=void 0===l?[]:l,d=r.type;if("string"!=typeof d)throw new Error("`Inline.fromJS` requires a `type` string.");var v=new t({key:c,type:d,isVoid:!!s,data:new o["Map"](a),nodes:new o["List"](f.map(de.fromJSON))});return v}},{key:"isInline",value:function e(t){return!!(t&&t[D.INLINE])}},{key:"isInlineList",value:function e(r){return o["List"].isList(r)&&r.every(function(e){return t.isInline(e)})}}]);return t}(Object(o["Record"])(he));pe.fromJS=pe.fromJSON;pe.prototype[D.INLINE]=true;Object.getOwnPropertyNames(de.prototype).forEach(function(e){if("constructor"==e)return;pe.prototype[e]=de.prototype[e]});var ye={data:new o["Map"],key:void 0,nodes:new o["List"]};var ge=function(e){x(t,e);function t(){T(this,t);return P(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}S(t,[{key:"toJSON",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r={object:this.object,data:this.data.toJSON(),nodes:this.nodes.toArray().map(function(e){return e.toJSON(t)})};t.preserveKeys&&(r.key=this.key);return r}},{key:"toJS",value:function e(t){return this.toJSON(t)}},{key:"object",get:function e(){return"document"}},{key:"kind",get:function e(){s["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");return this.object}},{key:"isEmpty",get:function e(){return!this.nodes.some(function(e){return!e.isEmpty})}},{key:"text",get:function e(){return this.getText()}}],[{key:"create",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isDocument(r))return r;(o["List"].isList(r)||Array.isArray(r))&&(r={nodes:r});if(a()(r))return t.fromJSON(r);throw new Error("`Document.create` only accepts objects, arrays, lists or documents, but you passed it: "+r)}},{key:"fromJSON",value:function e(r){if(t.isDocument(r))return r;var n=r.data,a=void 0===n?{}:n,i=r.key,s=void 0===i?se():i,u=r.nodes,c=void 0===u?[]:u;var l=new t({key:s,data:new o["Map"](a),nodes:new o["List"](c.map(de.fromJSON))});return l}},{key:"isDocument",value:function e(t){return!!(t&&t[D.DOCUMENT])}}]);return t}(Object(o["Record"])(ye));ge.fromJS=ge.fromJSON;ge.prototype[D.DOCUMENT]=true;Object.getOwnPropertyNames(de.prototype).forEach(function(e){if("constructor"==e)return;ge.prototype[e]=de.prototype[e]});var me={data:new o["Map"],isVoid:false,key:void 0,nodes:new o["List"],type:void 0};var ke=function(e){x(t,e);function t(){T(this,t);return P(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}S(t,[{key:"toJSON",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r={object:this.object,type:this.type,isVoid:this.isVoid,data:this.data.toJSON(),nodes:this.nodes.toArray().map(function(e){return e.toJSON(t)})};t.preserveKeys&&(r.key=this.key);return r}},{key:"toJS",value:function e(t){return this.toJSON(t)}},{key:"object",get:function e(){return"block"}},{key:"kind",get:function e(){s["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");return this.object}},{key:"isEmpty",get:function e(){return!this.isVoid&&!this.nodes.some(function(e){return!e.isEmpty})}},{key:"text",get:function e(){return this.getText()}}],[{key:"create",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isBlock(r))return r;"string"==typeof r&&(r={type:r});if(a()(r))return t.fromJSON(r);throw new Error("`Block.create` only accepts objects, strings or blocks, but you passed it: "+r)}},{key:"createList",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(o["List"].isList(r)||Array.isArray(r)){var n=new o["List"](r.map(t.create));return n}throw new Error("`Block.createList` only accepts arrays or lists, but you passed it: "+r)}},{key:"fromJSON",value:function e(r){if(t.isBlock(r))return r;var n=r.data,a=void 0===n?{}:n,i=r.isVoid,s=void 0!==i&&i,u=r.key,c=void 0===u?se():u,l=r.nodes,f=void 0===l?[]:l,d=r.type;if("string"!=typeof d)throw new Error("`Block.fromJSON` requires a `type` string.");var v=new t({key:c,type:d,isVoid:!!s,data:new o["Map"](a),nodes:new o["List"](f.map(de.fromJSON))});return v}},{key:"isBlock",value:function e(t){return!!(t&&t[D.BLOCK])}},{key:"isBlockList",value:function e(r){return o["List"].isList(r)&&r.every(function(e){return t.isBlock(e)})}}]);return t}(Object(o["Record"])(me));ke.fromJS=ke.fromJSON;ke.prototype[D.BLOCK]=true;Object.getOwnPropertyNames(de.prototype).forEach(function(e){if("constructor"==e)return;ke.prototype[e]=de.prototype[e]});var be={};var Oe=["deleteBackward","deleteCharBackward","deleteLineBackward","deleteWordBackward","deleteForward","deleteCharForward","deleteWordForward","deleteLineForward","setBlocks","setInlines","splitInline","unwrapBlock","unwrapInline","wrapBlock","wrapInline"];Oe.forEach(function(e){be[e]=function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var o=t.value;var i=o.selection;var s=e+"AtRange";t[s].apply(t,[i].concat(n));e.match(/Backward$/)?t.collapseToStart():e.match(/Forward$/)&&t.collapseToEnd()}});be.setBlock=function(){s["a"].deprecate("slate@0.33.0","The `setBlock` method of Slate changes has been renamed to `setBlocks`.");be.setBlocks.apply(be,arguments)};be.setInline=function(){s["a"].deprecate("slate@0.33.0","The `setInline` method of Slate changes has been renamed to `setInlines`.");be.setInlines.apply(be,arguments)};be.addMark=function(e,t){t=W.create(t);var r=e.value;var n=r.document,a=r.selection;if(a.isExpanded)e.addMarkAtRange(a,t);else if(a.marks){var o=a.marks.add(t);var i=a.set("marks",o);e.select(i)}else{var s=n.getActiveMarksAtRange(a).add(t);var u=a.set("marks",s);e.select(u)}};be.addMarks=function(e,t){t.forEach(function(t){return e.addMark(t)})};be.delete=function(e){var t=e.value;var r=t.selection;e.deleteAtRange(r);e.collapseToStart()};be.insertBlock=function(e,t){t=ke.create(t);var r=e.value;var n=r.selection;e.insertBlockAtRange(n,t);var a=e.value.document.getNode(t.key);a&&e.collapseToEndOf(a)};be.insertFragment=function(e,t){if(!t.nodes.size)return;var r=e.value;var n=r,a=n.document,o=n.selection;var i=r,s=i.startText,u=i.endText,c=i.startInline;var l=t.getLastText();var f=t.getClosestInline(l.key);var d=t.nodes.first();var v=t.nodes.last();var h=a.getTexts().map(function(e){return e.key});var p=!c||o.hasEdgeAtStartOf(s)||o.hasEdgeAtEndOf(u);var y=t.hasBlocks(d.key)||t.hasBlocks(v.key);e.insertFragmentAtRange(o,t);r=e.value;a=r.document;var g=a.getTexts().filter(function(e){return!h.includes(e.key)});var m=p?g.last():g.takeLast(2).first();m&&(f||y)?e.select(o.collapseToEndOf(m)):m?e.select(o.collapseToStartOf(m).move(l.text.length)):e.select(o.collapseToStart().move(l.text.length))};be.insertInline=function(e,t){t=pe.create(t);var r=e.value;var n=r.selection;e.insertInlineAtRange(n,t);var a=e.value.document.getNode(t.key);a&&e.collapseToEndOf(a)};be.insertText=function(e,t,r){var n=e.value;var a=n.document,o=n.selection;r=r||o.marks||a.getInsertMarksAtRange(o);e.insertTextAtRange(o,t,r);o.marks&&a!=e.value.document&&e.select({marks:null})};be.splitBlock=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;var r=e.value;var n=r.selection,a=r.document;var o=n.marks||a.getInsertMarksAtRange(n);e.splitBlockAtRange(n,t).collapseToEnd();o&&0!==o.size&&e.select({marks:o})};be.removeMark=function(e,t){t=W.create(t);var r=e.value;var n=r.document,a=r.selection;if(a.isExpanded)e.removeMarkAtRange(a,t);else if(a.marks){var o=a.marks.remove(t);var i=a.set("marks",o);e.select(i)}else{var s=n.getActiveMarksAtRange(a).remove(t);var u=a.set("marks",s);e.select(u)}};be.toggleMark=function(e,t){t=W.create(t);var r=e.value;var n=r.activeMarks.has(t);n?e.removeMark(t):e.addMark(t)};be.wrapText=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;var n=e.value;var a=n.selection;e.wrapTextAtRange(a,t,r);a.isCollapsed&&e.moveStart(0-t.length);e.moveEnd(0-r.length);a.isForward!=e.value.selection.isForward&&e.flip()};var Ee=55296;var Ae=57343;var Ce=/\s/;var we=/['\u2018\u2019]/;var Te=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;function Se(e){return Ee<=e&&e<=Ae}function _e(e,t){if(Ce.test(e))return false;if(we.test(e)){var r=t.charAt(0);var n=xe(r);r=t.slice(0,n);var a=t.slice(n);if(_e(r,a))return true}if(Te.test(e))return false;return true}function xe(e){return Se(e.charCodeAt(0))?2:1}function Ne(e){var t=e.charAt(0);return xe(t)}function Pe(e,t){e=e.slice(0,t);e=Object(l["reverse"])(e);return Ne(e)}function Be(e,t){e=e.slice(t);return Ne(e)}function Me(e){var t=0;var r=0;var n=false;var a=void 0;while(a=e.charAt(r)){var o=xe(a);a=e.slice(r,r+o);var i=e.slice(r+o);if(_e(a,i)){n=true;t+=o}else{if(n)break;t+=o}r+=o}return t}function Re(e,t){e=e.slice(0,t);e=Object(l["reverse"])(e);var r=Me(e);return r}function De(e,t){e=e.slice(t);var r=Me(e);return r}var je={getCharOffsetForward:Be,getCharOffsetBackward:Pe,getWordOffsetBackward:Re,getWordOffsetForward:De};var Ie={};Ie.addMarkAtRange=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t.isCollapsed)return;var a=e.getFlag("normalize",n);var o=e.value;var i=o.document;var s=t.startKey,u=t.startOffset,c=t.endKey,l=t.endOffset;var f=i.getTextsAtRange(t);f.forEach(function(t){var n=t.key;var o=0;var i=t.text.length;n==s&&(o=u);n==c&&(i=l);n==s&&n==c&&(i=l-u);e.addMarkByKey(n,o,i,r,{normalize:a})})};Ie.addMarksAtRange=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r.forEach(function(r){return e.addMarkAtRange(t,r,n)})};Ie.deleteAtRange=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t.isCollapsed)return;e.snapshotSelection();var n=e.getFlag("normalize",r);var a=e.value;var o=t.startKey,i=t.startOffset,s=t.endKey,u=t.endOffset;var c=a.document;var l=c.hasVoidParent(o);var f=c.hasVoidParent(s);var d=c.getClosestBlock(o);var v=c.getClosestBlock(s);var h=0==i&&0==u&&false==l&&o==d.getFirstText().key&&s==v.getFirstText().key;if(h&&f){var p=c.getPreviousText(s);s=p.key;u=p.text.length;f=c.hasVoidParent(s)}while(l){var y=c.getClosestVoid(o);var g=c.getNextText(o);e.removeNodeByKey(y.key,{normalize:false});if(o==s)return;if(!g)return;c=e.value.document;o=g.key;i=0;l=c.hasVoidParent(o)}while(f){var m=c.getClosestVoid(s);var k=c.getPreviousText(s);e.removeNodeByKey(m.key,{normalize:false});c=e.value.document;s=k.key;u=k.text.length;f=c.hasVoidParent(s)}if(o==s&&h){e.removeNodeByKey(d.key,{normalize:n});return}if(o==s){var b=i;var O=u-i;e.removeTextByKey(o,b,O,{normalize:n});return}d=c.getClosestBlock(o);v=c.getClosestBlock(s);var E=c.getNode(o);var A=c.getNode(s);var C=E.text.length-i;var w=u;var T=c.getCommonAncestor(o,s);var S=T.getFurthestAncestor(o);var _=T.getFurthestAncestor(s);var x=c.getParent(d.key);var N=x.nodes.indexOf(d);var P=x.nodes.indexOf(v);var B=void 0;B=E;while(B.key!=S.key){var M=c.getParent(B.key);var R=M.nodes.indexOf(B);var D=M.nodes.slice(R+1);D.reverse().forEach(function(t){e.removeNodeByKey(t.key,{normalize:false})});B=M}var j=T.nodes.indexOf(S);var I=T.nodes.indexOf(_);var K=T.nodes.slice(j+1,I);K.reverse().forEach(function(t){e.removeNodeByKey(t.key,{normalize:false})});B=A;while(B.key!=_.key){var L=c.getParent(B.key);var F=L.nodes.indexOf(B);var z=L.nodes.slice(0,F);z.reverse().forEach(function(t){e.removeNodeByKey(t.key,{normalize:false})});B=L}0!=C&&e.removeTextByKey(o,i,C,{normalize:false});0!=w&&e.removeTextByKey(s,0,u,{normalize:false});if(d.key!=v.key){c=e.value.document;var H=c.getFurthestOnlyChildAncestor(v.key);P!=N+1&&e.moveNodeByKey(v.key,x.key,N+1,{normalize:false});h?e.removeNodeByKey(d.key,{normalize:false}):e.mergeNodeByKey(v.key,{normalize:false});H&&e.removeNodeByKey(H.key,{normalize:false})}n&&e.normalizeNodeByKey(T.key)};Ie.deleteCharBackwardAtRange=function(e,t,r){var n=e.value;var a=n.document;var o=t.startKey,i=t.startOffset;var s=a.getClosestBlock(o);var u=s.getOffset(o);var c=u+i;var l=s.text;var f=je.getCharOffsetBackward(l,c);e.deleteBackwardAtRange(t,f,r)};Ie.deleteLineBackwardAtRange=function(e,t,r){var n=e.value;var a=n.document;var o=t.startKey,i=t.startOffset;var s=a.getClosestBlock(o);var u=s.getOffset(o);var c=u+i;e.deleteBackwardAtRange(t,c,r)};Ie.deleteWordBackwardAtRange=function(e,t,r){var n=e.value;var a=n.document;var o=t.startKey,i=t.startOffset;var s=a.getClosestBlock(o);var u=s.getOffset(o);var c=u+i;var l=s.text;var f=je.getWordOffsetBackward(l,c);e.deleteBackwardAtRange(t,f,r)};Ie.deleteBackwardAtRange=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var a=e.getFlag("normalize",n);var o=e.value;var i=o.document;var s=t,u=s.startKey,c=s.focusOffset;if(t.isExpanded){e.deleteAtRange(t,{normalize:a});return}var l=i.getClosestVoid(u);if(l){e.removeNodeByKey(l.key,{normalize:a});return}var f=i.getClosestBlock(u);if(f&&f.isEmpty&&1!==i.nodes.size){e.removeNodeByKey(f.key,{normalize:a});return}if(t.isAtStartOf(i))return;var d=i.getDescendant(u);if(t.isAtStartOf(d)){var v=i.getPreviousText(d.key);var h=i.getClosestBlock(v.key);var p=i.getClosestVoid(v.key);if(p){e.removeNodeByKey(p.key,{normalize:a});return}if(1==r&&h!=f){t=t.merge({anchorKey:v.key,anchorOffset:v.text.length});e.deleteAtRange(t,{normalize:a});return}}if(r<c){t=t.merge({focusOffset:c-r,isBackward:true});e.deleteAtRange(t,{normalize:a});return}var y=d;var g=0;var m=c;while(r>m){y=i.getPreviousText(y.key);var k=m+y.text.length;if(r<=k){g=k-r;break}m=k}t=t.merge({focusKey:y.key,focusOffset:g,isBackward:true});e.deleteAtRange(t,{normalize:a})};Ie.deleteCharForwardAtRange=function(e,t,r){var n=e.value;var a=n.document;var o=t.startKey,i=t.startOffset;var s=a.getClosestBlock(o);var u=s.getOffset(o);var c=u+i;var l=s.text;var f=je.getCharOffsetForward(l,c);e.deleteForwardAtRange(t,f,r)};Ie.deleteLineForwardAtRange=function(e,t,r){var n=e.value;var a=n.document;var o=t.startKey,i=t.startOffset;var s=a.getClosestBlock(o);var u=s.getOffset(o);var c=u+i;e.deleteForwardAtRange(t,c,r)};Ie.deleteWordForwardAtRange=function(e,t,r){var n=e.value;var a=n.document;var o=t.startKey,i=t.startOffset;var s=a.getClosestBlock(o);var u=s.getOffset(o);var c=u+i;var l=s.text;var f=je.getWordOffsetForward(l,c);e.deleteForwardAtRange(t,f,r)};Ie.deleteForwardAtRange=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var a=e.getFlag("normalize",n);var o=e.value;var i=o.document;var s=t,u=s.startKey,c=s.focusOffset;if(t.isExpanded){e.deleteAtRange(t,{normalize:a});return}var l=i.getClosestVoid(u);if(l){e.removeNodeByKey(l.key,{normalize:a});return}var f=i.getClosestBlock(u);if(f&&f.isEmpty&&1!==i.nodes.size){var d=i.getNextBlock(f.key);e.removeNodeByKey(f.key,{normalize:a});d&&d.key&&e.moveToStartOf(d);return}if(t.isAtEndOf(i))return;var v=i.getDescendant(u);if(t.isAtEndOf(v)){var h=i.getNextText(v.key);var p=i.getClosestBlock(h.key);var y=i.getClosestVoid(h.key);if(y){e.removeNodeByKey(y.key,{normalize:a});return}if(1==r&&p!=f){t=t.merge({focusKey:h.key,focusOffset:0});e.deleteAtRange(t,{normalize:a});return}}if(r<=v.text.length-c){t=t.merge({focusOffset:c+r});e.deleteAtRange(t,{normalize:a});return}var g=v;var m=c;var k=v.text.length-c;while(r>k){g=i.getNextText(g.key);var b=k+g.text.length;if(r<=b){m=r-k;break}k=b}if(i.hasVoidParent(g.key)){var O=i.getClosestVoid(g.key);g=i.getPreviousText(O.key);m=g.text.length}t=t.merge({focusKey:g.key,focusOffset:m});e.deleteAtRange(t,{normalize:a})};Ie.insertBlockAtRange=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r=ke.create(r);var a=e.getFlag("normalize",n);if(t.isExpanded){e.deleteAtRange(t);t=t.collapseToStart()}var o=e.value;var i=o.document;var s=t,u=s.startKey,c=s.startOffset;var l=i.getClosestBlock(u);var f=i.getParent(l.key);var d=f.nodes.indexOf(l);if(l.isVoid){var v=t.isAtEndOf(l)?1:0;e.insertNodeByKey(f.key,d+v,r,{normalize:a})}else if(l.isEmpty)e.insertNodeByKey(f.key,d+1,r,{normalize:a});else if(t.isAtStartOf(l))e.insertNodeByKey(f.key,d,r,{normalize:a});else if(t.isAtEndOf(l))e.insertNodeByKey(f.key,d+1,r,{normalize:a});else{e.splitDescendantsByKey(l.key,u,c,{normalize:false});e.insertNodeByKey(f.key,d+1,r,{normalize:a})}a&&e.normalizeNodeByKey(f.key)};Ie.insertFragmentAtRange=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var a=e.getFlag("normalize",n);if(t.isExpanded){e.deleteAtRange(t,{normalize:false});t=e.value.document.getDescendant(t.startKey)?t.collapseToStart():t.collapseTo(t.endKey,0)}if(!r.nodes.size)return;r=r.mapDescendants(function(e){return e.regenerateKey()});var i=t,s=i.startKey,u=i.startOffset;var c=e.value;var l=c.document;var f=l.getDescendant(s);var d=l.getClosestBlock(f.key);var v=d.getFurthestAncestor(f.key);var h=t.isAtStartOf(d);var p=l.getParent(d.key);var y=p.nodes.indexOf(d);var g=r.getBlocks();var m=r.nodes.first();var k=r.nodes.last();var b=g.first();var O=g.last();if(b==O&&b.isVoid){e.insertBlockAtRange(t,b,n);return}if(r.hasBlocks(m.key)||r.hasBlocks(k.key)){r.nodes.reverse().forEach(function(r){e.insertBlockAtRange(t,r,n)});return}if(b!=O){var E=r.getFurthest(b.key,function(e){return 1==e.nodes.size});var A=E||b;var C=p.nodes.indexOf(d);r=r.removeDescendant(A.key);r.nodes.forEach(function(t,r){var n=C+r+1;e.insertNodeByKey(p.key,n,t,{normalize:false})})}0!=u&&e.splitDescendantsByKey(v.key,s,u,{normalize:false});l=e.value.document;f=l.getDescendant(s);d=l.getClosestBlock(s);v=d.getFurthestAncestor(f.key);if(b!=O){var w=h?v:d.getNextSibling(v.key);var T=w?d.nodes.skipUntil(function(e){return e.key==w.key}):Object(o["List"])();var S=O.nodes.size;T.forEach(function(t,r){var n=S+r;e.moveNodeByKey(t.key,O.key,n,{normalize:false})})}if(d.isEmpty){e.removeNodeByKey(d.key,{normalize:false});e.insertNodeByKey(p.key,y,b,{normalize:false})}else{var _=d.getFurthestAncestor(f.key);var x=d.nodes.indexOf(_);b.nodes.forEach(function(t,r){var n=0==u?0:1;var a=x+r+n;e.insertNodeByKey(d.key,a,t,{normalize:false})})}a&&e.normalizeNodeByKey(p.key)};Ie.insertInlineAtRange=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var a=e.getFlag("normalize",n);r=pe.create(r);if(t.isExpanded){e.deleteAtRange(t,{normalize:false});t=t.collapseToStart()}var o=e.value;var i=o.document;var s=t,u=s.startKey,c=s.startOffset;var l=i.getParent(u);var f=i.assertDescendant(u);var d=l.nodes.indexOf(f);if(l.isVoid)return;e.splitNodeByKey(u,c,{normalize:false});e.insertNodeByKey(l.key,d+1,r,{normalize:false});a&&e.normalizeNodeByKey(l.key)};Ie.insertTextAtRange=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};var o=a.normalize;var i=e.value;var s=i.document;var u=t.startKey,c=t.startOffset;var l=u;var f=c;var d=s.getParent(u);if(d.isVoid)return;if(t.isExpanded){e.deleteAtRange(t,{normalize:false});if(e.value.startKey!==l){l=e.value.startKey;f=e.value.startOffset}}void 0!==o&&(o=t.isExpanded);e.insertTextByKey(l,f,r,n,{normalize:false});if(o){var v=s.getCommonAncestor(u,t.endKey);var h=s.getAncestors(v.key).push(v);var p=h.findLast(function(t){return e.value.document.getDescendant(t.key)});e.normalizeNodeByKey(p.key)}};Ie.removeMarkAtRange=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t.isCollapsed)return;var a=e.getFlag("normalize",n);var o=e.value;var i=o.document;var s=i.getTextsAtRange(t);var u=t.startKey,c=t.startOffset,l=t.endKey,f=t.endOffset;s.forEach(function(t){var n=t.key;var o=0;var i=t.text.length;n==u&&(o=c);n==l&&(i=f);n==u&&n==l&&(i=f-c);e.removeMarkByKey(n,o,i,r,{normalize:a})})};Ie.setBlocksAtRange=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var a=e.getFlag("normalize",n);var o=e.value;var i=o.document;var s=i.getBlocksAtRange(t);var u=t.startKey,c=t.startOffset,l=t.endKey,f=t.endOffset,d=t.isCollapsed;var v=i.hasVoidParent(u);var h=i.getClosestBlock(u);var p=i.getClosestBlock(l);var y=false==d&&0==c&&0==f&&false==v&&u==h.getFirstText().key&&l==p.getFirstText().key;var g=y?s.slice(0,-1):s;g.forEach(function(t){e.setNodeByKey(t.key,r,{normalize:a})})};Ie.setBlockAtRange=function(){s["a"].deprecate("slate@0.33.0","The `setBlockAtRange` method of Slate changes has been renamed to `setBlocksAtRange`.");Ie.setBlocksAtRange.apply(Ie,arguments)};Ie.setInlinesAtRange=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var a=e.getFlag("normalize",n);var o=e.value;var i=o.document;var s=i.getInlinesAtRange(t);s.forEach(function(t){e.setNodeByKey(t.key,r,{normalize:a})})};Ie.setInlineAtRange=function(){s["a"].deprecate("slate@0.33.0","The `setInlineAtRange` method of Slate changes has been renamed to `setInlinesAtRange`.");Ie.setInlinesAtRange.apply(Ie,arguments)};Ie.splitBlockAtRange=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var a=e.getFlag("normalize",n);var o=t,i=o.startKey,s=o.startOffset,u=o.endOffset,c=o.endKey;var l=e.value;var f=l.document;var d=f.assertDescendant(i);var v=f.getClosestBlock(d.key);var h=0;while(v&&"block"==v.object&&h<r){d=v;v=f.getClosestBlock(v.key);h++}e.splitDescendantsByKey(d.key,i,s,{normalize:a&&t.isCollapsed});if(t.isExpanded){t.isBackward&&(t=t.flip());var p=e.value.document.getNextBlock(d.key);t=t.moveAnchorToStartOf(p);i===c&&(t=t.moveFocusTo(t.anchorKey,u-s));e.deleteAtRange(t,{normalize:a})}};Ie.splitInlineAtRange=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Infinity;var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var a=e.getFlag("normalize",n);if(t.isExpanded){e.deleteAtRange(t,{normalize:a});t=t.collapseToStart()}var o=t,i=o.startKey,s=o.startOffset;var u=e.value;var c=u.document;var l=c.assertDescendant(i);var f=c.getClosestInline(l.key);var d=0;while(f&&"inline"==f.object&&d<r){l=f;f=c.getClosestInline(f.key);d++}e.splitDescendantsByKey(l.key,i,s,{normalize:a})};Ie.toggleMarkAtRange=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t.isCollapsed)return;r=W.create(r);var a=e.getFlag("normalize",n);var o=e.value;var i=o.document;var s=i.getActiveMarksAtRange(t);var u=s.some(function(e){return e.equals(r)});u?e.removeMarkAtRange(t,r,{normalize:a}):e.addMarkAtRange(t,r,{normalize:a})};Ie.unwrapBlockAtRange=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r=de.createProperties(r);var a=e.getFlag("normalize",n);var o=e.value;var i=o.document;var s=i.getBlocksAtRange(t);var u=s.map(function(e){return i.getClosest(e.key,function(e){if("block"!=e.object)return false;if(null!=r.type&&e.type!=r.type)return false;if(null!=r.isVoid&&e.isVoid!=r.isVoid)return false;if(null!=r.data&&!e.data.isSuperset(r.data))return false;return true})}).filter(function(e){return e}).toOrderedSet().toList();u.forEach(function(t){var r=t.nodes.first();var n=t.nodes.last();var a=i.getParent(t.key);var o=a.nodes.indexOf(t);var u=t.nodes.filter(function(e){return s.some(function(t){return e==t||e.hasDescendant(t.key)})});var c=u.first();var l=u.last();if(r==c&&n==l){t.nodes.forEach(function(t,r){e.moveNodeByKey(t.key,a.key,o+r,{normalize:false})});e.removeNodeByKey(t.key,{normalize:false})}else if(n==l)t.nodes.skipUntil(function(e){return e==c}).forEach(function(t,r){e.moveNodeByKey(t.key,a.key,o+1+r,{normalize:false})});else if(r==c)t.nodes.takeUntil(function(e){return e==l}).push(l).forEach(function(t,r){e.moveNodeByKey(t.key,a.key,o+r,{normalize:false})});else{var f=c.getFirstText();e.splitDescendantsByKey(t.key,f.key,0,{normalize:false});i=e.value.document;u.forEach(function(t,r){if(0==r){var n=t;t=i.getNextBlock(t.key);e.removeNodeByKey(n.key,{normalize:false})}e.moveNodeByKey(t.key,a.key,o+1+r,{normalize:false})})}});a&&e.normalizeDocument()};Ie.unwrapInlineAtRange=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r=de.createProperties(r);var a=e.getFlag("normalize",n);var o=e.value;var i=o.document;var s=i.getTextsAtRange(t);var u=s.map(function(e){return i.getClosest(e.key,function(e){if("inline"!=e.object)return false;if(null!=r.type&&e.type!=r.type)return false;if(null!=r.isVoid&&e.isVoid!=r.isVoid)return false;if(null!=r.data&&!e.data.isSuperset(r.data))return false;return true})}).filter(function(e){return e}).toOrderedSet().toList();u.forEach(function(t){var r=e.value.document.getParent(t.key);var n=r.nodes.indexOf(t);t.nodes.forEach(function(t,a){e.moveNodeByKey(t.key,r.key,n+a,{normalize:false})})});a&&e.normalizeDocument()};Ie.wrapBlockAtRange=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r=ke.create(r);r=r.set("nodes",r.nodes.clear());var a=e.getFlag("normalize",n);var o=e.value;var i=o.document;var s=i.getBlocksAtRange(t);var u=s.first();var c=s.last();var l=void 0,f=void 0,d=void 0;if(1===s.length){l=i.getParent(u.key);f=s}else l=i.getClosest(u.key,function(e){return!!i.getClosest(c.key,function(t){return e==t})});null==l&&(l=i);if(null==f){var v=l.nodes.reduce(function(e,t,r){(t==u||t.hasDescendant(u.key))&&(e[0]=r);(t==c||t.hasDescendant(c.key))&&(e[1]=r);return e},[]);d=v[0];f=l.nodes.slice(v[0],v[1]+1)}null==d&&(d=l.nodes.indexOf(f.first()));e.insertNodeByKey(l.key,d,r,{normalize:false});f.forEach(function(t,n){e.moveNodeByKey(t.key,r.key,n,{normalize:false})});a&&e.normalizeNodeByKey(l.key)};Ie.wrapInlineAtRange=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var a=e.value;var o=a.document;var i=e.getFlag("normalize",n);var s=t.startKey,u=t.startOffset,c=t.endKey,l=t.endOffset;if(t.isCollapsed){var f=o.getClosestInline(s);if(!f.isVoid)return;return e.wrapInlineByKey(f.key,r,n)}r=pe.create(r);r=r.set("nodes",r.nodes.clear());var d=o.getBlocksAtRange(t);var v=o.getClosestBlock(s);var h=o.getClosestBlock(c);var p=v.getFurthestAncestor(s);var y=h.getFurthestAncestor(c);e.splitDescendantsByKey(y.key,c,l,{normalize:false});e.splitDescendantsByKey(p.key,s,u,{normalize:false});o=e.value.document;v=o.getDescendant(v.key);h=o.getDescendant(h.key);p=v.getFurthestAncestor(s);y=h.getFurthestAncestor(c);var g=v.nodes.indexOf(p);var m=h.nodes.indexOf(y);if(v==h){o=e.value.document;v=o.getClosestBlock(s);p=v.getFurthestAncestor(s);var k=o.getNextSibling(p.key);var b=v.nodes.indexOf(k);var O=s==c?k:v.getFurthestAncestor(c);var E=v.nodes.skipUntil(function(e){return e==k}).takeUntil(function(e){return e==O}).push(O);var A=r.regenerateKey();e.insertNodeByKey(v.key,b,A,{normalize:false});E.forEach(function(t,r){e.moveNodeByKey(t.key,A.key,r,{normalize:false})});i&&e.normalizeNodeByKey(v.key)}else{var C=v.nodes.slice(g+1);var w=h.nodes.slice(0,m+1);var T=r.regenerateKey();var S=r.regenerateKey();e.insertNodeByKey(v.key,g+1,T,{normalize:false});e.insertNodeByKey(h.key,m,S,{normalize:false});C.forEach(function(t,r){e.moveNodeByKey(t.key,T.key,r,{normalize:false})});w.forEach(function(t,r){e.moveNodeByKey(t.key,S.key,r,{normalize:false})});i&&e.normalizeNodeByKey(v.key).normalizeNodeByKey(h.key);d.slice(1,-1).forEach(function(t){var n=r.regenerateKey();e.insertNodeByKey(t.key,0,n,{normalize:false});t.nodes.forEach(function(t,r){e.moveNodeByKey(t.key,n.key,r,{normalize:false})});i&&e.normalizeNodeByKey(t.key)})}};Ie.wrapTextAtRange=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r;var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};var o=e.getFlag("normalize",a);var i=t.startKey,s=t.endKey;var u=t.collapseToStart();var c=t.collapseToEnd();i==s&&(c=c.move(r.length));e.insertTextAtRange(u,r,[],{normalize:o});e.insertTextAtRange(c,n,[],{normalize:o})};var Ke={};Ke.addMarkByKey=function(e,t,r,n,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};a=W.create(a);var i=e.getFlag("normalize",o);var s=e.value;var u=s.document;var c=u.getPath(t);var l=u.getNode(t);var f=l.getLeaves();var d=[];var v=r;var h=r+n;var p=0;f.forEach(function(e){var t=p;var r=t+e.text.length;p+=e.text.length;if(r<v||h<t)return;if(e.marks.has(a))return;var n=Math.max(t,v);var o=Math.min(r,h);d.push({type:"add_mark",value:s,path:c,offset:n,length:o-n,mark:a})});e.applyOperations(d);if(i){var y=u.getParent(t);e.normalizeNodeByKey(y.key)}};Ke.insertFragmentByKey=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};var o=e.getFlag("normalize",a);n.nodes.forEach(function(n,a){e.insertNodeByKey(t,r+a,n)});o&&e.normalizeNodeByKey(t)};Ke.insertNodeByKey=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};var o=e.getFlag("normalize",a);var i=e.value;var s=i.document;var u=s.getPath(t);e.applyOperation({type:"insert_node",value:i,path:[].concat(M(u),[r]),node:n});o&&e.normalizeNodeByKey(t)};Ke.insertTextByKey=function(e,t,r,n,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};var i=e.getFlag("normalize",o);var s=e.value;var u=s.document;var c=u.getPath(t);var l=u.getNode(t);a=a||l.getMarksAtIndex(r);e.applyOperation({type:"insert_text",value:s,path:c,offset:r,text:n,marks:a});if(i){var f=u.getParent(t);e.normalizeNodeByKey(f.key)}};Ke.mergeNodeByKey=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n=e.getFlag("normalize",r);var a=e.value;var o=a.document;var i=o.getPath(t);var s=o.getDescendant(t);var u=o.getPreviousSibling(t);if(!u)throw new Error('Unable to merge node with key "'+t+'", no previous key.');var c="text"==u.object?u.text.length:u.nodes.size;e.applyOperation({type:"merge_node",value:a,path:i,position:c,properties:{type:s.type,data:s.data},target:null});if(n){var l=o.getParent(t);e.normalizeNodeByKey(l.key)}};Ke.moveNodeByKey=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};var o=e.getFlag("normalize",a);var i=e.value;var s=i.document;var u=s.getPath(t);var c=s.getPath(r);e.applyOperation({type:"move_node",value:i,path:u,newPath:[].concat(M(c),[n])});if(o){var l=s.getCommonAncestor(t,r);e.normalizeNodeByKey(l.key)}};Ke.removeMarkByKey=function(e,t,r,n,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};a=W.create(a);var i=e.getFlag("normalize",o);var s=e.value;var u=s.document;var c=u.getPath(t);var l=u.getNode(t);var f=l.getLeaves();var d=[];var v=r;var h=r+n;var p=0;f.forEach(function(e){var t=p;var r=t+e.text.length;p+=e.text.length;if(r<v||h<t)return;if(!e.marks.has(a))return;var n=Math.max(t,v);var o=Math.min(r,h);d.push({type:"remove_mark",value:s,path:c,offset:n,length:o-n,mark:a})});e.applyOperations(d);if(i){var y=u.getParent(t);e.normalizeNodeByKey(y.key)}};Ke.removeAllMarksByKey=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n=e.state;var a=n.document;var o=a.getNode(t);var i="text"===o.object?[o]:o.getTextsAsArray();i.forEach(function(t){t.getMarksAsArray().forEach(function(n){e.removeMarkByKey(t.key,0,t.text.length,n,r)})})};Ke.removeNodeByKey=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n=e.getFlag("normalize",r);var a=e.value;var o=a.document;var i=o.getPath(t);var s=o.getNode(t);e.applyOperation({type:"remove_node",value:a,path:i,node:s});if(n){var u=o.getParent(t);e.normalizeNodeByKey(u.key)}};Ke.setTextByKey=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};var o=e.value.document.getDescendant(t);e.replaceTextByKey(t,0,o.text.length,r,n,a)};Ke.replaceTextByKey=function(e,t,r,n,a,o,i){var s=e.value.document;var u=s.getDescendant(t);n+r>u.text.length&&(n=u.text.length-r);var c=Y.create({anchorKey:t,focusKey:t,anchorOffset:r,focusOffset:r+n});var l=s.getActiveMarksAtRange(c);e.removeTextByKey(t,r,n,{normalize:false});if(o){if(l){l=l.filter(function(e){return!o.find(function(t){return e.type===t.type})});o=l.merge(o)}}else o=l||[];e.insertTextByKey(t,r,a,o,i)};Ke.removeTextByKey=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};var o=e.getFlag("normalize",a);var i=e.value;var s=i.document;var u=s.getPath(t);var c=s.getNode(t);var l=c.getLeaves();var f=c.text;var d=[];var v=r;var h=r+n;var p=0;l.forEach(function(e){var t=p;var r=t+e.text.length;p+=e.text.length;if(r<v||h<t)return;var n=Math.max(t,v);var a=Math.min(r,h);var o=f.slice(n,a);d.push({type:"remove_text",value:i,path:u,offset:n,text:o,marks:e.marks})});e.applyOperations(d.reverse());if(o){var y=s.getClosestBlock(t);e.normalizeNodeByKey(y.key)}};Ke.replaceNodeByKey=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r=de.create(r);var a=e.getFlag("normalize",n);var o=e.value;var i=o.document;var s=i.getNode(t);var u=i.getParent(t);var c=u.nodes.indexOf(s);e.removeNodeByKey(t,{normalize:false});e.insertNodeByKey(u.key,c,r,{normalize:false});a&&e.normalizeNodeByKey(u.key)};Ke.setMarkByKey=function(e,t,r,n,a,o){var i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};a=W.create(a);o=W.createProperties(o);var s=e.getFlag("normalize",i);var u=e.value;var c=u.document;var l=c.getPath(t);e.applyOperation({type:"set_mark",value:u,path:l,offset:r,length:n,mark:a,properties:o});if(s){var f=c.getParent(t);e.normalizeNodeByKey(f.key)}};Ke.setNodeByKey=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};r=de.createProperties(r);var a=e.getFlag("normalize",n);var o=e.value;var i=o.document;var s=i.getPath(t);var u=i.getNode(t);e.applyOperation({type:"set_node",value:o,path:s,node:u,properties:r});a&&e.normalizeNodeByKey(u.key)};Ke.splitNodeByKey=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var a=n.normalize,o=void 0===a||a,i=n.target,s=void 0===i?null:i;var u=e.value;var c=u.document;var l=c.getPath(t);var f=c.getDescendantAtPath(l);e.applyOperation({type:"split_node",value:u,path:l,position:r,properties:{type:f.type,data:f.data},target:s});if(o){var d=c.getParent(t);e.normalizeNodeByKey(d.key)}};Ke.splitDescendantsByKey=function(e,t,r,n){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(t==r){e.splitNodeByKey(r,n,a);return}var o=e.getFlag("normalize",a);var i=e.value;var s=i.document;var u=s.getNode(r);var c=s.getAncestors(r);var l=c.skipUntil(function(e){return e.key==t}).reverse().unshift(u);var f=void 0;var d=void 0;l.forEach(function(t){var r=null==d?null:d;d=f?t.nodes.indexOf(f)+1:n;f=t;e.splitNodeByKey(t.key,d,{normalize:false,target:r})});if(o){var v=s.getParent(t);e.normalizeNodeByKey(v.key)}};Ke.unwrapInlineByKey=function(e,t,r,n){var a=e.value;var o=a.document,i=a.selection;var s=o.assertDescendant(t);var u=s.getFirstText();var c=s.getLastText();var l=i.moveToRangeOf(u,c);e.unwrapInlineAtRange(l,r,n)};Ke.unwrapBlockByKey=function(e,t,r,n){var a=e.value;var o=a.document,i=a.selection;var s=o.assertDescendant(t);var u=s.getFirstText();var c=s.getLastText();var l=i.moveToRangeOf(u,c);e.unwrapBlockAtRange(l,r,n)};Ke.unwrapNodeByKey=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n=e.getFlag("normalize",r);var a=e.value;var o=a.document;var i=o.getParent(t);var s=i.getChild(t);var u=i.nodes.indexOf(s);var c=0===u;var l=u===i.nodes.size-1;var f=o.getParent(i.key);var d=f.nodes.indexOf(i);if(1===i.nodes.size){e.moveNodeByKey(t,f.key,d,{normalize:false});e.removeNodeByKey(i.key,r)}else if(c)e.moveNodeByKey(t,f.key,d,r);else if(l)e.moveNodeByKey(t,f.key,d+1,r);else{e.splitNodeByKey(i.key,u,{normalize:false});e.moveNodeByKey(t,f.key,d+1,{normalize:false});n&&e.normalizeNodeByKey(f.key)}};Ke.wrapBlockByKey=function(e,t,r,n){r=ke.create(r);r=r.set("nodes",r.nodes.clear());var a=e.value.document;var o=a.assertDescendant(t);var i=a.getParent(o.key);var s=i.nodes.indexOf(o);e.insertNodeByKey(i.key,s,r,{normalize:false});e.moveNodeByKey(o.key,r.key,0,n)};Ke.wrapInlineByKey=function(e,t,r,n){r=pe.create(r);r=r.set("nodes",r.nodes.clear());var a=e.value.document;var o=a.assertDescendant(t);var i=a.getParent(o.key);var s=i.nodes.indexOf(o);e.insertNodeByKey(i.key,s,r,{normalize:false});e.moveNodeByKey(o.key,r.key,0,n)};Ke.wrapNodeByKey=function(e,t,r){r=de.create(r);r=r.set("nodes",r.nodes.clear());if("block"==r.object){e.wrapBlockByKey(t,r);return}if("inline"==r.object){e.wrapInlineByKey(t,r);return}};var Le={add_mark:["value","path","offset","length","mark"],insert_node:["value","path","node"],insert_text:["value","path","offset","text","marks"],merge_node:["value","path","position","properties","target"],move_node:["value","path","newPath"],remove_mark:["value","path","offset","length","mark"],remove_node:["value","path","node"],remove_text:["value","path","offset","text","marks"],set_mark:["value","path","offset","length","mark","properties"],set_node:["value","path","node","properties"],set_selection:["value","selection","properties"],set_value:["value","properties"],split_node:["value","path","position","properties","target"]};var Fe=v()("slate:history");var ze={redos:new o["Stack"],undos:new o["Stack"]};var He=function(e){x(t,e);function t(){T(this,t);return P(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}S(t,[{key:"save",value:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n=this;var a=n,i=a.undos,s=a.redos;var u=r.merge,c=r.skip;var l=i.peek();var f=l&&l.last();null==c&&(c=Ue(t,f));if(c)return n;null==u&&(u=Ve(t,f));Fe("save",{operation:t,merge:u});if(u&&l){var d=l.push(t);i=i.pop();i=i.push(d)}else{var v=new o["List"]([t]);i=i.push(v)}i.size>100&&(i=i.take(100));s=s.clear();n=n.set("undos",i).set("redos",s);return n}},{key:"toJSON",value:function e(){var t={object:this.object,redos:this.redos.toJSON(),undos:this.undos.toJSON()};return t}},{key:"toJS",value:function e(){return this.toJSON()}},{key:"object",get:function e(){return"history"}},{key:"kind",get:function e(){s["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");return this.object}}],[{key:"create",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isHistory(r))return r;if(a()(r))return t.fromJSON(r);throw new Error("`History.create` only accepts objects or histories, but you passed it: "+r)}},{key:"fromJSON",value:function e(r){var n=r.redos,a=void 0===n?[]:n,i=r.undos,s=void 0===i?[]:i;var u=new t({redos:new o["Stack"](a),undos:new o["Stack"](s)});return u}},{key:"isHistory",value:function e(t){return!!(t&&t[D.HISTORY])}}]);return t}(Object(o["Record"])(ze));He.fromJS=He.fromJSON;He.prototype[D.HISTORY]=true;function Ve(e,t){if(!t)return false;var r="set_selection"==e.type&&"set_selection"==t.type||"insert_text"==e.type&&"insert_text"==t.type&&e.offset==t.offset+t.text.length&&p()(e.path,t.path)||"remove_text"==e.type&&"remove_text"==t.type&&e.offset+e.text.length==t.offset&&p()(e.path,t.path);return r}function Ue(e,t){if(!t)return false;var r="set_selection"==e.type&&"set_selection"==t.type;return r}var Je=[{validateNode:function e(t){if("document"!=t.object)return;var r=t.nodes.filter(function(e){return"block"!=e.object});if(!r.size)return;return function(e){r.forEach(function(t){e.removeNodeByKey(t.key,{normalize:false})})}}},{validateNode:function e(t){if("block"!=t.object)return;var r=t.nodes.first();if(!r)return;var n="block"==r.object?["block"]:["inline","text"];var a=t.nodes.filter(function(e){return!n.includes(e.object)});if(!a.size)return;return function(e){a.forEach(function(t){e.removeNodeByKey(t.key,{normalize:false})})}}},{validateNode:function e(t){if("inline"!=t.object)return;var r=t.nodes.filter(function(e){return"inline"!=e.object&&"text"!=e.object});if(!r.size)return;return function(e){r.forEach(function(t){e.removeNodeByKey(t.key,{normalize:false})})}}},{validateNode:function e(t){if("block"!=t.object&&"inline"!=t.object)return;if(t.nodes.size>0)return;return function(e){var r=fe.create();e.insertNodeByKey(t.key,0,r,{normalize:false})}}},{validateNode:function e(t){if("inline"!=t.object&&"block"!=t.object)return;var r=t.nodes.filter(function(e){return"inline"===e.object&&e.isEmpty});if(!r.size)return;return function(e){if(t.nodes.size==r.size){var n=fe.create();e.insertNodeByKey(t.key,1,n,{normalize:false})}r.forEach(function(t){e.removeNodeByKey(t.key,{normalize:false})})}}},{validateNode:function e(t){if("block"!=t.object&&"inline"!=t.object)return;var r=t.nodes.reduce(function(e,r,n){if("inline"!==r.object)return e;var a=n>0?t.nodes.get(n-1):null;var o=t.nodes.get(n+1);var i=!a;var s=!o||"inline"==o.object;(s||i)&&(e=e.push({insertAfter:s,insertBefore:i,index:n}));return e},new o["List"]);if(!r.size)return;return function(e){var n=0;r.forEach(function(r){var a=r.index,o=r.insertAfter,i=r.insertBefore;if(i){e.insertNodeByKey(t.key,n+a,fe.create(),{normalize:false});n++}if(o){e.insertNodeByKey(t.key,n+a+1,fe.create(),{normalize:false});n++}})}}},{validateNode:function e(t){if("block"!=t.object&&"inline"!=t.object)return;var r=t.nodes.map(function(e,r){var n=t.nodes.get(r+1);if("text"!=e.object)return;if(!n||"text"!=n.object)return;return n}).filter(Boolean);if(!r.size)return;return function(e){r.reverse().forEach(function(t){e.mergeNodeByKey(t.key,{normalize:false})})}}},{validateNode:function e(t){if("block"!=t.object&&"inline"!=t.object)return;var r=t.nodes;if(r.size<=1)return;var n=r.filter(function(e,t){if("text"!=e.object)return;if(e.text.length>0)return;var n=t>0?r.get(t-1):null;var a=r.get(t+1);if(!n&&"inline"==a.object)return;if(!a&&"inline"==n.object)return;if(a&&n&&"inline"==a.object&&"inline"==n.object)return;return true});if(!n.size)return;return function(e){n.forEach(function(t){e.removeNodeByKey(t.key,{normalize:false})})}}}];var qe={plugins:[]};var We=function(e){x(t,e);function t(){T(this,t);return P(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}S(t,[{key:"getPluginsWith",value:function e(t){return this.plugins.filter(function(e){return null!=e[t]})}},{key:"find",value:function e(t){var r=this.getPluginsWith(t);for(var n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];var i=true;var s=false;var u=void 0;try{for(var c=r[Symbol.iterator](),l;!(i=(l=c.next()).done);i=true){var f=l.value;var d=f[t].apply(f,a);if(null!=d)return d}}catch(e){s=true;u=e}finally{try{!i&&c.return&&c.return()}finally{if(s)throw u}}}},{key:"map",value:function e(t){var r=this.getPluginsWith(t);var n=[];for(var a=arguments.length,o=Array(a>1?a-1:0),i=1;i<a;i++)o[i-1]=arguments[i];var s=true;var u=false;var c=void 0;try{for(var l=r[Symbol.iterator](),f;!(s=(f=l.next()).done);s=true){var d=f.value;var v=d[t].apply(d,o);null!=v&&n.push(v)}}catch(e){u=true;c=e}finally{try{!s&&l.return&&l.return()}finally{if(u)throw c}}return n}},{key:"run",value:function e(t){var r=this.getPluginsWith(t);for(var n=arguments.length,a=Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];var i=true;var s=false;var u=void 0;try{for(var c=r[Symbol.iterator](),l;!(i=(l=c.next()).done);i=true){var f=l.value;var d=f[t].apply(f,a);if(null!=d)return}}catch(e){s=true;u=e}finally{try{!i&&c.return&&c.return()}finally{if(s)throw u}}}},{key:"render",value:function e(t,r){var n=this.getPluginsWith(t).slice().reverse();var a=r.children,o=void 0===a?null:a;for(var i=arguments.length,s=Array(i>2?i-2:0),u=2;u<i;u++)s[u-2]=arguments[u];var c=true;var l=false;var f=void 0;try{for(var d=n[Symbol.iterator](),v;!(c=(v=d.next()).done);c=true){var h=v.value;var p=h[t].apply(h,[r].concat(s));if(null==p)continue;r.children=o=p}}catch(e){l=true;f=e}finally{try{!c&&d.return&&d.return()}finally{if(l)throw f}}return o}},{key:"object",get:function e(){return"stack"}},{key:"kind",get:function e(){s["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");return this.object}}],[{key:"create",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var n=r.plugins,a=void 0===n?[]:n;var o=new t({plugins:a});return o}},{key:"isStack",value:function e(t){return!!(t&&t[D.STACK])}}]);return t}(Object(o["Record"])(qe));We.prototype[D.STACK]=true;z(We.prototype,["getPluginsWith"]);var Ge=v()("slate:schema");var Ye={stack:We.create(),document:{},blocks:{},inlines:{}};var Xe=function(e){x(t,e);function t(){T(this,t);return P(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}S(t,[{key:"getRule",value:function e(t){switch(t.object){case"document":return this.document;case"block":return this.blocks[t.type];case"inline":return this.inlines[t.type]}}},{key:"getParentRules",value:function e(){var t=this.blocks,r=this.inlines;var n={};for(var a in t){var o=t[a];if(null==o.parent)continue;n[a]=o}for(var i in r){var s=r[i];if(null==s.parent)continue;n[i]=s}return 0==Object.keys(n).length?null:n}},{key:"fail",value:function e(t,r){var n=this;return function(e){Ge("normalizing",{violation:t,context:r});var a=r.rule;var o=e.operations.size;a.normalize&&a.normalize(e,t,r);if(e.operations.size>o)return;n.normalize(e,t,r)}}},{key:"normalize",value:function e(t,r,n){switch(r){case m["CHILD_OBJECT_INVALID"]:case m["CHILD_TYPE_INVALID"]:case m["CHILD_UNKNOWN"]:case m["FIRST_CHILD_OBJECT_INVALID"]:case m["FIRST_CHILD_TYPE_INVALID"]:case m["LAST_CHILD_OBJECT_INVALID"]:case m["LAST_CHILD_TYPE_INVALID"]:var a=n.child,o=n.node;return"text"==a.object&&"block"==o.object&&1==o.nodes.size?t.removeNodeByKey(o.key):t.removeNodeByKey(a.key);case m["CHILD_REQUIRED"]:case m["NODE_TEXT_INVALID"]:case m["PARENT_INVALID"]:var i=n.node;return"document"==i.object?i.nodes.forEach(function(e){return t.removeNodeByKey(e.key)}):t.removeNodeByKey(i.key);case m["NODE_DATA_INVALID"]:var s=n.node,u=n.key;return void 0===s.data.get(u)&&"document"!=s.object?t.removeNodeByKey(s.key):t.setNodeByKey(s.key,{data:s.data.delete(u)});case m["NODE_IS_VOID_INVALID"]:var c=n.node;return t.setNodeByKey(c.key,{isVoid:!c.isVoid});case m["NODE_MARK_INVALID"]:var l=n.node,f=n.mark;return l.getTexts().forEach(function(e){return t.removeMarkByKey(e.key,0,e.text.length,f)})}}},{key:"validateNode",value:function e(t){var r=this;var n=this.stack.find("validateNode",t);if(n)return n;if("text"==t.object)return;var a=this.getRule(t)||{};var o=this.getParentRules();var i={node:t,rule:a};if(null!=a.isVoid&&t.isVoid!=a.isVoid)return this.fail(m["NODE_IS_VOID_INVALID"],i);if(null!=a.data)for(var s in a.data){var u=a.data[s];var c=t.data.get(s);if(!u(c))return this.fail(m["NODE_DATA_INVALID"],_({},i,{key:s,value:c}))}if(null!=a.marks){var l=t.getMarks().toArray();var f=function e(t){if(!a.marks.some(function(e){return e.type===t.type}))return{v:r.fail(m["NODE_MARK_INVALID"],_({},i,{mark:t}))}};var d=true;var v=false;var h=void 0;try{for(var p=l[Symbol.iterator](),y;!(d=(y=p.next()).done);d=true){var g=y.value;var k=f(g);if("object"===("undefined"===typeof k?"undefined":w(k)))return k.v}}catch(e){v=true;h=e}finally{try{!d&&p.return&&p.return()}finally{if(v)throw h}}}if(null!=a.text){var b=t.text;if(!a.text.test(b))return this.fail(m["NODE_TEXT_INVALID"],_({},i,{text:b}))}if(null!=a.first){var O=a.first,E=O.objects,A=O.types;var C=t.nodes.first();if(C&&E&&!E.includes(C.object))return this.fail(m["FIRST_CHILD_OBJECT_INVALID"],_({},i,{child:C}));if(C&&A&&!A.includes(C.type))return this.fail(m["FIRST_CHILD_TYPE_INVALID"],_({},i,{child:C}))}if(null!=a.last){var T=a.last,S=T.objects,x=T.types;var N=t.nodes.last();if(N&&S&&!S.includes(N.object))return this.fail(m["LAST_CHILD_OBJECT_INVALID"],_({},i,{child:N}));if(N&&x&&!x.includes(N.type))return this.fail(m["LAST_CHILD_TYPE_INVALID"],_({},i,{child:N}))}if(null!=a.nodes||null!=o){var P=function e(){j=null==j?null:0;L=D.shift();I=L&&(null==L.min?0:L.min);F=L&&(null==L.max?Infinity:L.max);return!!L};var B=function e(){K=null==K?0:K+1;j=null==j?0:j+1;z=R[K];null!=F&&j==F&&P();return!!z};var M=function e(){j-=1;K-=1};var R=t.nodes.toArray();var D=null!=a.nodes?a.nodes.slice():[];var j=void 0;var I=void 0;var K=void 0;var L=void 0;var F=void 0;var z=void 0;null!=a.nodes&&P();while(B()){if(null!=o&&"text"!=z.object&&z.type in o){var H=o[z.type];var V=null!=H.parent.objects;var U=null!=H.parent.types;var J=V&&H.parent.objects.includes(t.object);var q=U&&H.parent.types.includes(t.type);var W=!V&&!U||J||q;if(!W)return this.fail(m["PARENT_INVALID"],{node:z,parent:t,rule:H})}if(null!=a.nodes){if(!L)return this.fail(m["CHILD_UNKNOWN"],_({},i,{child:z,index:K}));if(null!=L.objects&&!L.objects.includes(z.object)){if(j>=I&&P()){M();continue}return this.fail(m["CHILD_OBJECT_INVALID"],_({},i,{child:z,index:K}))}if(null!=L.types&&!L.types.includes(z.type)){if(j>=I&&P()){M();continue}return this.fail(m["CHILD_TYPE_INVALID"],_({},i,{child:z,index:K}))}}}if(null!=a.nodes)while(null!=I){if(j<I)return this.fail(m["CHILD_REQUIRED"],_({},i,{index:K}));P()}}}},{key:"toJSON",value:function e(){var t={object:this.object,document:this.document,blocks:this.blocks,inlines:this.inlines};return t}},{key:"toJS",value:function e(){return this.toJSON()}},{key:"object",get:function e(){return"schema"}},{key:"kind",get:function e(){s["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");return this.object}}],[{key:"create",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isSchema(r))return r;if(a()(r))return t.fromJSON(r);throw new Error("`Schema.create` only accepts objects or schemas, but you passed it: "+r)}},{key:"fromJSON",value:function e(r){if(t.isSchema(r))return r;var n=r.plugins;if(r.rules)throw new Error("Schemas in Slate have changed! They are no longer accept a `rules` property.");if(r.nodes)throw new Error("Schemas in Slate have changed! They are no longer accept a `nodes` property.");n||(n=[{schema:r}]);var a=Qe(n);var o=We.create({plugins:[].concat(M(Je),M(n))});var i=new t(_({},a,{stack:o}));return i}},{key:"isSchema",value:function e(t){return!!(t&&t[D.SCHEMA])}}]);return t}(Object(o["Record"])(Ye));Xe.fromJS=Xe.fromJSON;function Qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];var t={document:{},blocks:{},inlines:{}};e.slice().reverse().forEach(function(e){if(!e.schema)return;if(e.schema.rules)throw new Error("Schemas in Slate have changed! They are no longer accept a `rules` property.");if(e.schema.nodes)throw new Error("Schemas in Slate have changed! They are no longer accept a `nodes` property.");var r=e.schema,n=r.document,a=void 0===n?{}:n,o=r.blocks,i=void 0===o?{}:o,s=r.inlines,u=void 0===s?{}:s;var c=$e(a);var l={};var f={};for(var d in i)l[d]=Ze("block",d,i[d]);for(var v in u)f[v]=Ze("inline",v,u[v]);g()(t.document,c,et);g()(t.blocks,l,et);g()(t.inlines,f,et)});return t}function $e(e){return _({data:{},nodes:null},e)}function Ze(e,t,r){return _({data:{},isVoid:null,nodes:null,first:null,last:null,parent:null,text:null},r)}function et(e,t,r){return"objects"==r||"types"==r?null==e?t:e.concat(t):null==t?e:t}Xe.prototype[D.SCHEMA]=true;z(Xe.prototype,["getParentRules"]);var tt={data:new o["Map"],decorations:null,document:ge.create(),history:He.create(),schema:Xe.create(),selection:Y.create()};var rt=function(e){x(t,e);function t(){T(this,t);return P(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}S(t,[{key:"change",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Ct(_({},t,{value:this}))}},{key:"toJSON",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r={object:this.object,document:this.document.toJSON(t)};t.preserveData&&(r.data=this.data.toJSON());t.preserveDecorations&&(r.decorations=this.decorations?this.decorations.toArray().map(function(e){return e.toJSON()}):null);t.preserveHistory&&(r.history=this.history.toJSON());t.preserveSelection&&(r.selection=this.selection.toJSON());t.preserveSchema&&(r.schema=this.schema.toJSON());if(t.preserveSelection&&!t.preserveKeys){var n=this.document,a=this.selection;r.selection.anchorPath=a.isSet?n.getPath(a.anchorKey):null;r.selection.focusPath=a.isSet?n.getPath(a.focusKey):null;delete r.selection.anchorKey;delete r.selection.focusKey}return r}},{key:"toJS",value:function e(t){return this.toJSON(t)}},{key:"object",get:function e(){return"value"}},{key:"kind",get:function e(){s["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");return this.object}},{key:"hasUndos",get:function e(){return this.history.undos.size>0}},{key:"hasRedos",get:function e(){return this.history.redos.size>0}},{key:"isBlurred",get:function e(){return this.selection.isBlurred}},{key:"isFocused",get:function e(){return this.selection.isFocused}},{key:"isCollapsed",get:function e(){return this.selection.isCollapsed}},{key:"isExpanded",get:function e(){return this.selection.isExpanded}},{key:"isBackward",get:function e(){return this.selection.isBackward}},{key:"isForward",get:function e(){return this.selection.isForward}},{key:"startKey",get:function e(){return this.selection.startKey}},{key:"endKey",get:function e(){return this.selection.endKey}},{key:"startOffset",get:function e(){return this.selection.startOffset}},{key:"endOffset",get:function e(){return this.selection.endOffset}},{key:"anchorKey",get:function e(){return this.selection.anchorKey}},{key:"focusKey",get:function e(){return this.selection.focusKey}},{key:"anchorOffset",get:function e(){return this.selection.anchorOffset}},{key:"focusOffset",get:function e(){return this.selection.focusOffset}},{key:"startBlock",get:function e(){return this.startKey&&this.document.getClosestBlock(this.startKey)}},{key:"endBlock",get:function e(){return this.endKey&&this.document.getClosestBlock(this.endKey)}},{key:"anchorBlock",get:function e(){return this.anchorKey&&this.document.getClosestBlock(this.anchorKey)}},{key:"focusBlock",get:function e(){return this.focusKey&&this.document.getClosestBlock(this.focusKey)}},{key:"startInline",get:function e(){return this.startKey&&this.document.getClosestInline(this.startKey)}},{key:"endInline",get:function e(){return this.endKey&&this.document.getClosestInline(this.endKey)}},{key:"anchorInline",get:function e(){return this.anchorKey&&this.document.getClosestInline(this.anchorKey)}},{key:"focusInline",get:function e(){return this.focusKey&&this.document.getClosestInline(this.focusKey)}},{key:"startText",get:function e(){return this.startKey&&this.document.getDescendant(this.startKey)}},{key:"endText",get:function e(){return this.endKey&&this.document.getDescendant(this.endKey)}},{key:"anchorText",get:function e(){return this.anchorKey&&this.document.getDescendant(this.anchorKey)}},{key:"focusText",get:function e(){return this.focusKey&&this.document.getDescendant(this.focusKey)}},{key:"nextBlock",get:function e(){return this.endKey&&this.document.getNextBlock(this.endKey)}},{key:"previousBlock",get:function e(){return this.startKey&&this.document.getPreviousBlock(this.startKey)}},{key:"nextInline",get:function e(){return this.endKey&&this.document.getNextInline(this.endKey)}},{key:"previousInline",get:function e(){return this.startKey&&this.document.getPreviousInline(this.startKey)}},{key:"nextText",get:function e(){return this.endKey&&this.document.getNextText(this.endKey)}},{key:"previousText",get:function e(){return this.startKey&&this.document.getPreviousText(this.startKey)}},{key:"characters",get:function e(){return this.selection.isUnset?new o["List"]:this.document.getCharactersAtRange(this.selection)}},{key:"marks",get:function e(){return this.selection.isUnset?new o["Set"]:this.selection.marks||this.document.getMarksAtRange(this.selection)}},{key:"activeMarks",get:function e(){return this.selection.isUnset?new o["Set"]:this.selection.marks||this.document.getActiveMarksAtRange(this.selection)}},{key:"blocks",get:function e(){return this.selection.isUnset?new o["List"]:this.document.getBlocksAtRange(this.selection)}},{key:"fragment",get:function e(){return this.selection.isUnset?ge.create():this.document.getFragmentAtRange(this.selection)}},{key:"inlines",get:function e(){return this.selection.isUnset?new o["List"]:this.document.getInlinesAtRange(this.selection)}},{key:"texts",get:function e(){return this.selection.isUnset?new o["List"]:this.document.getTextsAtRange(this.selection)}},{key:"isEmpty",get:function e(){if(this.isCollapsed)return true;if(0!=this.endOffset&&0!=this.startOffset)return false;return this.fragment.isEmpty}},{key:"isInVoid",get:function e(){if(this.isExpanded)return false;return this.document.hasVoidParent(this.startKey)}}],[{key:"create",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.isValue(r))return r;if(a()(r))return t.fromJSON(r,n);throw new Error("`Value.create` only accepts objects or values, but you passed it: "+r)}},{key:"createProperties",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isValue(r))return{data:r.data,decorations:r.decorations,schema:r.schema};if(a()(r)){var n={};"data"in r&&(n.data=R.create(r.data));"decorations"in r&&(n.decorations=Y.createList(r.decorations));"schema"in r&&(n.schema=Xe.create(r.schema));return n}throw new Error("`Value.createProperties` only accepts objects or values, but you passed it: "+r)}},{key:"fromJSON",value:function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var a=r.document,i=void 0===a?{}:a,s=r.selection,u=void 0===s?{}:s,c=r.schema,l=void 0===c?{}:c;var f=new o["Map"];i=ge.fromJSON(i);u=Y.fromJSON(u);l=Xe.fromJSON(l);if(n.plugins){var d=true;var v=false;var h=void 0;try{for(var p=n.plugins[Symbol.iterator](),y;!(d=(y=p.next()).done);d=true){var g=y.value;g.data&&(f=f.merge(g.data))}}catch(e){v=true;h=e}finally{try{!d&&p.return&&p.return()}finally{if(v)throw h}}}"data"in r&&(f=f.merge(r.data));if(u.isUnset){var m=i.getFirstText();m&&(u=u.collapseToStartOf(m))}var k=new t({data:f,document:i,selection:u,schema:l});false!==n.normalize&&(k=k.change({save:false}).normalize().value);return k}},{key:"isValue",value:function e(t){return!!(t&&t[D.VALUE])}}]);return t}(Object(o["Record"])(tt));rt.fromJS=rt.fromJSON;rt.prototype[D.VALUE]=true;var nt={length:void 0,mark:void 0,marks:void 0,newPath:void 0,node:void 0,offset:void 0,path:void 0,position:void 0,properties:void 0,selection:void 0,target:void 0,text:void 0,type:void 0,value:void 0};var at=function(e){x(t,e);function t(){T(this,t);return P(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}S(t,[{key:"toJSON",value:function e(){var t=this.object,r=this.type;var n={object:t,type:r};var a=Le[r];var o=true;var i=false;var s=void 0;try{for(var u=a[Symbol.iterator](),c;!(o=(c=u.next()).done);o=true){var l=c.value;var f=this[l];if("document"==l)continue;if("selection"==l)continue;if("value"==l)continue;if("node"==l&&"insert_node"!=r)continue;"mark"!=l&&"marks"!=l&&"node"!=l||(f=f.toJSON());if("properties"==l&&"merge_node"==r){var d={};"data"in f&&(d.data=f.data.toJS());"type"in f&&(d.type=f.type);f=d}if("properties"==l&&"set_mark"==r){var v={};"data"in f&&(v.data=f.data.toJS());"type"in f&&(v.type=f.type);f=v}if("properties"==l&&"set_node"==r){var h={};"data"in f&&(h.data=f.data.toJS());"isVoid"in f&&(h.isVoid=f.isVoid);"type"in f&&(h.type=f.type);f=h}if("properties"==l&&"set_selection"==r){var p={};"anchorOffset"in f&&(p.anchorOffset=f.anchorOffset);"anchorPath"in f&&(p.anchorPath=f.anchorPath);"focusOffset"in f&&(p.focusOffset=f.focusOffset);"focusPath"in f&&(p.focusPath=f.focusPath);"isBackward"in f&&(p.isBackward=f.isBackward);"isFocused"in f&&(p.isFocused=f.isFocused);"marks"in f&&(p.marks=null==f.marks?null:f.marks.toJSON());f=p}if("properties"==l&&"set_value"==r){var y={};"data"in f&&(y.data=f.data.toJS());"decorations"in f&&(y.decorations=f.decorations.toJS());"schema"in f&&(y.schema=f.schema.toJS());f=y}if("properties"==l&&"split_node"==r){var g={};"data"in f&&(g.data=f.data.toJS());"type"in f&&(g.type=f.type);f=g}n[l]=f}}catch(e){i=true;s=e}finally{try{!o&&u.return&&u.return()}finally{if(i)throw s}}return n}},{key:"toJS",value:function e(t){return this.toJSON(t)}},{key:"object",get:function e(){return"operation"}},{key:"kind",get:function e(){s["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");return this.object}}],[{key:"create",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isOperation(r))return r;if(a()(r))return t.fromJSON(r);throw new Error("`Operation.create` only accepts objects or operations, but you passed it: "+r)}},{key:"createList",value:function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(o["List"].isList(r)||Array.isArray(r)){var n=new o["List"](r.map(t.create));return n}throw new Error("`Operation.createList` only accepts arrays or lists, but you passed it: "+r)}},{key:"fromJSON",value:function e(r){if(t.isOperation(r))return r;var n=r.type,a=r.value;var o=Le[n];var i={type:n};if(!o)throw new Error('`Operation.fromJSON` was passed an unrecognized operation type: "'+n+'"');var s=true;var u=false;var c=void 0;try{for(var l=o[Symbol.iterator](),f;!(s=(f=l.next()).done);s=true){var d=f.value;var v=r[d];if(void 0===v){if("document"==d)continue;if("selection"==d)continue;if("value"==d)continue;if("node"==d&&"insert_node"!=n)continue;throw new Error('`Operation.fromJSON` was passed a "'+n+'" operation without the required "'+d+'" attribute.')}"mark"==d&&(v=W.create(v));"marks"==d&&null!=v&&(v=W.createSet(v));"node"==d&&(v=de.create(v));"selection"==d&&(v=Y.create(v));"value"==d&&(v=rt.create(v));"properties"==d&&"merge_node"==n&&(v=de.createProperties(v));"properties"==d&&"set_mark"==n&&(v=W.createProperties(v));"properties"==d&&"set_node"==n&&(v=de.createProperties(v));if("properties"==d&&"set_selection"==n){var h=v,p=h.anchorKey,y=h.focusKey,g=N(h,["anchorKey","focusKey"]);v=Y.createProperties(g);void 0!==p&&(v.anchorPath=null===p?null:a.document.getPath(p));void 0!==y&&(v.focusPath=null===y?null:a.document.getPath(y))}"properties"==d&&"set_value"==n&&(v=rt.createProperties(v));"properties"==d&&"split_node"==n&&(v=de.createProperties(v));i[d]=v}}catch(e){u=true;c=e}finally{try{!s&&l.return&&l.return()}finally{if(u)throw c}}var m=new t(i);return m}},{key:"isOperation",value:function e(t){return!!(t&&t[D.OPERATION])}},{key:"isOperationList",value:function e(r){return o["List"].isList(r)&&r.every(function(e){return t.isOperation(e)})}}]);return t}(Object(o["Record"])(nt));at.fromJS=at.fromJSON;at.prototype[D.OPERATION]=true;var ot=v()("slate:operation:invert");function it(e){e=at.create(e);var t=e,r=t.type;ot(r,e);if("insert_node"==r){var n=e.set("type","remove_node");return n}if("remove_node"==r){var a=e.set("type","insert_node");return a}if("move_node"==r){var o=e,i=o.newPath,s=o.path;var u=i;var c=s;var l=s.length-1;var f=i.length-1;s.length<u.length&&s.slice(0,l).every(function(e,t){return e==u[t]})&&s[l]<u[l]&&(u=u.slice(0,l).concat([u[l]-1]).concat(u.slice(l+1,u.length)));i.length<c.length&&i.slice(0,f).every(function(e,t){return e==c[t]})&&i[f]<=c[f]&&(c=c.slice(0,f).concat([c[f]+1]).concat(c.slice(f+1,c.length)));var d=e.set("path",u).set("newPath",c);return d}if("merge_node"==r){var v=e,h=v.path;var p=h.length;var y=p-1;var g=h.slice(0,y).concat([h[y]-1]);var m=e.set("type","split_node").set("path",g);return m}if("split_node"==r){var k=e,O=k.path;var E=O.length;var A=E-1;var C=O.slice(0,A).concat([O[A]+1]);var w=e.set("type","merge_node").set("path",C);return w}if("set_node"==r){var T=e,S=T.properties,_=T.node;var x=_.merge(S);var P=b()(_,Object.keys(S));var B=e.set("node",x).set("properties",P);return B}if("insert_text"==r){var M=e.set("type","remove_text");return M}if("remove_text"==r){var R=e.set("type","insert_text");return R}if("add_mark"==r){var D=e.set("type","remove_mark");return D}if("remove_mark"==r){var j=e.set("type","add_mark");return j}if("set_mark"==r){var I=e,K=I.properties,L=I.mark;var F=L.merge(K);var z=b()(L,Object.keys(K));var H=e.set("mark",F).set("properties",z);return H}if("set_selection"==r){var V=e,U=V.properties,J=V.selection,q=V.value;var W=U.anchorPath,G=U.focusPath,Y=N(U,["anchorPath","focusPath"]);var X=q.document;void 0!==W&&(Y.anchorKey=null===W?null:X.assertPath(W).key);void 0!==G&&(Y.focusKey=null===G?null:X.assertPath(G).key);var Q=J.merge(Y);var $=b()(J,Object.keys(Y));if(void 0!==W){$.anchorPath=null===$.anchorKey?null:X.getPath($.anchorKey);delete $.anchorKey}if(void 0!==G){$.focusPath=null===$.focusKey?null:X.getPath($.focusKey);delete $.focusKey}var Z=e.set("selection",Q).set("properties",$);return Z}if("set_value"==r){var ee=e,te=ee.properties,re=ee.value;var ne=re.merge(te);var ae=b()(re,Object.keys(te));var oe=e.set("value",ne).set("properties",ae);return oe}}var st={};st.redo=function(e){var t=e.value;var r=t,n=r.history;if(!n)return;var a=n,o=a.undos,i=a.redos;var s=i.peek();if(!s)return;i=i.pop();o=o.push(s);s.forEach(function(t){var r=t,n=r.type,a=r.properties;"set_selection"==n&&(t=t.set("properties",E()(a,"isFocused")));e.applyOperation(t,{save:false})});t=e.value;n=n.set("undos",o).set("redos",i);t=t.set("history",n);e.value=t};st.undo=function(e){var t=e.value;var r=t,n=r.history;if(!n)return;var a=n,o=a.undos,i=a.redos;var s=o.peek();if(!s)return;o=o.pop();i=i.push(s);s.slice().reverse().map(it).forEach(function(t){var r=t,n=r.type,a=r.properties;"set_selection"==n&&(t=t.set("properties",E()(a,"isFocused")));e.applyOperation(t,{save:false})});t=e.value;n=n.set("undos",o).set("redos",i);t=t.set("history",n);e.value=t};var ut={};ut.select=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=Y.createProperties(t);var n=r.snapshot,a=void 0!==n&&n;var o=e.value;var i=o.document,s=o.selection;var u={};var c=s.toJSON();var l=s.merge(t).normalize(i);t=b()(l,Object.keys(t));for(var f in t){if(false==a&&t[f]==c[f])continue;u[f]=t[f]}var d=["anchorKey","anchorOffset","focusKey","focusOffset"].some(function(e){return u.hasOwnProperty(e)});c.marks&&t.marks==c.marks&&d&&(u.marks=null);if(C()(u))return;e.applyOperation({type:"set_selection",value:o,properties:u,selection:c},a?{skip:false,merge:false}:{})};ut.selectAll=function(e){var t=e.value;var r=t.document,n=t.selection;var a=n.moveToRangeOf(r);e.select(a)};ut.snapshotSelection=function(e){var t=e.value;var r=t.selection;e.select(r,{snapshot:true})};ut.moveAnchorCharBackward=function(e){var t=e.value;var r=t.document,n=t.selection,a=t.anchorText,o=t.anchorBlock;var i=n.anchorOffset;var s=r.getPreviousText(a.key);var u=r.hasVoidParent(a.key);var c=s&&r.hasVoidParent(s.key);if(!u&&i>0){e.moveAnchor(-1);return}if(!s)return;e.moveAnchorToEndOf(s);u||c||!o.hasNode(s.key)||e.moveAnchor(-1)};ut.moveAnchorCharForward=function(e){var t=e.value;var r=t.document,n=t.selection,a=t.anchorText,o=t.anchorBlock;var i=n.anchorOffset;var s=r.getNextText(a.key);var u=r.hasVoidParent(a.key);var c=s&&r.hasVoidParent(s.key);if(!u&&i<a.text.length){e.moveAnchor(1);return}if(!s)return;e.moveAnchorToStartOf(s);u||c||!o.hasNode(s.key)||e.moveAnchor(1)};ut.moveFocusCharBackward=function(e){var t=e.value;var r=t.document,n=t.selection,a=t.focusText,o=t.focusBlock;var i=n.focusOffset;var s=r.getPreviousText(a.key);var u=r.hasVoidParent(a.key);var c=s&&r.hasVoidParent(s.key);if(!u&&i>0){e.moveFocus(-1);return}if(!s)return;e.moveFocusToEndOf(s);u||c||!o.hasNode(s.key)||e.moveFocus(-1)};ut.moveFocusCharForward=function(e){var t=e.value;var r=t.document,n=t.selection,a=t.focusText,o=t.focusBlock;var i=n.focusOffset;var s=r.getNextText(a.key);var u=r.hasVoidParent(a.key);var c=s&&r.hasVoidParent(s.key);if(!u&&i<a.text.length){e.moveFocus(1);return}if(!s)return;e.moveFocusToStartOf(s);u||c||!o.hasNode(s.key)||e.moveFocus(1)};var ct=["Forward","Backward"];ct.forEach(function(e){var t="moveAnchorChar"+e;var r="moveFocusChar"+e;ut["moveChar"+e]=function(e){e[t]()[r]()};ut["moveStartChar"+e]=function(e){e.value.isBackward?e[r]():e[t]()};ut["moveEndChar"+e]=function(e){e.value.isBackward?e[t]():e[r]()};ut["extendChar"+e]=function(t){t["moveFocusChar"+e]()};ut["collapseChar"+e]=function(t){var r="Forward"==e?"collapseToEnd":"collapseToStart";t[r]()["moveChar"+e]()}});var lt=[["collapseLineBackward","collapseToStartOfBlock"],["collapseLineForward","collapseToEndOfBlock"],["extendLineBackward","extendToStartOfBlock"],["extendLineForward","extendToEndOfBlock"]];lt.forEach(function(e){var t=B(e,2),r=t[0],n=t[1];ut[r]=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];e[n].apply(e,[e].concat(r))}});var ft=["blur","collapseTo","collapseToAnchor","collapseToEnd","collapseToEndOf","collapseToFocus","collapseToStart","collapseToStartOf","extend","extendTo","extendToEndOf","extendToStartOf","flip","focus","move","moveAnchor","moveAnchorOffsetTo","moveAnchorTo","moveAnchorToEndOf","moveAnchorToStartOf","moveEnd","moveEndOffsetTo","moveEndTo","moveFocus","moveFocusOffsetTo","moveFocusTo","moveFocusToEndOf","moveFocusToStartOf","moveOffsetsTo","moveStart","moveStartOffsetTo","moveStartTo","moveTo","moveToEnd","moveToEndOf","moveToRangeOf","moveToStart","moveToStartOf","deselect"];ft.forEach(function(e){ut[e]=function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var o="deselect"!=e;var i=t.value;var s=i.document,u=i.selection;var c=u[e].apply(u,n);o&&(c=c.normalize(s));t.select(c)}});var dt=["moveTo","moveAnchorTo","moveFocusTo","moveStartTo","moveEndTo","collapseTo","extendTo"];var vt=["Next","Previous"];var ht=["Block","Inline","Text"];dt.forEach(function(e){var t=["Start","End"];"moveTo"==e&&t.push("Range");t.forEach(function(t){var r=""+e+t+"Of";ht.forEach(function(e){var t="Text"==e?"getNode":"getClosest"+e;ut[""+r+e]=function(e){var n=e.value;var a=n.document,o=n.selection;var i=a[t](o.startKey);if(!i)return;e[r](i)};vt.forEach(function(n){var a="get"+n+e;var o="Next"==n?"startKey":"endKey";ut[""+r+n+e]=function(e){var n=e.value;var i=n.document,s=n.selection;var u=i[t](s[o]);if(!u)return;var c=i[a](u.key);if(!c)return;e[r](c)}})})})});var pt={};pt.setValue=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=rt.createProperties(t);var n=e.value;e.applyOperation({type:"set_value",properties:t,value:n},r)};var yt={};yt.normalize=function(e){e.normalizeDocument()};yt.normalizeDocument=function(e){var t=e.value;var r=t.document;e.normalizeNodeByKey(r.key)};yt.normalizeNodeByKey=function(e,t){var r=e.value;var n=r.document,a=r.schema;var o=n.assertNode(t);gt(e,o,a);n=e.value.document;var i=n.getAncestors(t);if(!i)return;i.forEach(function(t){e.value.document.getDescendant(t.key)&&mt(e,t,a)})};function gt(e,t,r){if("text"==t.object){mt(e,t,r);return}var n=t.getFirstInvalidDescendant(r);var a=e.value.document.getPath(t.key);while(t&&n){gt(e,n,r);t=e.value.document.refindNode(a,t.key);if(t){a=e.value.document.refindPath(a,t.key);n=t.getFirstInvalidDescendant(r)}else{a=[];n=null}}t&&mt(e,t,r)}function mt(e,t,r){var n=r.stack.plugins.length+1;var a=0;function o(e,t){var i=t.validate(r);if(!i)return;var s=e.value.document.getPath(t.key);i(e);t=e.value.document.refindNode(s,t.key);if(!t)return;s=e.value.document.refindPath(s,t.key);a++;if(a>n)throw new Error("A schema rule could not be validated after sufficient iterations. This is usually due to a `rule.validate` or `rule.normalize` function of a schema being incorrectly written, causing an infinite loop.");o(e,t)}o(e,t)}var kt=_({},be,Ie,Ke,st,ut,pt,yt);var bt=v()("slate:operation:apply");var Ot={add_mark:function e(t,r){var n=r.path,a=r.offset,o=r.length,i=r.mark;var s=t,u=s.document;var c=u.assertPath(n);c=c.addMark(a,o,i);u=u.updateNode(c,false);t=t.set("document",u);return t},insert_node:function e(t,r){var n=r.path,a=r.node;var o=t,i=o.document;i=i.insertNode(n,a);t=t.set("document",i);return t},insert_text:function e(t,r){var n=r.path,a=r.offset,o=r.text,i=r.marks;var s=t,u=s.document,c=s.selection;var l=c,f=l.anchorKey,d=l.focusKey,v=l.anchorOffset,h=l.focusOffset;var p=u.assertPath(n);p=p.insertText(a,o,i);u=u.updateNode(p,false);f==p.key&&v>=a&&(c=c.moveAnchor(o.length));d==p.key&&h>=a&&(c=c.moveFocus(o.length));t=t.set("document",u).set("selection",c);return t},merge_node:function e(t,r){var n=r.path;var a=n.slice(0,n.length-1).concat([n[n.length-1]-1]);var o=t,i=o.document,s=o.selection;var u=i.assertPath(a);var c=i.assertPath(n);i=i.mergeNode(a,n);if("text"==u.object){var l=s,f=l.anchorKey,d=l.anchorOffset,v=l.focusKey,h=l.focusOffset;var p=false;if(f==c.key){s=s.moveAnchorTo(u.key,u.text.length+d);p=true}if(v==c.key){s=s.moveFocusTo(u.key,u.text.length+h);p=true}p&&(s=s.normalize(i))}t=t.set("document",i).set("selection",s);return t},move_node:function e(t,r){var n=r.path,a=r.newPath;var o=a[a.length-1];var i=a.slice(0,-1);var s=n.slice(0,-1);var u=n[n.length-1];var c=t,l=c.document;var f=l.assertPath(n);l=l.removeNode(n);s.every(function(e,t){return e===i[t]})&&u<i[s.length]&&i[s.length]--;l=l.insertNode([].concat(M(i),[o]),f);t=t.set("document",l);return t},remove_mark:function e(t,r){var n=r.path,a=r.offset,o=r.length,i=r.mark;var s=t,u=s.document;var c=u.assertPath(n);c=c.removeMark(a,o,i);u=u.updateNode(c,false);t=t.set("document",u);return t},remove_node:function e(t,r){var n=r.path;var a=t,o=a.document,i=a.selection;var s=i,u=s.startKey,c=s.endKey;var l=o.assertPath(n);if(i.isSet){var f=l.hasNode(u);var d=l.hasNode(c);var v="text"==l.object?l:l.getFirstText()||l;var h="text"==l.object?l:l.getLastText()||l;var p=o.getPreviousText(v.key);var y=o.getNextText(h.key);f&&(i=p?i.moveStartTo(p.key,p.text.length):y?i.moveStartTo(y.key,0):i.deselect());i.isSet&&d&&(i=p?i.moveEndTo(p.key,p.text.length):y?i.moveEndTo(y.key,0):i.deselect());i.isSet&&(i=i.normalize(o))}o=o.removeNode(n);t=t.set("document",o).set("selection",i);return t},remove_text:function e(t,r){var n=r.path,a=r.offset,o=r.text;var i=o.length;var s=a+i;var u=t,c=u.document,l=u.selection;var f=l,d=f.anchorKey,v=f.focusKey,h=f.anchorOffset,p=f.focusOffset;var y=c.assertPath(n);d==y.key&&(h>=s?l=l.moveAnchor(-i):h>a&&(l=l.moveAnchorTo(d,a)));v==y.key&&(p>=s?l=l.moveFocus(-i):p>a&&(l=l.moveFocusTo(v,a)));y=y.removeText(a,i);c=c.updateNode(y,false);t=t.set("document",c).set("selection",l);return t},set_mark:function e(t,r){var n=r.path,a=r.offset,o=r.length,i=r.mark,s=r.properties;var u=t,c=u.document;var l=c.assertPath(n);l=l.updateMark(a,o,i,s);c=c.updateNode(l,false);t=t.set("document",c);return t},set_node:function e(t,r){var n=r.path,a=r.properties;var o=t,i=o.document;var s=i.assertPath(n);s=s.merge(a);i=i.updateNode(s,false);t=t.set("document",i);return t},set_selection:function e(t,r){var n=r.properties;var a=n.anchorPath,o=n.focusPath,i=N(n,["anchorPath","focusPath"]);var s=t,u=s.document,c=s.selection;void 0!==a&&(i.anchorKey=null===a?null:u.assertPath(a).key);void 0!==o&&(i.focusKey=null===o?null:u.assertPath(o).key);c=c.merge(i);c=c.normalize(u);t=t.set("selection",c);return t},set_value:function e(t,r){var n=r.properties;t=t.merge(n);return t},split_node:function e(t,r){var n=r.path,a=r.position,o=r.properties;var i=t,s=i.document,u=i.selection;var c=s.assertPath(n);s=s.splitNode(n,a);if(o){var l=s.getNextSibling(c.key);"text"!==l.object&&(s=s.updateNode(l.merge(o),false))}var f=u,d=f.startKey,v=f.endKey,h=f.startOffset,p=f.endOffset;var y=s.getNextText(c.key);var g=false;if(c.key==d&&a<=h){u=u.moveStartTo(y.key,h-a);g=true}if(c.key==v&&a<=p){u=u.moveEndTo(y.key,p-a);g=true}g&&(u=u.normalize(s));t=t.set("document",s).set("selection",u);return t}};function Et(e,t){t=at.create(t);var r=t,n=r.type;var a=Ot[n];if(!a)throw new Error('Unknown operation type: "'+n+'".');bt(n,t);e=a(e,t);return e}var At=v()("slate:change");var Ct=function(){S(e,null,[{key:"isChange",value:function e(t){return!!(t&&t[D.CHANGE])}}]);function e(t){T(this,e);var r=t.value;this.value=r;this.operations=new o["List"];this.flags=_({normalize:true},b()(t,["merge","save","normalize"]))}S(e,[{key:"applyOperation",value:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n=this.operations,o=this.flags;var i=this.value;var s=i,u=s.history;a()(t)&&(t=_({},t,{value:i}));t=at.create(t);r=_({},o,r);var c=r,l=c.merge,f=void 0===l?0!=n.size||null:l,d=c.save,v=void 0===d||d,h=c.skip,p=void 0===h?null:h;At("apply",{operation:t,save:v,merge:f});i=Et(i,t);if(u&&v){u=u.save(t,{merge:f,skip:p});i=i.set("history",u)}this.value=i;this.operations=n.push(t);return this}},{key:"applyOperations",value:function e(t,r){var n=this;t.forEach(function(e){return n.applyOperation(e,r)});return this}},{key:"call",value:function e(t){for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];t.apply(void 0,[this].concat(n));return this}},{key:"withoutNormalization",value:function e(t){var r=this.flags.normalize;this.setOperationFlag("normalize",false);try{t(this);this.normalizeDocument()}finally{this.setOperationFlag("normalize",r)}return this}},{key:"setOperationFlag",value:function e(t,r){this.flags[t]=r;return this}},{key:"getFlag",value:function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return void 0!==r[t]?r[t]:this.flags[t]}},{key:"unsetOperationFlag",value:function e(t){delete this.flags[t];return this}},{key:"object",get:function e(){return"change"}},{key:"kind",get:function e(){s["a"].deprecate("slate@0.32.0","The `kind` property of Slate objects has been renamed to `object`.");return this.object}}]);return e}();Ct.prototype[D.CHANGE]=true;Object.keys(kt).forEach(function(e){Ct.prototype[e]=function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];At(e,{args:r});this.call.apply(this,[kt[e]].concat(r));return this}});var wt={apply:Et,invert:it};var Tt={Block:ke,Changes:kt,Character:re,Data:R,Document:ge,History:He,Inline:pe,Leaf:ae,Mark:W,Node:de,Operation:at,Operations:wt,Range:Y,Schema:Xe,Stack:We,Text:fe,Value:rt,resetKeyGenerator:ce,setKeyGenerator:ue,resetMemoization:U,useMemoization:J};t["default"]=Tt},40:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});r.d(t,"Editor",function(){return Xe});r.d(t,"cloneFragment",function(){return xe});r.d(t,"findDOMNode",function(){return oe});r.d(t,"findDOMRange",function(){return se});r.d(t,"findNode",function(){return Ne});r.d(t,"findRange",function(){return ge});r.d(t,"getEventRange",function(){return Pe});r.d(t,"getEventTransfer",function(){return Ke});r.d(t,"setEventTransfer",function(){return Ve});r.d(t,"AfterPlugin",function(){return Je});r.d(t,"BeforePlugin",function(){return We});var n=r(1372);var a=r.n(n);var o=r(0);var i=r.n(o);var s=r(1374);var u=r.n(s);var c=r(1379);var l=r(1380);var f=r.n(l);var d=r(6);var v=r.n(d);var h=r(607);var p=r(4);var y=r(1381);var g=r.n(y);var m=r(1384);var k=r.n(m);var b=r(658);var O=r(1386);var E=r.n(O);var A=r(1396);var C=r(1398);var w=r(1399);var T=r(56);var S=r.n(T);var _=r(1406);var x=r.n(_);var N=["onBeforeInput","onBlur","onClick","onCompositionEnd","onCompositionStart","onCopy","onCut","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onInput","onFocus","onKeyDown","onKeyUp","onPaste","onSelect"];var P=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var B=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var M=function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true}):e[t]=r;return e};var R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var D=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)};var j=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t};var I=function(){function e(e,t){var r=[];var n=true;var a=false;var o=void 0;try{for(var i=e[Symbol.iterator](),s;!(n=(s=i.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){a=true;o=e}finally{try{!n&&i["return"]&&i["return"]()}finally{if(a)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var K=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)};var L=[].concat(K(N),["decorateNode","onChange","renderMark","renderNode","renderPlaceholder","renderPortal","schema","validateNode"]);var F=/^([\w-]+)(?::(\d+))?$/;function z(e){var t=F.exec(e);if(!t)throw new Error('Invalid offset key string "'+e+'".');var r=I(t,3),n=r[0],a=r[1],o=r[2];return{key:a,index:parseInt(o,10)}}function H(e){return e.key+":"+e.index}var V={parse:z,stringify:H};var U=a()("slate:leaves");var J=function(e){D(t,e);function t(){var e;var r,n,a;P(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return a=(r=(n=j(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n),q.call(n),r),j(n,a)}B(t,[{key:"shouldComponentUpdate",value:function e(t){if(t.index!=this.props.index||t.marks!=this.props.marks||t.text!=this.props.text||t.parent!=this.props.parent)return true;return false}},{key:"render",value:function e(){this.debug("render",this);var t=this.props,r=t.node,n=t.index;var a=V.stringify({key:r.key,index:n});return i.a.createElement("span",{"data-offset-key":a},this.renderMarks())}},{key:"renderMarks",value:function e(){var t=this.props,r=t.marks,n=t.node,a=t.offset,o=t.text,i=t.editor;var s=i.stack;var u=this.renderText();var c={"data-slate-leaf":true};return r.reduce(function(e,t){var u={editor:i,mark:t,marks:r,node:n,offset:a,text:o,children:e,attributes:c};var l=s.find("renderMark",u);return l||e},u)}},{key:"renderText",value:function e(){var t=this.props,r=t.block,n=t.node,a=t.parent,o=t.text,s=t.index,u=t.leaves;if(a.isVoid)return i.a.createElement("span",{"data-slate-zero-width":"z"},"​");if(""===o&&"block"===a.object&&""===a.text&&1===a.nodes.size)return i.a.createElement("span",{"data-slate-zero-width":"n"},"​");if(""===o)return i.a.createElement("span",{"data-slate-zero-width":"z"},"​");var c=r.getLastText();var l=o.charAt(o.length-1);var f=n===c;var d=s===u.size-1;if(f&&d&&"\n"===l)return o+"\n";return o}}]);return t}(i.a.Component);J.propTypes={block:c["a"].block.isRequired,editor:u.a.object.isRequired,index:u.a.number.isRequired,leaves:c["a"].leaves.isRequired,marks:c["a"].marks.isRequired,node:c["a"].node.isRequired,offset:u.a.number.isRequired,parent:c["a"].node.isRequired,text:u.a.string.isRequired};var q=function e(){var t=this;this.debug=function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];U.apply(void 0,[e,t.props.node.key+"-"+t.props.index].concat(n))}};var W=a()("slate:node");var G=function(e){D(t,e);function t(){var e;var r,n,a;P(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return a=(r=(n=j(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n),Y.call(n),r),j(n,a)}B(t,[{key:"render",value:function e(){var t=this;this.debug("render",this);var r=this.props,n=r.decorations,a=r.editor,o=r.node,s=r.style;var u=a.value;var c=u.document;var l=o.key;var f=n.filter(function(e){var t=e.startKey,r=e.endKey;if(t==l||r==l)return true;if(t===r)return false;var n=c.areDescendantsSorted(t,l);if(!n)return false;var a=c.areDescendantsSorted(l,r);return a});var d=0===f.size?o.getLeaves():o.getLeaves(f);var v=0;var h=d.map(function(e,r){var n=t.renderLeaf(d,e,r,v);v+=e.text.length;return n});return i.a.createElement("span",{"data-key":l,style:s},h)}}]);return t}(i.a.Component);G.propTypes={block:c["a"].block,decorations:f.a.list.isRequired,editor:u.a.object.isRequired,node:c["a"].node.isRequired,parent:c["a"].node.isRequired,style:u.a.object};G.defaultProps={style:null};var Y=function e(){var t=this;this.debug=function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var o=t.props.node;var i=o.key;W.apply(void 0,[e,i+" (text)"].concat(n))};this.shouldComponentUpdate=function(e){var r=t.props;var n=e;var a=r;if(n.node!=a.node)return true;if("block"==n.parent.object){var o=a.parent.nodes.last();var i=n.parent.nodes.last();if(a.node==o&&n.node!=i)return true}if(!n.decorations.equals(a.decorations))return true;return false};this.renderLeaf=function(e,r,n,a){var o=t.props,s=o.block,u=o.node,c=o.parent,l=o.editor;var f=r.text,d=r.marks;return i.a.createElement(J,{key:u.key+"-"+n,block:s,editor:l,index:n,marks:d,node:u,offset:a,parent:c,leaves:e,text:f})}};var X=a()("slate:void");var Q=function(e){D(t,e);function t(){var e;var r,n,a;P(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return a=(r=(n=j(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n),$.call(n),r),j(n,a)}B(t,[{key:"render",value:function e(){var t=this.props;var r=t.children,n=t.node,a=t.readOnly;var o="block"==n.object?"div":"span";var s={height:"0",color:"transparent",outline:"none"};var u=i.a.createElement(o,{"data-slate-spacer":true,style:s},this.renderText());var c=i.a.createElement(o,{contentEditable:!!a&&null},r);this.debug("render",{props:t});return i.a.createElement(o,{"data-slate-void":true,"data-key":n.key},a?null:u,c)}}]);return t}(i.a.Component);Q.propTypes={block:c["a"].block,children:u.a.any.isRequired,editor:u.a.object.isRequired,node:c["a"].node.isRequired,parent:c["a"].node.isRequired,readOnly:u.a.bool.isRequired};var $=function e(){var t=this;this.debug=function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var o=t.props.node;var i=o.key,s=o.type;var u=i+" ("+s+")";X.apply(void 0,[e,""+u].concat(n))};this.renderText=function(){var e=t.props,r=e.block,n=e.decorations,a=e.isSelected,o=e.node,s=e.readOnly,u=e.editor;var c=o.getFirstText();return i.a.createElement(G,{block:"block"==o.object?o:r,decorations:n,editor:u,isSelected:a,key:c.key,node:c,parent:o,readOnly:s})}};function Z(e,t){var r=Object(d["Set"])().asMutable();var n=[];ee(e,t).forEach(function(e){e.isRangeStart?r.add(e.decoration):e.isRangeEnd?r.remove(e.decoration):n.push(r.toList())});return n}function ee(e,t){if(t.isEmpty())return e.nodes.toArray().map(function(e,t){return{child:e,index:t}});var r=M({},e.key,0);var n=1;e.forEachDescendant(function(e){r[e.key]=n;n+=1});var a=e.nodes.toArray();var o=a.map(function(e,t){return{child:e,index:t,order:r[e.key]}});t.forEach(function(e){var t=r[e.startKey];var i=void 0===t?0:te(a,r,t);o.push({isRangeStart:true,order:i-.5,decoration:e});var s=(r[e.endKey]||n)+.5;o.push({isRangeEnd:true,order:s,decoration:e})});return o.sort(function(e,t){return e.order>t.order?1:-1})}function te(e,t,r){var n=e.findIndex(function(e){return r<t[e.key]});if(n<=0)return 0;var a=e[n-1];return t[a.key]}var re=a()("slate:node");var ne=function(e){D(t,e);function t(){var e;var r,n,a;P(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return a=(r=(n=j(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n),ae.call(n),r),j(n,a)}B(t,[{key:"render",value:function e(){var t=this;this.debug("render",this);var r=this.props,n=r.editor,a=r.isSelected,o=r.node,s=r.decorations,u=r.parent,c=r.readOnly;var l=n.value;var f=l.selection;var d=n.stack;var v=o.getSelectionIndexes(f,a);var h=s.concat(o.getDecorations(d));var p=Z(o,h);var y=[];o.nodes.forEach(function(e,r){var n=!!v&&v.start<=r&&r<v.end;y.push(t.renderNode(e,n,p[r]))});var g={"data-key":o.key};if("block"==o.object&&"block"!=o.nodes.first().object){var m=o.getTextDirection();"rtl"==m&&(g.dir="rtl")}var k={key:o.key,editor:n,isSelected:a,node:o,parent:u,readOnly:c};var b=d.find("renderPlaceholder",k);if(b){b=i.a.cloneElement(b,{key:o.key+"-placeholder"});y=[b].concat(K(y))}var O=d.find("renderNode",R({},k,{attributes:g,children:y}));return o.isVoid?i.a.createElement(Q,this.props,O):O}}]);return t}(i.a.Component);ne.propTypes={block:c["a"].block,decorations:f.a.list.isRequired,editor:u.a.object.isRequired,isSelected:u.a.bool.isRequired,node:c["a"].node.isRequired,parent:c["a"].node.isRequired,readOnly:u.a.bool.isRequired};var ae=function e(){var t=this;this.debug=function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var o=t.props.node;var i=o.key,s=o.type;re.apply(void 0,[e,i+" ("+s+")"].concat(n))};this.shouldComponentUpdate=function(e){var r=t.props;var n=r.editor.stack;var a=n.find("shouldNodeComponentUpdate",r,e);var o=e;var i=r;if(null!=a){if(a)return true;false===a&&h["a"].warn("Returning false in `shouldNodeComponentUpdate` does not disable Slate's internal `shouldComponentUpdate` logic. If you want to prevent updates, use React's `shouldComponentUpdate` instead.")}if(o.readOnly!=i.readOnly)return true;if(o.node!=i.node)return true;if(o.isSelected||i.isSelected)return true;if(!o.decorations.equals(i.decorations))return true;return false};this.renderNode=function(e,r,n){var a=t.props,o=a.block,s=a.editor,u=a.node,c=a.readOnly;var l="text"==e.object?G:ne;return i.a.createElement(l,{block:"block"==u.object?u:o,decorations:n,editor:s,isSelected:r,key:e.key,node:e,parent:u,readOnly:c})}};function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;p["Node"].isNode(e)&&(e=e.key);var r=t.document.querySelector('[data-key="'+e+'"]');if(!r)throw new Error('Unable to find a DOM node for "'+e+'". This is often because of forgetting to add `props.attributes` to a custom component.');return r}function ie(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;var n=oe(e,r);var a=0;var o=void 0;var i=r.document.createNodeIterator(n,NodeFilter.SHOW_TEXT,function(){return NodeFilter.FILTER_ACCEPT},false);while(o=i.nextNode()){var s=o.textContent.length;var u=a+s;if(t<=u){var c=t-a;return{node:o,offset:c>=0?c:0}}a=u}return null}function se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;var r=e.anchorKey,n=e.anchorOffset,a=e.focusKey,o=e.focusOffset,i=e.isBackward,s=e.isCollapsed;var u=ie(r,n,t);var c=s?u:ie(a,o,t);if(!u||!c)return null;var l=t.document.createRange();var f=i?c:u;var d=i?u:c;l.setStart(f.node,f.offset);l.setEnd(d.node,d.offset);return l}var ue="data-slate-zero-width";var ce="["+ue+"]";var le="data-offset-key";var fe="["+le+"]";var de="[data-key]";var ve="[data-slate-void]";function he(e,t,r){var n=pe(e,t),a=n.node,o=n.offset;var i=g()(e);var s=a.parentNode;var u=s.closest(fe);var c=void 0;var l=void 0;if(u){var f=i.document.createRange();var d=u.closest(de);f.setStart(d,0);f.setEnd(a,o);l=d;c=f.toString().length}else{var v=s.closest(ve);if(!v)return null;u=v.querySelector(fe);if(!u)return null;l=u;c=l.textContent.length}c==l.textContent.length&&s.hasAttribute(ue)&&c--;var h=u.getAttribute(le);if(!h)return null;var p=V.parse(h),y=p.key;if(!r.document.hasDescendant(y))return null;return{key:y,offset:c}}function pe(e,t){if(1==e.nodeType&&e.childNodes.length){var r=t==e.childNodes.length;var n=r?"backward":"forward";var a=r?t-1:t;e=ye(e,a,n);while(1==e.nodeType&&e.childNodes.length){var o=r?e.childNodes.length-1:0;e=ye(e,o,n)}t=r?e.textContent.length:0}return{node:e,offset:t}}function ye(e,t,r){var n=e.childNodes;var a=n[t];var o=t;var i=false;var s=false;while(8==a.nodeType||1==a.nodeType&&0==a.childNodes.length||1==a.nodeType&&"false"==a.getAttribute("contenteditable")){if(i&&s)break;if(o>=n.length){i=true;o=t-1;r="backward";continue}if(o<0){s=true;o=t+1;r="forward";continue}a=n[o];"forward"==r&&o++;"backward"==r&&o--}return a||null}function ge(e,t){var r=e.anchorNode||e.startContainer;if(!r)return null;var n=g()(r);(e instanceof n.Range||n.StaticRange&&e instanceof n.StaticRange)&&(e={anchorNode:e.startContainer,anchorOffset:e.startOffset,focusNode:e.endContainer,focusOffset:e.endOffset});var a=e,o=a.anchorNode,i=a.anchorOffset,s=a.focusNode,u=a.focusOffset,c=a.isCollapsed;var l=he(o,i,t);var f=c?l:he(s,u,t);if(!l||!f)return null;if(b["d"]||b["b"]){var d=ie(l.key,l.offset);var v=ie(f.key,f.offset);e={anchorNode:d.node,anchorOffset:d.offset,focusNode:v.node,focusOffset:v.offset}}var h=p["Range"].create({anchorKey:l.key,anchorOffset:l.offset,focusKey:f.key,focusOffset:f.offset,isBackward:!c&&k()(e),isFocused:true});return h}var me=["auto","overlay","scroll"];var ke=b["e"]&&!!window.navigator.userAgent.match(/os 11_/i);function be(e,t){var r=e.parentNode;var n=void 0;while(!n){if(!r.parentNode)break;var a=t.getComputedStyle(r);var o=a.overflowY;if(me.includes(o)){n=r;break}r=r.parentNode}if(!n)return t.document.body;return n}function Oe(e){if(ke)return;if(!e.anchorNode)return;var t=g()(e.anchorNode);var r=be(e.anchorNode,t);var n=r==t.document.body||r==t.document.documentElement;var a=k()(e);var o=e.getRangeAt(0).cloneRange();o.collapse(a);var i=o.getBoundingClientRect();if(b["g"]&&o.collapsed&&0==i.top&&0==i.height){0==o.startOffset?o.setEnd(o.endContainer,1):o.setStart(o.startContainer,o.startOffset-1);i=o.getBoundingClientRect();0==i.top&&0==i.height&&o.getClientRects().length&&(i=o.getClientRects()[0])}var s=void 0;var u=void 0;var c=void 0;var l=void 0;var f=0;var d=0;var v=0;var h=0;var p=0;var y=0;var m=0;var O=0;if(n){var E=t.innerWidth,A=t.innerHeight,C=t.pageYOffset,w=t.pageXOffset;s=E;u=A;c=C;l=w}else{var T=r.offsetWidth,S=r.offsetHeight,_=r.scrollTop,x=r.scrollLeft;var N=t.getComputedStyle(r),P=N.borderTopWidth,B=N.borderBottomWidth,M=N.borderLeftWidth,R=N.borderRightWidth,D=N.paddingTop,j=N.paddingBottom,I=N.paddingLeft,K=N.paddingRight;var L=r.getBoundingClientRect();s=T;u=S;f=L.top+parseInt(P,10);d=L.left+parseInt(M,10);v=parseInt(P,10)+parseInt(B,10);h=parseInt(M,10)+parseInt(R,10);p=parseInt(D,10);y=parseInt(j,10);m=parseInt(I,10);O=parseInt(K,10);c=_;l=x}var F=i.top+c-f;var z=i.left+l-d;var H=l;var V=c;z<l?H=z-m:z+i.width+h>l+s&&(H=z+h+O-s);F<c?V=F-p:F+i.height+v>c+u&&(V=F+v+y+i.height-u);if(n)t.scrollTo(H,V);else{r.scrollTop=V;r.scrollLeft=H}}function Ee(e){var t=window.document;if(t&&t.body.createTextRange){var r=t.body.createTextRange();r.collapse();r.select()}else e.removeAllRanges()}var Ae=a()("slate:content");var Ce=function(e){D(t,e);function t(e){P(this,t);var r=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.componentDidMount=function(){var e=g()(r.element);e.document.addEventListener("selectionchange",r.onNativeSelectionChange);(b["e"]||b["a"])&&b["h"].beforeinput&&r.element.addEventListener("beforeinput",r.onNativeBeforeInput);r.updateSelection()};r.componentDidUpdate=function(){r.updateSelection()};r.updateSelection=function(){var e=r.props.editor;var t=e.value;var n=t.selection;var a=n.isBackward;var o=g()(r.element);var i=o.getSelection();var s=i.rangeCount,u=i.anchorNode;if(!s&&n.isBlurred)return;if(n.isBlurred){if(!r.isInEditor(u))return;Ee(i);r.element.blur();Ae("updateSelection",{selection:n,native:i});return}if(n.isUnset)return;var c=!!s&&i.getRangeAt(0);var l=se(n,o);if(!l){h["a"].error("Unable to find a native DOM range from the current selection.",{selection:n});return}var f=l.startContainer,d=l.startOffset,v=l.endContainer,p=l.endOffset;if(c&&(f==c.startContainer&&d==c.startOffset&&v==c.endContainer&&p==c.endOffset||f==c.endContainer&&d==c.endOffset&&v==c.startContainer&&p==c.startOffset))return;r.tmp.isUpdatingSelection=true;Ee(i);i.setBaseAndExtent?a?i.setBaseAndExtent(l.endContainer,l.endOffset,l.startContainer,l.startOffset):i.setBaseAndExtent(l.startContainer,l.startOffset,l.endContainer,l.endOffset):i.addRange(l);Oe(i);setTimeout(function(){b["c"]&&r.element&&r.element.focus();r.tmp.isUpdatingSelection=false});Ae("updateSelection",{selection:n,native:i})};r.ref=function(e){r.element=e};r.isInEditor=function(e){var t=r.element;var n=3===e.nodeType?e.parentNode:e;return n.isContentEditable&&(n===t||n.closest("[data-slate-editor]")===t)};r.onNativeBeforeInput=function(e){if(r.props.readOnly)return;if(!r.isInEditor(e.target))return;var t=e.getTargetRanges(),n=I(t,1),a=n[0];if(!a)return;var o=r.props.editor;switch(e.inputType){case"deleteContentBackward":e.preventDefault();var i=ge(a,o.value);o.change(function(e){return e.deleteAtRange(i)});break;case"insertLineBreak":case"insertParagraph":e.preventDefault();var s=ge(a,o.value);o.change(function(e){e.value.isInVoid?e.collapseToStartOfNextText():e.splitBlockAtRange(s)});break;case"insertReplacementText":case"insertText":var u=null==e.data?e.dataTransfer.getData("text/plain"):e.data;if(null==u)return;e.preventDefault();var c=o.value;var l=c.selection;var f=ge(a,c);o.change(function(e){e.insertTextAtRange(f,u,l.marks);l.marks&&c.document!=e.value.document&&e.select({marks:null})});break}};r.onNativeSelectionChange=E()(function(e){if(r.props.readOnly)return;var t=g()(e.target);var n=t.document.activeElement;if(n!==r.element)return;r.props.onSelect(e)},100);r.renderNode=function(e,t,n){var a=r.props,o=a.editor,s=a.readOnly;var u=o.value;var c=u.document;return i.a.createElement(ne,{block:null,editor:o,decorations:n,isSelected:t,key:e.key,node:e,parent:c,readOnly:s})};r.tmp={};r.tmp.isUpdatingSelection=false;N.forEach(function(e){r[e]=function(t){r.onEvent(e,t)}});return r}B(t,[{key:"componentWillUnmount",value:function e(){var t=g()(this.element);t&&t.document.removeEventListener("selectionchange",this.onNativeSelectionChange);(b["e"]||b["a"])&&b["h"].beforeinput&&this.element.removeEventListener("beforeinput",this.onNativeBeforeInput)}},{key:"onEvent",value:function e(t,r){Ae("onEvent",t);if(this.tmp.isUpdatingSelection&&("onSelect"==t||"onBlur"==t||"onFocus"==t))return;if("onSelect"==t){var n=this.props.editor;var a=n.value;var o=a.selection;var i=g()(r.target);var s=i.getSelection();var u=ge(s,a);if(u&&u.equals(o)){this.updateSelection();return}}if("onDragEnd"==t||"onDragEnter"==t||"onDragExit"==t||"onDragLeave"==t||"onDragOver"==t||"onDragStart"==t||"onDrop"==t){var c=r.target;var l=c.closest("[data-slate-editor]");if(l!==this.element)return}if(("onBeforeInput"==t||"onBlur"==t||"onCompositionEnd"==t||"onCompositionStart"==t||"onCopy"==t||"onCut"==t||"onFocus"==t||"onInput"==t||"onKeyDown"==t||"onKeyUp"==t||"onPaste"==t||"onSelect"==t)&&!this.isInEditor(r.target))return;this.props[t](r)}},{key:"render",value:function e(){var t=this;var r=this.props;var n=r.className,a=r.readOnly,o=r.editor,s=r.tabIndex,u=r.role,c=r.tagName,l=r.spellCheck;var f=o.value,d=o.stack;var v=c;var h=f.document,p=f.selection,y=f.decorations;var g=h.getSelectionIndexes(p,p.isFocused);var m=h.getDecorations(d).concat(y||[]);var k=Z(h,m);var b=h.nodes.toArray().map(function(e,r){var n=!!g&&g.start<=r&&r<g.end;return t.renderNode(e,n,k[r])});var O=N.reduce(function(e,r){e[r]=t[r];return e},{});var E=R({outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},a?{}:{WebkitUserModify:"read-write-plaintext-only"},r.style);Ae("render",{props:r});return i.a.createElement(v,R({},O,{"data-slate-editor":true,ref:this.ref,"data-key":h.key,contentEditable:!a||null,suppressContentEditableWarning:true,className:n,onBlur:this.onBlur,onFocus:this.onFocus,onCompositionEnd:this.onCompositionEnd,onCompositionStart:this.onCompositionStart,onCopy:this.onCopy,onCut:this.onCut,onDragEnd:this.onDragEnd,onDragOver:this.onDragOver,onDragStart:this.onDragStart,onDrop:this.onDrop,onInput:this.onInput,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onPaste:this.onPaste,onSelect:this.onSelect,autoCorrect:r.autoCorrect?"on":"off",spellCheck:l,style:E,role:a?null:u||"textbox",tabIndex:s,"data-gramm":false}),b,this.props.children)}}]);return t}(i.a.Component);Ce.propTypes={autoCorrect:u.a.bool.isRequired,children:u.a.any.isRequired,className:u.a.string,editor:u.a.object.isRequired,readOnly:u.a.bool.isRequired,role:u.a.string,spellCheck:u.a.bool.isRequired,style:u.a.object,tabIndex:u.a.number,tagName:u.a.string};Ce.defaultProps={style:{},tagName:"div"};N.forEach(function(e){Ce.propTypes[e]=u.a.func.isRequired});var we={FRAGMENT:"application/x-slate-fragment",HTML:"text/html",NODE:"application/x-slate-node",RICH:"text/rtf",TEXT:"text/plain"};var Te=we.FRAGMENT;var Se=we.HTML;var _e=we.TEXT;function xe(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.fragment;var n=g()(e.target);var a=n.getSelection();var o=t.startKey,i=t.endKey;var s=t.document.getClosestVoid(o);var u=t.document.getClosestVoid(i);if(a.isCollapsed&&!s)return;var c=A["a"].serializeNode(r);var l=a.getRangeAt(0);var f=l.cloneContents();var d=f.childNodes[0];f.childNodes.forEach(function(e){e.innerText&&""!==e.innerText.trim()&&(d=e)});if(u){var v=l.cloneRange();var h=oe(u,n);v.setEndAfter(h);f=v.cloneContents()}s&&(d=f.childNodes[0].childNodes[1].firstChild);[].slice.call(f.querySelectorAll(ce)).forEach(function(e){var t="n"===e.getAttribute(ue);e.textContent=t?"\n":""});if(3==d.nodeType){var p=n.document.createElement("span");p.style.whiteSpace="pre";p.appendChild(d);f.appendChild(p);d=p}d.setAttribute("data-slate-fragment",c);var y=n.document.createElement("div");y.appendChild(f);if(e.clipboardData&&e.clipboardData.setData){e.preventDefault();e.clipboardData.setData(_e,a.toString());e.clipboardData.setData(Te,c);e.clipboardData.setData(Se,y.innerHTML);return}var m=e.target.closest("[data-slate-editor]");y.setAttribute("contenteditable",true);y.style.position="absolute";y.style.left="-9999px";m.appendChild(y);a.selectAllChildren(y);n.requestAnimationFrame(function(){m.removeChild(y);Ee(a);a.addRange(l)})}function Ne(e,t){var r=e.closest("[data-key]");if(!r)return null;var n=r.getAttribute("data-key");if(!n)return null;var a=t.document.getNode(n);return a||null}function Pe(e,t){e.nativeEvent&&(e=e.nativeEvent);var r=e,n=r.x,a=r.y,o=r.target;if(null==n||null==a)return null;var i=t.document;var s=Ne(o,t);if(!s)return null;if(s.isVoid){var u=o.getBoundingClientRect();var c="inline"==s.object?n-u.left<u.left+u.width-n:a-u.top<u.top+u.height-a;var l=s.getFirstText();var f=p["Range"].create();return c?f.moveToEndOf(i.getPreviousText(l.key)):f.moveToStartOf(i.getNextText(l.key))}var d=g()(o);var v=void 0;if(d.document.caretRangeFromPoint)v=d.document.caretRangeFromPoint(n,a);else{var h=d.document.caretPositionFromPoint(n,a);v=d.document.createRange();v.setStart(h.offsetNode,h.offset);v.setEnd(h.offsetNode,h.offset)}var y=ge(v,t);if(!y)return null;return y}var Be=we.FRAGMENT;var Me=we.HTML;var Re=we.NODE;var De=we.RICH;var je=we.TEXT;var Ie=/ data-slate-fragment="([^\s"]+)"/;function Ke(e){e.nativeEvent&&(e=e.nativeEvent);var t=e.dataTransfer||e.clipboardData;var r=ze(t,Be);var n=ze(t,Re);var a=ze(t,Me);var o=ze(t,De);var i=ze(t,je);var s=void 0;if(!r&&a&&~a.indexOf(' data-slate-fragment="')){var u=Ie.exec(a);var c=I(u,2),l=c[0],f=c[1];f&&(r=f)}if(i){var d=Le(i);d[Be]&&(r=d[Be]);d[Re]&&(n=d[Re]);d[je]&&(i=d[je])}r&&(r=A["a"].deserializeNode(r));n&&(n=A["a"].deserializeNode(n));try{t.items&&t.items.length?s=Array.from(t.items).map(function(e){return"file"==e.kind?e.getAsFile():null}).filter(function(e){return e}):t.files&&t.files.length&&(s=Array.from(t.files))}catch(e){t.files&&t.files.length&&(s=Array.from(t.files))}var v={files:s,fragment:r,html:a,node:n,rich:o,text:i};v.type=Fe(v);return v}function Le(e){var t="SLATE-DATA-EMBED::";if(e.substring(0,t.length)!=t)return{TEXT:e};try{return JSON.parse(e.substring(t.length))}catch(e){throw new Error("Unable to parse custom Slate drag event data.")}}function Fe(e){if(e.fragment)return"fragment";if(e.node)return"node";if(e.rich&&e.html)return"html";if(e.rich&&e.text)return"text";if(e.files&&e.files.length)return"files";if(e.html)return"html";if(e.text)return"text";return"unknown"}function ze(e,t){if(!e.types||!e.types.length)return t==je&&e.getData("Text")||null;var r=Array.from(e.types);return-1!==r.indexOf(t)&&e.getData(t)||null}var He=we.TEXT;function Ve(e,t,r){var n=we[t.toUpperCase()];if(!n)throw new Error('Cannot set unknown transfer type "'+n+'".');e.nativeEvent&&(e=e.nativeEvent);var a=e.dataTransfer||e.clipboardData;try{a.setData(n,r)}catch(e){var o="SLATE-DATA-EMBED::";var i=a.getData(He);var s={};if(i.substring(0,o.length)===o)try{s=JSON.parse(i.substring(o.length))}catch(e){throw new Error("Failed to parse Slate data from `DataTransfer` object.")}else s[He]=i;s[n]=r;var u=""+o+JSON.stringify(s);a.setData(He,u)}}var Ue=a()("slate:after");function Je(){var e=null;function t(e,t,r){Ue("onBeforeInput",{event:e});e.preventDefault();t.insertText(e.data)}function r(e,t,r){Ue("onBlur",{event:e});t.blur()}function n(e,t,r){if(r.props.readOnly)return true;var n=t.value;var a=n.document;var o=Ne(e.target,n);var i=o&&(o.isVoid||a.hasVoidParent(o.key));i&&t.focus().collapseToEndOf(o);Ue("onClick",{event:e})}function a(e,t,r){Ue("onCopy",{event:e});xe(e,t.value)}function o(e,t,r){Ue("onCut",{event:e});xe(e,t.value);var n=g()(e.target);n.requestAnimationFrame(function(){var e=t.value;var n=e.endBlock,a=e.endInline,o=e.isCollapsed;var i=n&&n.isVoid&&o;var s=a&&a.isVoid&&o;i?r.change(function(e){return e.removeNodeByKey(n.key)}):s?r.change(function(e){return e.removeNodeByKey(a.key)}):r.change(function(e){return e.delete()})})}function s(t,r,n){Ue("onDragEnd",{event:t});e=null}function u(t,r,n){Ue("onDragOver",{event:t});e=false}function c(t,r,n){Ue("onDragStart",{event:t});e=true;var a=r.value;var o=a.document;var i=Ne(t.target,a);var s=i&&(i.isVoid||o.hasVoidParent(i.key));if(s){var u=A["a"].serializeNode(i,{preserveKeys:true});Ve(t,"node",u)}else{var c=a.fragment;var l=A["a"].serializeNode(c);Ve(t,"fragment",l)}}function l(t,r,n){Ue("onDrop",{event:t});var a=r.value;var o=a.document,i=a.selection;var s=g()(t.target);var u=Pe(t,a);if(!u)return;var c=Ke(t);var l=c.type,f=c.fragment,d=c.node,v=c.text;r.focus();e&&i.endKey==u.endKey&&i.endOffset<u.endOffset&&(u=u.move(i.startKey==i.endKey?0-i.endOffset+i.startOffset:0-i.endOffset));e&&r.delete();r.select(u);if("text"==l||"html"==l){var h=u,y=h.anchorKey;var m=o.hasVoidParent(y);if(m){var k=o.getNode(y);while(m){k=o.getNextText(k.key);if(!k)break;m=o.hasVoidParent(k.key)}k&&r.collapseToStartOf(k)}v&&v.split("\n").forEach(function(e,t){t>0&&r.splitBlock();r.insertText(e)})}"fragment"==l&&r.insertFragment(f);"node"==l&&p["Block"].isBlock(d)&&r.insertBlock(d.regenerateKey()).removeNodeByKey(d.key);"node"==l&&p["Inline"].isInline(d)&&r.insertInline(d.regenerateKey()).removeNodeByKey(d.key);var b=o.getNode(u.focusKey);var O=oe(b,s);if(!O)return;O.dispatchEvent(new MouseEvent("mouseup",{view:s,bubbles:true,cancelable:true}))}function f(e,t,r){Ue("onInput",{event:e});var n=g()(e.target);var a=t.value;var o=n.getSelection();var i=o.anchorNode;var s=he(i,0,a);if(!s)return;var u=a.document,c=a.selection;var l=u.getDescendant(s.key);var f=u.getClosestBlock(l.key);var d=l.getLeaves();var v=f.getLastText();var h=d.last();var p=0;var y=0;var m=d.find(function(e){p=y;y+=e.text.length;if(y>s.offset)return true})||h;var k=m.text;var b=i.textContent;var O=l==v;var E=m==h;var A=b.charAt(b.length-1);O&&E&&"\n"==A&&(b=b.slice(0,-1));if(b==k)return;var C=b.length-k.length;var w=c.collapseToEnd().move(C);var T=c.moveAnchorTo(s.key,p).moveFocusTo(s.key,y);t.insertTextAtRange(T,b,m.marks).select(w)}function d(e,t,r){Ue("onKeyDown",{event:e});var n=t.value;if(w["a"].isSplitBlock(e)&&!b["e"])return n.isInVoid?t.collapseToStartOfNextText():t.splitBlock();if(w["a"].isDeleteCharBackward(e)&&!b["e"])return t.deleteCharBackward();if(w["a"].isDeleteCharForward(e)&&!b["e"])return t.deleteCharForward();if(w["a"].isDeleteLineBackward(e))return t.deleteLineBackward();if(w["a"].isDeleteLineForward(e))return t.deleteLineForward();if(w["a"].isDeleteWordBackward(e))return t.deleteWordBackward();if(w["a"].isDeleteWordForward(e))return t.deleteWordForward();if(w["a"].isRedo(e))return t.redo();if(w["a"].isUndo(e))return t.undo();if(w["a"].isCollapseLineBackward(e)){e.preventDefault();return t.collapseLineBackward()}if(w["a"].isCollapseLineForward(e)){e.preventDefault();return t.collapseLineForward()}if(w["a"].isExtendLineBackward(e)){e.preventDefault();return t.extendLineBackward()}if(w["a"].isExtendLineForward(e)){e.preventDefault();return t.extendLineForward()}if(w["a"].isCollapseCharBackward(e)){var a=n.document,o=n.isInVoid,i=n.previousText,s=n.startText;var u=i&&a.hasVoidParent(i.key);if(o||u||""==s.text){e.preventDefault();return t.collapseCharBackward()}}if(w["a"].isCollapseCharForward(e)){var c=n.document,l=n.isInVoid,f=n.nextText,d=n.startText;var v=f&&c.hasVoidParent(f.key);if(l||v||""==d.text){e.preventDefault();return t.collapseCharForward()}}if(w["a"].isExtendCharBackward(e)){var h=n.document,p=n.isInVoid,y=n.previousText,g=n.startText;var m=y&&h.hasVoidParent(y.key);if(p||m||""==g.text){e.preventDefault();return t.extendCharBackward()}}if(w["a"].isExtendCharForward(e)){var k=n.document,O=n.isInVoid,E=n.nextText,A=n.startText;var C=E&&k.hasVoidParent(E.key);if(O||C||""==A.text){e.preventDefault();return t.extendCharForward()}}}function v(e,t,r){Ue("onPaste",{event:e});var n=Ke(e);var a=n.type,o=n.fragment,i=n.text;"fragment"==a&&t.insertFragment(o);if("text"==a||"html"==a){if(!i)return;var s=t.value;var u=s.document,c=s.selection,l=s.startBlock;if(l.isVoid)return;var f=l;var d=u.getInsertMarksAtRange(c);var v=C["a"].deserialize(i,{defaultBlock:f,defaultMarks:d}).document;t.insertFragment(v)}}function h(e,t,r){Ue("onSelect",{event:e});var n=g()(e.target);var a=t.value;var o=a.document;var i=n.getSelection();if(!i.rangeCount){t.blur();return}var s=ge(i,a);if(!s)return;var u=s,c=u.anchorKey,l=u.anchorOffset,f=u.focusKey,d=u.focusOffset;var v=o.getNode(c);var h=o.getNode(f);var p=o.getClosestInline(c);var y=o.getClosestInline(f);var m=o.getClosestBlock(f);var k=o.getClosestBlock(c);k&&!k.isVoid&&0==l&&m&&m.isVoid&&0!=d&&(s=s.set("focusOffset",0));if(p&&!p.isVoid&&l==v.text.length){var b=o.getClosestBlock(c);var O=b.getNextText(c);O&&(s=s.moveAnchorTo(O.key,0))}if(y&&!y.isVoid&&d==h.text.length){var E=o.getClosestBlock(f);var A=E.getNextText(f);A&&(s=s.moveFocusTo(A.key,0))}s=s.normalize(o);t.select(s)}function y(e,t){var r=N.reduce(function(e,r){e[r]=t[r];return e},{});return i.a.createElement(Ce,R({},r,{autoCorrect:e.autoCorrect,className:e.className,children:e.children,editor:t,readOnly:e.readOnly,role:e.role,spellCheck:e.spellCheck,style:e.style,tabIndex:e.tabIndex,tagName:e.tagName}))}function m(e){var t=e.attributes,r=e.children,n=e.node;if("block"!=n.object&&"inline"!=n.object)return;var a="block"==n.object?"div":"span";var o={position:"relative"};return i.a.createElement(a,R({},t,{style:o}),r)}function k(e){var t=e.editor,r=e.node;if(!t.props.placeholder)return;if(t.state.isComposing)return;if("block"!=r.object)return;if(!p["Text"].isTextList(r.nodes))return;if(""!=r.text)return;if(t.value.document.getBlocks().size>1)return;var n={pointerEvents:"none",display:"inline-block",width:"0",maxWidth:"100%",whiteSpace:"nowrap",opacity:"0.333"};return i.a.createElement("span",{contentEditable:false,style:n},t.props.placeholder)}return{onBeforeInput:t,onBlur:r,onClick:n,onCopy:a,onCut:o,onDragEnd:s,onDragOver:u,onDragStart:c,onDrop:l,onInput:f,onKeyDown:d,onPaste:v,onSelect:h,renderEditor:y,renderNode:m,renderPlaceholder:k}}var qe=a()("slate:before");function We(){var e=null;var t=0;var r=false;var n=false;var a=false;function o(e,t,r){if(r.props.readOnly)return true;if((b["e"]||b["a"])&&b["h"].beforeinput)return true;qe("onBeforeInput",{event:e})}function i(t,r,a){if(n)return true;if(a.props.readOnly)return true;var o=r.value;var i=t.relatedTarget,s=t.target;var u=g()(s);if(e==u.document.activeElement)return true;if(i){var c=Object(T["findDOMNode"])(a);if(i==c)return true;if(i.hasAttribute("data-slate-spacer"))return true;var l=Ne(i,o);if(c.contains(i)&&l&&!l.isVoid)return true}qe("onBlur",{event:t})}function s(e,t){var r=e.value;r.schema!=t.schema&&e.setValue({schema:t.schema},{save:false}).normalize();qe("onChange")}function u(e,n,a){var o=t;window.requestAnimationFrame(function(){if(t>o)return;r=false;a.state.isComposing&&a.setState({isComposing:false})});qe("onCompositionEnd",{event:e})}function c(e,n,a){r=true;t++;a.state.isComposing||a.setState({isComposing:true});qe("onCompositionStart",{event:e})}function l(e,t,r){var a=g()(e.target);n=true;a.requestAnimationFrame(function(){return n=false});qe("onCopy",{event:e})}function f(e,t,r){if(r.props.readOnly)return true;var a=g()(e.target);n=true;a.requestAnimationFrame(function(){return n=false});qe("onCut",{event:e})}function d(e,t,r){a=false;qe("onDragEnd",{event:e})}function v(e,t,r){qe("onDragEnter",{event:e})}function h(e,t,r){qe("onDragExit",{event:e})}function p(e,t,r){qe("onDragLeave",{event:e})}function y(e,t,r){var n=Ne(e.target,r.value);n.isVoid&&e.preventDefault();if(!a){a=true;e.nativeEvent.dataTransfer.dropEffect="move"}qe("onDragOver",{event:e})}function m(e,t,r){a=true;qe("onDragStart",{event:e})}function k(e,t,r){if(r.props.readOnly)return true;e.preventDefault();qe("onDrop",{event:e})}function O(t,r,a){if(n)return true;if(a.props.readOnly)return true;var o=Object(T["findDOMNode"])(a);var i=g()(t.target);e=i.document.activeElement;if(b["c"]&&t.target!=o){o.focus();return true}qe("onFocus",{event:t})}function E(e,t,n){if(r)return true;if(t.value.isBlurred)return true;qe("onInput",{event:e})}function A(e,t,n){if(n.props.readOnly)return true;if(r){w["a"].isComposing(e)&&e.preventDefault();return true}w["a"].isContentEditable(e)&&!b["e"]&&e.preventDefault();qe("onKeyDown",{event:e})}function C(e,t,r){if(r.props.readOnly)return true;e.preventDefault();qe("onPaste",{event:e})}function S(t,a,o){if(n)return true;if(r)return true;if(o.props.readOnly)return true;var i=g()(t.target);e=i.document.activeElement;qe("onSelect",{event:t})}return{onBeforeInput:o,onBlur:i,onChange:s,onCompositionEnd:u,onCompositionStart:c,onCopy:l,onCut:f,onDragEnd:d,onDragEnter:v,onDragExit:h,onDragLeave:p,onDragOver:y,onDragStart:m,onDrop:k,onFocus:O,onInput:E,onKeyDown:A,onPaste:C,onSelect:S}}function Ge(){}var Ye=a()("slate:editor");var Xe=function(e){D(t,e);function t(e){P(this,t);var r=j(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));Qe.call(r);r.state={};r.tmp={};r.tmp.updates=0;r.tmp.resolves=0;var n=r.resolvePlugins(e.plugins,e.schema);var a=p["Stack"].create({plugins:n});var o=p["Schema"].create({plugins:n});r.state.schema=o;r.state.stack=a;var i=e.value.change();a.run("onChange",i,r);r.queueChange(i);r.state.value=i.value;N.forEach(function(e){r[e]=function(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];r.onEvent.apply(r,[e].concat(n))}});return r}B(t,[{key:"render",value:function e(){Ye("render",this);var t=this.stack.map("renderPortal",this.value,this).map(function(e,t){return i.a.createElement(x.a,{key:t,isOpened:true},e)});var r=R({},this.props,{children:t});var n=this.stack.render("renderEditor",r,this);return n}},{key:"schema",get:function e(){return this.state.schema}},{key:"stack",get:function e(){return this.state.stack}},{key:"value",get:function e(){return this.state.value}}]);return t}(i.a.Component);Xe.propTypes={autoCorrect:u.a.bool,autoFocus:u.a.bool,className:u.a.string,onChange:u.a.func,placeholder:u.a.any,plugins:u.a.array,readOnly:u.a.bool,role:u.a.string,schema:u.a.object,spellCheck:u.a.bool,style:u.a.object,tabIndex:u.a.number,value:c["a"].value.isRequired};Xe.defaultProps={autoFocus:false,autoCorrect:true,onChange:Ge,plugins:[],readOnly:false,schema:{},spellCheck:true};var Qe=function e(){var t=this;this.componentWillReceiveProps=function(e){var r=t.schema,n=t.stack;t.tmp.updates++;if(e.plugins!=t.props.plugins||e.schema!=t.props.schema){var a=t.resolvePlugins(e.plugins,e.schema);n=p["Stack"].create({plugins:a});r=p["Schema"].create({plugins:a});t.setState({schema:r,stack:n});t.tmp.resolves++;t.tmp.resolves>5&&t.tmp.resolves==t.tmp.updates&&h["a"].warn("A Slate <Editor> is re-resolving `props.plugins` or `props.schema` on each update, which leads to poor performance. This is often due to passing in a new `schema` or `plugins` prop with each render by declaring them inline in your render function. Do not do this!")}var o=e.value.change();n.run("onChange",o,t);t.queueChange(o);t.setState({value:o.value})};this.componentDidMount=function(){t.flushChange();t.props.autoFocus&&t.focus()};this.componentDidUpdate=function(){t.flushChange()};this.queueChange=function(e){if(e.operations.size){Ye("queueChange",{change:e});t.tmp.change=e}};this.flushChange=function(){var e=t.tmp.change;if(e){Ye("flushChange",{change:e});delete t.tmp.change;t.props.onChange(e)}};this.change=function(){var e;var r=(e=t.value.change()).call.apply(e,arguments);t.onChange(r)};this.blur=function(){t.change(function(e){return e.blur()})};this.focus=function(){t.change(function(e){return e.focus()})};this.onEvent=function(e,r){t.change(function(n){t.stack.run(e,r,n,t)})};this.onChange=function(e){Ye("onChange",{change:e});t.stack.run("onChange",e,t);var r=e.value;var n=t.props.onChange;if(r==t.value)return;n(e)};this.resolvePlugins=function(e,r){var n=We();var a=Je();var o={schema:r||{}};var i=function e(r){if("onChange"==r)return"continue";if("schema"==r)return"continue";o[r]=function(){var e;return t.props[r]&&(e=t.props)[r].apply(e,arguments)}};var s=true;var u=false;var c=void 0;try{for(var l=L[Symbol.iterator](),f;!(s=(f=l.next()).done);s=true){var d=f.value;var v=i(d);if("continue"===v)continue}}catch(e){u=true;c=e}finally{try{!s&&l.return&&l.return()}finally{if(u)throw c}}return[n,o].concat(K(e||[]),[a])}};var $e=true;var Ze=false;var et=void 0;try{for(var tt=N[Symbol.iterator](),rt;!($e=(rt=tt.next()).done);$e=true){var nt=rt.value;Xe.propTypes[nt]=u.a.func}}catch(e){Ze=true;et=e}finally{try{!$e&&tt.return&&tt.return()}finally{if(Ze)throw et}}var at={Editor:Xe,cloneFragment:xe,findDOMNode:oe,findDOMRange:se,findNode:Ne,findRange:ge,getEventRange:Pe,getEventTransfer:Ke,setEventTransfer:Ve,AfterPlugin:Je,BeforePlugin:We};t["default"]=at},401:function(e,t){e.exports={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Switch Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required",CONTINUE:100,SWITCHING_PROTOCOLS:101,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTI_STATUS:207,ALREADY_REPORTED:208,IM_USED:226,MULTIPLE_CHOICES:300,MOVED_PERMANENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,USE_PROXY:305,SWITCH_PROXY:306,TEMPORARY_REDIRECT:307,PERMANENT_REDIRECT:308,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,REQUEST_ENTITY_TOO_LARGE:413,REQUEST_URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,REQUESTED_RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,IM_A_TEAPOT:418,MISDIRECTED_REQUEST:421,UNPROCESSABLE_ENTITY:422,UPGRADE_REQUIRED:426,PRECONDITION_REQUIRED:428,LOCKED:423,FAILED_DEPENDENCY:424,TOO_MANY_REQUESTS:429,REQUEST_HEADER_FIELDS_TOO_LARGE:431,UNAVAILABLE_FOR_LEGAL_REASONS:451,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,VARIANT_ALSO_NEGOTIATES:506,INSUFFICIENT_STORAGE:507,LOOP_DETECTED:508,NOT_EXTENDED:510,NETWORK_AUTHENTICATION_REQUIRED:511}},469:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,a,o;var i=r(0);var s=l(i);var u=r(2);var c=r(1);function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=(a=n=function(e){v(t,e);function t(r){var n=r.value;f(this,t);var a=d(this,e.call(this));o.call(a);a.state={value:n};return a}t.prototype.componentDidMount=function e(){var t=this.input;if(t){t.focus();t.select()}};t.prototype.componentWillReceiveProps=function e(t){var r=t.value;this.setState({value:r})};t.prototype.render=function e(){var r=this;var n=t.STYLES;var a=this.props,o=a.placeholder,i=a.isValid;var l=this.state.value;var f=""!=l&&!i(l);return s.createElement(c.AutosizeInput,{ref:function e(t){r.input=t},value:l,onClick:this.onClick,onChange:this.onChange,onBlur:this.onBlur,onKeyDown:this.onKeyDown,placeholder:o,inputClassName:(0,u.css)(n.pageLinkMenuInput,f&&n.pageLinkMenuInputInvalid)})};return t}(s.Component),n.defaultProps={onChange:function e(){},onBlur:function e(){},onEnter:function e(){}},n.STYLES=u.StyleSheet.create({pageLinkMenuInputWrapper:{padding:c.boxes.PADDING_SMALL},pageLinkMenuInput:{font:"inherit",color:"inherit",background:"transparent",outline:"none",minWidth:200,maxWidth:300,padding:c.boxes.PADDING_SMALL,borderRadius:c.boxes.RADIUS_NORMAL,border:"1px solid "+c.colors.BORDER_INPUT,":focus":{borderColor:c.colors.BLUE_BASE}},pageLinkMenuInputInvalid:{borderColor:c.colors.DANGER,":focus":{borderColor:c.colors.DANGER}}}),o=function e(){var t=this;this.onChange=function(e){var r=t.props.onChange;var n=e.target.value;t.setState({value:n});r(n)};this.onBlur=function(){t.props.onBlur(t.state.value)};this.onKeyDown=function(e){var r=13;e.keyCode===r&&t.props.onEnter(t.state.value)};this.onClick=function(e){e.stopPropagation()}},a);t.default=h},490:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,a;var o=r(0);var i=c(o);var s=r(2);var u=r(1);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=(a=n=function(e){d(t,e);function t(){l(this,t);return f(this,e.apply(this,arguments))}t.prototype.render=function e(){var r=this.props,n=r.children,a=r.isActive,o=r.onClick,s=r.onMouseLeave;var c=t.STYLES;return i.createElement(u.View,{styles:[c.tab,u.font.KINDS.UIH300,a&&c.active],role:"button",tabIndex:0,onClick:o,onMouseLeave:s},i.createElement(u.View,{styles:c.flexPadding}),i.createElement(u.View,{styles:c.tabInner},n),i.createElement(u.View,{styles:c.flexPadding}))};return t}(i.Component),n.defaultProps={onMouseLeave:null},n.STYLES=s.StyleSheet.create({tab:{padding:u.spacing.S100+"px 0",flex:"0 1 auto",textOverflow:"ellipsis",maxWidth:"100%",minWidth:0,color:u.colors.GREY_BASE,border:"1px solid "+u.colors.BORDER_NORMAL,borderLeftColor:"transparent",backgroundColor:u.colors.GREY_LIGHTEST,transition:"color 250ms ease-out",outline:"none",position:"relative",display:"flex",":hover":{cursor:"pointer",color:u.colors.BLACK},":first-child":{borderLeftColor:u.colors.BORDER_NORMAL,borderTopLeftRadius:u.boxes.RADIUS_NORMAL},":last-child":{borderTopRightRadius:u.boxes.RADIUS_NORMAL}},active:{flex:"0 0 auto",cursor:"auto",color:u.colors.BLACK,backgroundColor:u.colors.WHITE,borderBottomColor:u.colors.WHITE},tabInner:{flex:"0 1 auto",maxWidth:"100%",minWidth:0,display:"flex",textOverflow:"ellipsis",overflow:"hidden"},flexPadding:{minWidth:8,width:16,flex:"1 1 16px"}}),a);t.default=v},607:function(e,t,r){"use strict";(function(e){var r="undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};function n(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}var o=n;var i=a;"function"===typeof r.setTimeout&&(o=setTimeout);"function"===typeof r.clearTimeout&&(i=clearTimeout);function s(e){if(o===setTimeout)return setTimeout(e,0);if((o===n||!o)&&setTimeout){o=setTimeout;return setTimeout(e,0)}try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}function u(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout){i=clearTimeout;return clearTimeout(e)}try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}var c=[];var l=false;var f;var d=-1;function v(){if(!l||!f)return;l=false;f.length?c=f.concat(c):d=-1;c.length&&h()}function h(){if(l)return;var e=s(v);l=true;var t=c.length;while(t){f=c;c=[];while(++d<t)f&&f[d].run();d=-1;t=c.length}f=null;l=false;u(e)}function p(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new y(e,t));1!==c.length||l||s(h)}function y(e,t){this.fun=e;this.array=t}y.prototype.run=function(){this.fun.apply(null,this.array)};var g="browser";var m="browser";var k=true;var b={};var O=[];var E="";var A={};var C={};var w={};function T(){}var S=T;var _=T;var x=T;var N=T;var P=T;var B=T;var M=T;function R(e){throw new Error("process.binding is not supported")}function D(){return"/"}function j(e){throw new Error("process.chdir is not supported")}function I(){return 0}var K=r.performance||{};var L=K.now||K.mozNow||K.msNow||K.oNow||K.webkitNow||function(){return(new Date).getTime()};function F(e){var t=.001*L.call(K);var r=Math.floor(t);var n=Math.floor(t%1*1e9);if(e){r-=e[0];n-=e[1];if(n<0){r--;n+=1e9}}return[r,n]}var z=new Date;function H(){var e=new Date;var t=e-z;return t/1e3}var V={nextTick:p,title:g,browser:k,env:b,argv:O,version:E,versions:A,on:S,addListener:_,once:x,off:N,removeListener:P,removeAllListeners:B,emit:M,binding:R,cwd:D,chdir:j,umask:I,hrtime:F,platform:m,release:C,config:w,uptime:H};var U="undefined"!==typeof V&&V.env&&true;var J="undefined"!=typeof console&&"function"==typeof console.log&&"function"==typeof console.warn&&"function"==typeof console.error;function q(e,t){if(!U)return;if(J){var r;for(var n=arguments.length,a=Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];(r=console)[e].apply(r,[t].concat(a))}}function W(e){if(J){var t;for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];(t=console).error.apply(t,[e].concat(n))}}function G(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];q.apply(void 0,["warn","Warning: "+e].concat(r))}function Y(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];q.apply(void 0,["warn","Deprecation ("+e+"): "+t].concat(n))}var X={deprecate:Y,error:W,warn:G};t["a"]=X}).call(t,r(18))},658:function(e,t,r){"use strict";r.d(t,"c",function(){return H});r.d(t,"g",function(){return V});r.d(t,"d",function(){return U});r.d(t,"b",function(){return J});r.d(t,"a",function(){return q});r.d(t,"e",function(){return W});r.d(t,"f",function(){return G});r.d(t,"h",function(){return X});var n=r(1385);var a=function(){function e(e,t){var r=[];var n=true;var a=false;var o=void 0;try{for(var i=e[Symbol.iterator](),s;!(n=(s=i.next()).done);n=true){r.push(s.value);if(t&&r.length===t)break}}catch(e){a=true;o=e}finally{try{!n&&i["return"]&&i["return"]()}finally{if(a)throw o}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var o=[["edge",/Edge\/([0-9\._]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+)\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["android",/Android\s([0-9\.]+)/],["safari",/Version\/([0-9\._]+).*Safari/]];var i=[["beforeinput",function(e){return"onbeforeinput"in e}]];var s=[["ios",/os ([\.\_\d]+) like mac os/i],["macos",/mac os x/i],["android",/android/i],["firefoxos",/mozilla\/[a-z\.\_\d]+ \((?:mobile)|(?:tablet)/i],["windows",/windows\s*(?:nt)?\s*([\.\_\d]+)/i]];var u=void 0;var c={};var l=void 0;if(n["a"]){var f=window.navigator.userAgent;var d=true;var v=false;var h=void 0;try{for(var p=o[Symbol.iterator](),y;!(d=(y=p.next()).done);d=true){var g=y.value;var m=a(g,2);var k=m[0];var b=m[1];if(b.test(f)){u=k;break}}}catch(e){v=true;h=e}finally{try{!d&&p.return&&p.return()}finally{if(v)throw h}}var O=true;var E=false;var A=void 0;try{for(var C=s[Symbol.iterator](),w;!(O=(w=C.next()).done);O=true){var T=w.value;var S=a(T,2);var _=S[0];var x=S[1];if(x.test(f)){l=_;break}}}catch(e){E=true;A=e}finally{try{!O&&C.return&&C.return()}finally{if(E)throw A}}var N=window.document.createElement("div");N.contentEditable=true;var P=true;var B=false;var M=void 0;try{for(var R=i[Symbol.iterator](),D;!(P=(D=R.next()).done);P=true){var j=D.value;var I=a(j,2);var K=I[0];var L=I[1];c[K]=L(N)}}catch(e){B=true;M=e}finally{try{!P&&R.return&&R.return()}finally{if(B)throw M}}}var F="chrome"===u;var z="opera"===u;var H="firefox"===u;var V="safari"===u;var U="ie"===u;var J="edge"===u;var q="android"===l;var W="ios"===l;var G="macos"===l;var Y="windows"===l;var X=c},845:function(e,t,r){(function(t){var r="Expected a function";var n=NaN;var a="[object Symbol]";var o=/^\s+|\s+$/g;var i=/^[-+]0x[0-9a-f]+$/i;var s=/^0b[01]+$/i;var u=/^0o[0-7]+$/i;var c=parseInt;var l="object"==typeof t&&t&&t.Object===Object&&t;var f="object"==typeof self&&self&&self.Object===Object&&self;var d=l||f||Function("return this")();var v=Object.prototype;var h=v.toString;var p=Math.max,y=Math.min;var g=function(){return d.Date.now()};function m(e,t,n){var a,o,i,s,u,c,l=0,f=false,d=false,v=true;if("function"!=typeof e)throw new TypeError(r);t=A(t)||0;if(b(n)){f=!!n.leading;d="maxWait"in n;i=d?p(A(n.maxWait)||0,t):i;v="trailing"in n?!!n.trailing:v}function h(t){var r=a,n=o;a=o=void 0;l=t;s=e.apply(n,r);return s}function m(e){l=e;u=setTimeout(E,t);return f?h(e):s}function k(e){var r=e-c,n=e-l,a=t-r;return d?y(a,i-n):a}function O(e){var r=e-c,n=e-l;return void 0===c||r>=t||r<0||d&&n>=i}function E(){var e=g();if(O(e))return C(e);u=setTimeout(E,k(e))}function C(e){u=void 0;if(v&&a)return h(e);a=o=void 0;return s}function w(){void 0!==u&&clearTimeout(u);l=0;a=c=o=u=void 0}function T(){return void 0===u?s:C(g())}function S(){var e=g(),r=O(e);a=arguments;o=this;c=e;if(r){if(void 0===u)return m(c);if(d){u=setTimeout(E,t);return h(c)}}void 0===u&&(u=setTimeout(E,t));return s}S.cancel=w;S.flush=T;return S}function k(e,t,n){var a=true,o=true;if("function"!=typeof e)throw new TypeError(r);if(b(n)){a="leading"in n?!!n.leading:a;o="trailing"in n?!!n.trailing:o}return m(e,t,{leading:a,maxWait:t,trailing:o})}function b(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function O(e){return!!e&&"object"==typeof e}function E(e){return"symbol"==typeof e||O(e)&&h.call(e)==a}function A(e){if("number"==typeof e)return e;if(E(e))return n;if(b(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=b(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var r=s.test(e);return r||u.test(e)?c(e.slice(2),r?2:8):i.test(e)?n:+e}e.exports=k}).call(t,r(18))},846:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var a;var o=r(0);var i=d(o);var s=r(12);var u=r(3);var c=r(469);var l=f(c);function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function v(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=(0,s.injectIntl)(a=function(e){y(t,e);function t(){h(this,t);return p(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.intl,a=v(t,["intl"]);return i.createElement(l.default,n({isValid:u.Page.isValidHref,placeholder:r.formatMessage({id:"TOCPageLinkMenu.href.placeholder",defaultMessage:"Enter link URL"})},a))};return t}(i.Component))||a;t.default=g},847:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var a;var o=r(0);var i=d(o);var s=r(12);var u=r(3);var c=r(469);var l=f(c);function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function v(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=(0,s.injectIntl)(a=function(e){y(t,e);function t(){h(this,t);return p(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.intl,a=v(t,["intl"]);return i.createElement(l.default,n({isValid:u.Page.isValidTitle,placeholder:r.formatMessage({id:"TOCPageLinkMenu.title.placeholder",defaultMessage:"Enter link title"})},a))};return t}(i.Component))||a;t.default=g},891:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getHTTPMethodColor=t.BlockApiMethodResponseExampleDescription=t.BlockApiMethodResponseExample=t.BlockApiMethodResponse=t.BlockApiMethodParameter=t.BlockApiMethodParameters=t.BlockApiMethodRequest=t.BlockApiMethodSpec=t.BlockApiMethodSummary=t.BlockApiMethodDescription=t.BlockApiMethod=void 0;var n=r(2377);var a=w(n);var o=r(2378);var i=w(o);var s=r(2379);var u=w(s);var c=r(2380);var l=w(c);var f=r(2381);var d=w(f);var v=r(2384);var h=w(v);var p=r(2385);var y=w(p);var g=r(2388);var m=w(g);var k=r(2389);var b=w(k);var O=r(2392);var E=w(O);var A=r(2393);var C=w(A);function w(e){return e&&e.__esModule?e:{default:e}}t.BlockApiMethod=a.default;t.BlockApiMethodDescription=i.default;t.BlockApiMethodSummary=d.default;t.BlockApiMethodSpec=m.default;t.BlockApiMethodRequest=l.default;t.BlockApiMethodParameters=h.default;t.BlockApiMethodParameter=y.default;t.BlockApiMethodResponse=u.default;t.BlockApiMethodResponseExample=b.default;t.BlockApiMethodResponseExampleDescription=E.default;t.getHTTPMethodColor=C.default}});