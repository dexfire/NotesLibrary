webpackJsonp([50],{198:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o;var a=r(0);var l=f(a);var i=r(26);var u=s(i);var c=r(1);function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=(o=n=function(e){d(t,e);function t(){p(this,t);return m(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.step,n=t.children,o=t.error;return l.createElement(c.Modal,{size:c.Modal.SIZES.large},l.createElement(u.default,{title:"Link your GitHub repository"}),l.createElement(c.Modal.Header,{primary:true},l.createElement(c.Modal.Title,null,"Link your GitHub repository"),l.createElement(c.Modal.Stepper,null,l.createElement(c.Modal.Stepper.Item,{completed:true},"Grant Access"),l.createElement(c.Modal.Stepper.Item,{completed:r>=2},"Select Repo"),l.createElement(c.Modal.Stepper.Item,{completed:r>=3},"Sync content"),l.createElement(c.Modal.Stepper.Item,null,"Go live"))),o&&l.createElement(c.Alert,{styles:[c.Alert.STYLES.danger]},o.message),n)};return t}(l.Component),n.defaultProps={error:null},o);t.default=h},199:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o;var a=r(0);var l=c(a);var i=r(2);var u=r(1);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=(o=n=function(e){p(t,e);function t(){var r,n,o;s(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(r=(n=f(this,e.call.apply(e,[this].concat(l))),n),n.onSelectBlock=function(){var e=n.props,t=e.value,r=e.onSelectBlock;r(t)},r),f(n,o)}t.prototype.render=function e(){var r=t.STYLES;var n=this.props,o=n.children,a=n.selected;return l.createElement(u.View,{role:"button",tabIndex:0,styles:[r.block,a&&r.selected],onClick:this.onSelectBlock},o)};return t}(l.Component),n.STYLES=i.StyleSheet.create({block:{background:u.colors.GREY_LIGHTEST,minHeight:170,border:"solid 1px "+u.colors.GREY_LIGHTER,color:u.colors.GREY_BASE,flex:"1 0 0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:u.spacing.S300,cursor:"pointer"},selected:{background:u.colors.BLUE_LIGHTEST,border:"solid 1px "+u.colors.BLUE_BASE,color:u.colors.BLUE_BASE}}),o);t.default=m},2739:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=d(n);var a=r(3);var l=r(1);var i=r(196);var u=m(i);var c=r(327);var s=m(c);var f=r(2740);var p=m(f);function m(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=function(e){y(t,e);function t(){h(this,t);return v(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.org,n=t.membership;var i=n.role==a.ROLES.ADMIN;return o.createElement(s.default,{org:r,membership:n,active:u.default.TABS.TEAMS},o.createElement(l.TabsPage.Header,null,o.createElement(l.TabsPage.Header.Desc,null,i?"You are administrator of this team, you can invite new team members or edit permissions.":"You are a member of this team, you can view other team members.")),o.createElement(p.default,{org:r,canAdmin:i}))};return t}(o.Component);t.default=b},2740:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o,a;var l=r(0);var i=E(l);var u=r(5);var c=r(3);var s=r(14);var f=r(10);var p=r(78);var m=r(2741);var d=r(835);var h=b(d);var v=r(2756);var y=b(v);function b(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=(n=f.Connectors.database(function(e){var t=e.org;return{members:c.Membership.queryByOrg(t.uid).setOptions({waitFetched:false}),teams:c.Team.queryByOrg(t.uid).setOptions({waitFetched:false})}}),o=(0,u.connect)(),(0,s.withRouterListen)(a=n(a=o(a=function(e){S(t,e);function t(){var r,n,o;w(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(r=(n=g(this,e.call.apply(e,[this].concat(l))),n),n.state={userPermissionsModal:null},n.onOpenMemberPermissionsModal=function(e){n.setState({userPermissionsModal:e.uid})},n.onCloseMemberPermissionsModal=function(){n.setState({userPermissionsModal:null})},n.onCreateTeam=function(){var e=n.props,t=e.dispatch,r=e.org;var o=c.Team.create({name:"New Team"});t((0,p.createTeam)(r,o));n.onExpandTeam(o)},n.onExpandTeam=function(e){var t=n.props,r=t.history,o=t.org;var a=e?"/"+e.uid:"";r.replace("/@"+o.baseDomain+"/teams"+a,{preventScroll:true})},r),g(n,o)}t.prototype.componentWillReceiveProps=function e(t){var r=this.state.userPermissionsModal;r&&!t.members.has(r)&&this.setState({userPermissionsModal:null})};t.prototype.render=function e(){var t=this;var r=this.props,n=r.org,o=r.teams,a=r.members,l=r.canAdmin,u=r.match;var c=this.state.userPermissionsModal;var s=o.size>0;var f=u.params.teamID&&o.get(u.params.teamID);return i.createElement(i.Fragment,null,c&&i.createElement(y.default,{org:n,teams:o,member:a.get(c),onClose:this.onCloseMemberPermissionsModal}),f?i.createElement(m.TeamPanelCollapsed,{members:a,onExpand:this.onExpandTeam}):i.createElement(m.TeamPanel,{org:n,members:a,canManagePermissions:s,canAdmin:l,onManageMemberPermissions:l&&this.onOpenMemberPermissionsModal}),o.map(function(e){return e===f?i.createElement(m.TeamPanel,{key:e.uid,org:n,team:e,members:a.filter(function(t){return t.teams.has(e.uid)}),canManagePermissions:s,canAdmin:l,onManageMemberPermissions:l&&t.onOpenMemberPermissionsModal}):i.createElement(m.TeamPanelCollapsed,{key:e.uid,team:e,members:a.filter(function(t){return t.teams.has(e.uid)}),onExpand:t.onExpandTeam})}).toArray(),l&&i.createElement(h.default,{onClick:this.onCreateTeam}))};return t}(i.Component))||a)||a)||a);t.default=O},2741:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TeamPanelCollapsed=t.TeamPanel=void 0;var n=r(2742);var o=i(n);var a=r(2755);var l=i(a);function i(e){return e&&e.__esModule?e:{default:e}}t.TeamPanel=o.default;t.TeamPanelCollapsed=l.default},2742:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o,a,l,i;var u=r(0);var c=B(u);var s=r(5);var f=r(2743);var p=L(f);var m=r(2);var d=r(14);var h=r(1);var v=r(78);var y=r(2746);var b=L(y);var E=r(2747);var w=L(E);var g=r(2748);var S=L(g);var O=r(942);var _=L(O);var C=r(2749);var P=L(C);var T=r(2750);var M=L(T);var x=r(2751);var R=L(x);var j=r(2752);var I=L(j);function L(e){return e&&e.__esModule?e:{default:e}}function B(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function H(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var D=3;var G=6*D;var N=(n=(0,s.connect)(),(0,d.withRouterListen)(o=n(o=(l=a=function(e){H(t,e);function t(){var r,n,o;k(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(r=(n=A(this,e.call.apply(e,[this].concat(l))),n),n.state={activeFilter:"all",query:"",isPermissionsModalOpen:false,isInviteModalOpen:false,membersLimit:G},n.onChangeFilter=function(e){n.setState({activeFilter:e,membersLimit:G})},n.onChangeQuery=function(e){n.setState({query:e,membersLimit:G})},n.onOpenPermissionsModal=function(){n.setState({isPermissionsModalOpen:true})},n.onClosePermissionsModal=function(){n.setState({isPermissionsModalOpen:false})},n.onOpenInviteModal=function(){n.setState({isInviteModalOpen:true})},n.onCloseInviteModal=function(){n.setState({isInviteModalOpen:false})},n.onChangeName=function(e){var t=n.props,r=t.org,o=t.team,a=t.dispatch;if(!o||!e)return;a((0,v.updateTeamName)(r,o.set("name",e)))},n.onEditName=function(){n.nameInput&&n.nameInput.focus()},n.onDelete=function(){var e=n.props,t=e.dispatch,r=e.history,o=e.org,a=e.team;if(!a)return;if(window.confirm('Do you really want to delete the team "'+a.name+'"?')){t((0,v.deleteTeam)(o,a));r.replace("/@"+o.baseDomain+"/teams",{preventScroll:true})}},n.onIncreaseMembersLimit=function(){n.setState(function(e){var t=e.membersLimit;return{membersLimit:t+2*D}})},r),A(n,o)}t.prototype.componentDidMount=function e(){var t=this.props,r=t.team,n=t.match.params.teamID;(r&&n===r.uid||!r&&!n)&&(0,p.default)(this.container)};t.prototype.render=function e(){var r=this;var n=t.STYLES;var o=this.props,a=o.org,l=o.team,i=o.canAdmin,u=o.onManageMemberPermissions,s=o.canManagePermissions;var f=this.state,p=f.activeFilter,m=f.query,d=f.isPermissionsModalOpen,v=f.isInviteModalOpen,y=f.membersLimit;var E=S.default.FILTERS.filter(function(e,t){return"all"===t||r.props.members.some(function(e){var r=l?e.teams.get(l.uid).role:e.role;return r===t})});var g=this.props.members.size;var O="all"===p?this.props.members:this.props.members.filter(function(e){var t=l?e.teams.get(l.uid).role:e.role;return t===p});var _=O.slice(0,y);return c.createElement(c.Fragment,null,d&&c.createElement(R.default,{org:a,team:l,onClose:this.onClosePermissionsModal}),v&&c.createElement(I.default,{org:a,team:l,onClose:this.onCloseInviteModal}),c.createElement(h.Panel,{elementRef:function e(t){r.container=t}},c.createElement(h.Panel.Header,null,c.createElement(h.Panel.Header.Left,null,c.createElement(h.Panel.Header.Title,null,l&&i&&c.createElement(b.default,{onChange:this.onChangeName,value:l.name,ref:function e(t){r.nameInput=t}}),l&&!i&&l.name,!l&&"All members")),c.createElement(h.Panel.Header.Right,null,g>0&&E.size>2&&c.createElement(S.default,{value:p,onChange:this.onChangeFilter,filters:E}),g>0&&false,l&&i&&c.createElement(h.View,{styles:[h.View.MARGIN.S300Left,n.teamPanelControls]},c.createElement(w.default,{onEditName:this.onEditName,onDelete:this.onDelete})))),g>0?c.createElement(h.InfiniteScroll,{component:h.Panel.Body,styles:[h.Scrollable.STYLES.withScrollbar,n.teamPanelMembers],onTrigger:this.onIncreaseMembersLimit},c.createElement(h.View,{styles:[n.teamPanelMembersGrid]},_.map(function(e){return c.createElement(h.View,{key:e.uid,styles:[h.View.PADDING.S400Top,n.teamPanelMembersGridItem]},c.createElement(P.default,{team:l,org:a,member:e,onManageMemberPermissions:u}))}).toArray())):c.createElement(h.Panel.Body,null,c.createElement(M.default,{canAdmin:i,onOpenInviteModal:this.onOpenInviteModal})),g>0&&c.createElement(h.Panel.Footer,null,c.createElement(h.Panel.Footer.Hint,null,1===g?g+" member":g+" members",!l&&" - This is your default team containing all organization members"),i&&c.createElement(h.Panel.Footer.Controls,null,s&&c.createElement(h.Button,{kind:"link",onClick:this.onOpenPermissionsModal},"Setup team permissions"),c.createElement(h.Button,{onClick:this.onOpenInviteModal},l?"Add members":"Invite new members")))))};return t}(c.Component),a.defaultProps={team:null},a.STYLES=m.StyleSheet.create({teamPanelControls:{display:"flex",alignItems:"center"},teamPanelMembers:{maxHeight:400},teamPanelMembersGrid:{display:"flex",flexWrap:"wrap",marginTop:-h.spacing.S400},teamPanelMembersGridItem:(i={width:"100%"},i["@media "+h.MEDIA.TABLET]={width:"33.33%"},i)}),l))||o)||o);t.default=N},2743:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=function(e,t,r,n){if(!e)throw new Error("Element is required in scrollIntoViewIfNeeded");function a(e,r,n,o){return false===t||n<=e+o&&e<=r+o?Math.min(n,Math.max(r,e)):(r+n)/2}function l(e,t,r,n){return{left:e,top:t,width:r,height:n,right:e+r,bottom:t+n,translate:function o(a,i){return l(a+e,i+t,r,n)},relativeFromTo:function o(a,i){var c=e,s=t;a=a.offsetParent;i=i.offsetParent;if(a===i)return u;for(;a;a=a.offsetParent){c+=a.offsetLeft+a.clientLeft;s+=a.offsetTop+a.clientTop}for(;i;i=i.offsetParent){c-=i.offsetLeft+i.clientLeft;s-=i.offsetTop+i.clientTop}return l(c,s,r,n)}}}var i,u=l(e.offsetLeft,e.offsetTop,e.offsetWidth,e.offsetHeight);while((i=e.parentNode)instanceof HTMLElement&&e!==n){var c=i.offsetLeft+i.clientLeft;var s=i.offsetTop+i.clientTop;u=u.relativeFromTo(e,i).translate(-c,-s);var f=a(i.scrollLeft,u.right-i.clientWidth,u.left,i.clientWidth);var p=a(i.scrollTop,u.bottom-i.clientHeight,u.top,i.clientHeight);if(r)(0,o.default)(i,{scrollLeft:f,scrollTop:p},r);else{i.scrollLeft=f;i.scrollTop=p}u=u.translate(c-i.scrollLeft,s-i.scrollTop);e=i}};var n=r(2744);var o=a(n);function a(e){return e&&e.__esModule?e:{default:e}}},2746:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o;var a=r(0);var l=p(a);var i=r(2);var u=r(100);var c=f(u);var s=r(1);function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=(o=n=function(e){h(t,e);function t(){var r,n,o;m(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(r=(n=d(this,e.call.apply(e,[this].concat(l))),n),n.focus=function(){return n.input.focus()},n.onFocus=function(){n.input.select()},r),d(n,o)}t.prototype.render=function e(){var r=this;var n=t.STYLES;var o=this.props,a=o.onChange,u=o.value;return l.createElement(c.default,{component:s.AutosizeInput,inputClassName:(0,i.css)(n.input),onFocus:this.onFocus,onChange:a,value:u,placeholder:"Team Name",ref:function e(t){r.input=t}})};return t}(l.Component),n.STYLES=i.StyleSheet.create({input:{cursor:"pointer",font:"inherit",color:"inherit",padding:0,border:0,borderRadius:s.boxes.RADIUS_NORMAL,background:"transparent",minWidth:240,maxWidth:"100%",":focus":{cursor:"auto",border:"1px solid "+s.colors.GREY_LIGHT,padding:"0 "+s.spacing.S100+"px"}}}),o);t.default=v},2747:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=i(n);var a=r(1);var l=r(7);function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){s(t,e);function t(){u(this,t);return c(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.onEditName,n=t.onDelete;return o.createElement(a.Popover.Portal,{openByClickOn:o.createElement(a.Panel.Control,null,o.createElement(l.IconEllipsisH,null))},o.createElement(a.Popover,null,o.createElement(a.Menu,null,o.createElement(a.Menu.Item,{icon:o.createElement(l.IconPencil,null),onClick:r},"Edit Name"),o.createElement(a.Menu.Item,{icon:o.createElement(l.IconTrashcan,null),onClick:n},"Delete"))))};return t}(o.Component);t.default=f},2748:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o,a,l,i;var u=r(0);var c=d(u);var s=r(6);var f=r(2);var p=r(3);var m=r(1);function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=(o=n=function(e){y(t,e);function t(){var r,n,o;h(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(r=(n=v(this,e.call.apply(e,[this].concat(l))),n),n.onClick=function(){var e=n.props,t=e.onClick,r=e.filter;t(r)},r),v(n,o)}t.prototype.render=function e(){var r=t.STYLES;var n=this.props,o=n.isActive,a=n.children;return c.createElement(m.Text.UIH200,{styles:[r.teamFilter,o&&r.teamFilterActive],onClick:this.onClick,role:"button",tabIndex:0},a)};return t}(c.Component),n.STYLES=f.StyleSheet.create({teamFilter:{cursor:"pointer",color:m.colors.GREY_DARK,marginLeft:m.spacing.S200,":hover":{color:m.colors.BLUE_BASE}},teamFilterActive:{color:m.colors.BLUE_BASE}}),o);var E=(l=a=function(e){y(t,e);function t(){h(this,t);return v(this,e.apply(this,arguments))}t.prototype.render=function e(){var r=t.STYLES;var n=this.props,o=n.value,a=n.onChange,l=n.filters;return c.createElement(m.View,{styles:[r.teamFilters]},l.map(function(e,t){return c.createElement(b,{key:t,filter:t,onClick:a,isActive:t===o},e)}).toArray())};return t}(c.Component),a.FILTERS=(0,s.OrderedMap)([["all","All"],[p.ROLES.WRITER,"Writer"],[p.ROLES.READER,"Reader"],[p.ROLES.ADMIN,"Admin"]]),a.STYLES=f.StyleSheet.create({teamFilters:(i={},i["@media "+m.MEDIA.SMALLER_THAN_TABLET]={display:"none"},i)}),l);t.default=E},2749:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o,a,l,i;var u=r(0);var c=v(u);var s=r(2);var f=r(3);var p=r(14);var m=r(10);var d=r(1);var h=r(153);function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=(n={},n[f.ROLES.ADMIN]="Admin",n[f.ROLES.WRITER]="Writer",n[f.ROLES.READER]="Reader",n);var g=(o=m.Connectors.database(function(e){var t=e.member;return{user:f.User.queryByID(t.uid).defaultsTo(h.mockedUser)}}),o(a=(i=l=function(e){E(t,e);function t(){var r,n,o;y(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(r=(n=b(this,e.call.apply(e,[this].concat(l))),n),n.state={isHover:false},n.onMouseEnter=function(){n.setState({isHover:true})},n.onMouseLeave=function(){n.setState({isHover:false})},n.onOpenModal=function(){var e=n.props,t=e.onManageMemberPermissions,r=e.member;t&&t(r)},r),b(n,o)}t.prototype.render=function e(){var r=t.STYLES;var n=this.props,o=n.user,a=n.team,l=n.member,i=n.onManageMemberPermissions,u=n.org;var s=this.state.isHover;var f=a?l.teams.get(a.uid).role:l.role;var m=Boolean(i);return c.createElement(d.View,{styles:[r.teamPanelMember,m&&r.teamPanelMemberClickable],onClick:this.onOpenModal,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,role:"button",tabIndex:0},c.createElement(p.UserAvatar,{user:o,styles:[p.UserAvatar.STYLES.sizeLG],withTooltip:false}),c.createElement(d.View,{styles:[r.teamPanelMemberContent]},c.createElement(d.View,{styles:[r.teamPanelMemberName,m&&s&&r.teamPanelMemberNameHover]},c.createElement(d.Text.UIH400,null,o.displayName)),c.createElement(d.View,{styles:[r.teamPanelMemberRole]},u.isOwner(o.uid)?c.createElement(d.Badge,{styles:r.badgePrimaryOwnerColor},"Owner"):c.createElement(d.Text.UIH200,null,w[f]))))};return t}(c.Component),l.STYLES=s.StyleSheet.create({teamPanelMember:{display:"flex",alignItems:"center"},teamPanelMemberClickable:{cursor:"pointer"},teamPanelMemberContent:{flex:1,paddingLeft:d.spacing.S200},teamPanelMemberName:{},teamPanelMemberNameHover:{color:d.colors.BLUE_BASE},teamPanelMemberRole:{color:d.colors.GREY_BASE},badgePrimaryOwnerColor:{background:d.colors.BLUE_BASE}}),i))||a);t.default=g},2750:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o;var a=r(0);var l=c(a);var i=r(2);var u=r(1);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=(o=n=function(e){p(t,e);function t(){s(this,t);return f(this,e.apply(this,arguments))}t.prototype.render=function e(){var r=t.STYLES;var n=this.props,o=n.canAdmin,a=n.onOpenInviteModal;return l.createElement(l.Fragment,null,o?l.createElement(u.View,{styles:[r.teamBlankslate]},l.createElement(u.View,{styles:[u.View.MARGIN.S200Bottom,r.teamBlankslateText]},l.createElement(u.Text,null,"Invite others to join this team.",l.createElement("br",null),"You can invite them as writers, readers or admins.")),l.createElement(u.View,{styles:[r.teamBlankslateButton]},l.createElement(u.Button,{onClick:a},"Add members"))):l.createElement(u.View,{styles:[r.teamBlankslateText]},l.createElement(u.Text,null,"No members.")))};return t}(l.Component),n.STYLES=i.StyleSheet.create({teamBlankslate:{textAlign:"center",paddingTop:120,paddingBottom:120},teamBlankslateText:{color:u.colors.GREY_DARK},teamBlankslateButton:{}}),o);t.default=m},2751:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o,a,l,i,u,c,s,f,p;var m=r(0);var d=P(m);var h=r(5);var v=r(2);var y=r(7);var b=r(3);var E=r(1);var w=r(14);var g=r(10);var S=r(153);var O=r(521);var _=C(O);function C(e){return e&&e.__esModule?e:{default:e}}function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R=(n=g.Connectors.database(function(e){var t=e.org;return{orgSpaces:b.OrgSpace.queryByOrg(t.uid).setOptions({waitFetched:false})}}),o=(0,h.connect)(),n(a=o(a=(i=l=function(e){x(t,e);function t(){T(this,t);return M(this,e.apply(this,arguments))}t.prototype.render=function e(){var r=this.props,n=r.onClose,o=r.org,a=r.team,l=r.orgSpaces;var i=t.STYLES;return d.createElement(E.Popup,{onClose:n},d.createElement(E.Modal,{size:E.Modal.SIZES.small},d.createElement(E.Modal.Header,null,d.createElement(E.Modal.Title,null,a?a.name+" permissions":"All members permissions")),d.createElement(E.Modal.Body,{styles:[i.spacePermissions]},d.createElement(_.default,null,d.createElement(_.default.Head,null,d.createElement(_.default.Row,{styles:[i.header]},d.createElement(_.default.Cell,{styles:[i.spacePermissionsHint]},d.createElement(E.Text.TextH300,null,"You can define access control for each of this spaces.")))),d.createElement(_.default.Body,null,l.toList().map(function(e){return d.createElement(j,{org:o,key:e.spaceID,orgSpace:e})})))),d.createElement(E.Modal.Footer,null,d.createElement(E.View,null,d.createElement(E.Button,{kind:"cancel",onClick:n},"Cancel")),d.createElement(E.View,null))))};return t}(d.Component),l.STYLES=v.StyleSheet.create({spacePermissions:{paddingTop:0,paddingLeft:0,paddingRight:0,paddingBottom:0,marginBottom:-1},header:{paddingLeft:E.spacing.S300,paddingBottom:E.spacing.S100,paddingTop:E.spacing.S400,color:E.colors.GREY_BASE},spacePermissionsHint:{paddingTop:0,paddingBottom:0}}),i))||a)||a);var j=(u=(0,h.connect)(),c=g.Connectors.database(function(e){var t=e.orgSpace;return{space:b.Space.queryByID(t.spaceID).defaultsTo(S.mockedSpace)}}),u(s=c(s=(p=f=function(e){x(t,e);function t(){var r,n,o;T(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(r=(n=M(this,e.call.apply(e,[this].concat(l))),n),n.redirectToSpace=function(){var e=n.props,t=e.org,r=e.space,o=e.dispatch;o(g.Flux.auth.redirectToSpace({org:t,space:r,pathname:"~/settings/teams"}))},r),M(n,o)}t.prototype.render=function e(){var r=t.STYLES;var n=this.props.space;return d.createElement(_.default.Row,{key:n.uid,onClick:this.redirectToSpace,styles:[E.View.PADDING.S300Horizontal,r.space]},d.createElement(_.default.Cell,null,d.createElement(E.View,{styles:[E.View.MARGIN.S200Right]},d.createElement(w.SpaceAvatar,{space:n,styles:[w.SpaceAvatar.STYLES.sizeMD]})),d.createElement(E.Text,null,n.name)),d.createElement(_.default.Cell,null,d.createElement(E.View,{styles:[r.icon]},d.createElement(y.IconChevronRight,null))))};return t}(d.Component),f.STYLES=v.StyleSheet.create({space:{cursor:"pointer",":hover":{boxShadow:E.boxes.SHADOW_LOW}},icon:{textAlign:"right",color:E.colors.GREY_BASE}}),p))||s)||s);t.default=R},2755:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o,a;var l=r(0);var i=f(l);var u=r(2);var c=r(14);var s=r(1);function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=(o=n=function(e){d(t,e);function t(){var r,n,o;p(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(r=(n=m(this,e.call.apply(e,[this].concat(l))),n),n.onExpand=function(){var e=n.props,t=e.team,r=e.onExpand;r(t)},r),m(n,o)}t.prototype.render=function e(){var r=t.STYLES;var n=this.props,o=n.team,a=n.members;return i.createElement(s.Panel,null,i.createElement(s.Panel.Header,{onClick:this.onExpand},i.createElement(s.Panel.Header.Left,null,i.createElement(s.Panel.Header.Title,null,o?o.name:"All members"),i.createElement(s.Panel.Header.Hint,null,1!==a.size?a.size+" members":a.size+" member")),i.createElement(s.Panel.Header.Right,null,i.createElement(c.UserAvatar.List,{userIDs:a.slice(0,3).map(function(e){return e.uid}).toArray(),styles:[r.avatars],withTooltip:false}),i.createElement(s.Panel.Toggle,{styles:[s.View.MARGIN.S300Left],isCollapsed:true}))))};return t}(i.Component),n.defaultProps={team:null},n.STYLES=u.StyleSheet.create({avatars:(a={},a["@media "+s.MEDIA.SMALLER_THAN_TABLET]={display:"none"},a)}),o);t.default=h},2756:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o,a,l,i;var u=r(0);var c=_(u);var s=r(5);var f=r(2);var p=r(3);var m=r(14);var d=r(10);var h=r(1);var v=r(78);var y=r(521);var b=O(y);var E=r(2757);var w=O(E);var g=r(2758);var S=O(g);function O(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function T(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var M=function(e){T(t,e);function t(){var r,n,o;C(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(r=(n=P(this,e.call.apply(e,[this].concat(l))),n),n.onClickNone=function(){var e=n.props,t=e.team,r=e.onChangeRole;r(t,null)},n.onToggleReader=function(){var e=n.props,t=e.team,r=e.role,o=e.onChangeRole;o(t,r===p.ROLES.READER?null:p.ROLES.READER)},n.onToggleWriter=function(){var e=n.props,t=e.team,r=e.role,o=e.onChangeRole;o(t,r===p.ROLES.WRITER?null:p.ROLES.WRITER)},n.onToggleAdmin=function(){var e=n.props,t=e.team,r=e.role,o=e.onChangeRole;o(t,r===p.ROLES.ADMIN?null:p.ROLES.ADMIN)},r),P(n,o)}t.prototype.render=function e(){var t=this.props,r=t.team,n=t.role;return c.createElement(b.default.Row,null,c.createElement(b.default.Cell,null,r?r.name:"All members"),c.createElement(b.default.Cell,null,r&&c.createElement(h.Form.Radio,{type:"checkbox",onChange:this.onClickNone,checked:null===n})),c.createElement(b.default.Cell,null,c.createElement(h.Form.Radio,{type:"checkbox",onChange:this.onToggleReader,checked:n===p.ROLES.READER})),c.createElement(b.default.Cell,null,c.createElement(h.Form.Radio,{type:"checkbox",onChange:this.onToggleWriter,checked:n===p.ROLES.WRITER})),c.createElement(b.default.Cell,null,c.createElement(h.Form.Radio,{type:"checkbox",onChange:this.onToggleAdmin,checked:n===p.ROLES.ADMIN})))};return t}(c.Component);var x=(n=d.Connectors.database(function(e){var t=e.member;return{user:p.User.queryByID(t.uid)}}),o=(0,s.connect)(function(e){var t=e.user;return{connectedUser:t}}),n(a=o(a=(i=l=function(e){T(t,e);function t(){var r,n,o;C(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(r=(n=P(this,e.call.apply(e,[this].concat(l))),n),n.state={confirmSetOwnerModal:false},n.onRemoveMember=function(){var e=n.props,t=e.dispatch,r=e.org,o=e.member,a=e.user;window.confirm("Do you really want to remove "+a.displayName+" from the organization ?")&&t((0,v.removeMember)(r,o))},n.onOpenConfirmSetOwnerModal=function(){n.setState({confirmSetOwnerModal:true})},n.onCloseConfirmSetOwnerModal=function(){n.setState({confirmSetOwnerModal:false})},n.onSetPrimaryOwner=function(){var e=n.props,t=e.org,r=e.member,o=e.dispatch,a=e.onClose;r.role!==p.ROLES.ADMIN&&o((0,v.updateMemberRole)(t,r,p.ROLES.ADMIN));o((0,v.transferOwnership)(t,r));n.setState({confirmSetOwnerModal:false});a()},n.onChangeRole=function(e,t){var r=n.props,o=r.org,a=r.user,l=r.member,i=r.dispatch;if(e){var u=t?l.teams.set(e.uid,p.TeamMembership.create({role:t})):l.teams.delete(e.uid);var c=l.set("teams",u);i((0,v.updateMemberTeams)(o,c));return}if(null==t)return;if(l.role===p.ROLES.ADMIN&&t!==p.ROLES.ADMIN&&!window.confirm("Downgrading "+a.displayName+" to a "+t+" will revoke all their admin rights."))return;i((0,v.updateMemberRole)(o,l,t))},r),P(n,o)}t.prototype.render=function e(){var r=this;var n=t.STYLES;var o=this.props,a=o.connectedUser,l=o.user,i=o.member,u=o.teams,s=o.onClose,f=o.org;var p=this.state.confirmSetOwnerModal;if(p)return c.createElement(S.default,{onClose:s,user:l,onSetPrimaryOwner:this.onSetPrimaryOwner,onCloseModal:this.onCloseConfirmSetOwnerModal});return c.createElement(h.Popup,{onClose:s},c.createElement(h.Modal,{size:h.Modal.SIZES.small},c.createElement(h.Modal.Header,null,c.createElement(h.View,{styles:[n.userCard]},c.createElement(m.UserAvatar,{user:l,styles:[m.UserAvatar.STYLES.sizeLG],withTooltip:false}),c.createElement(h.View,{styles:[n.userCardContent]},c.createElement(h.View,{styles:[n.userCardName]},c.createElement(h.Text.UIH400,null,l.displayName)),c.createElement(h.View,{styles:[n.userCardHint]},c.createElement(h.Text.UIH200,null,"Manage user permissions for each team."))),c.createElement(h.View,null,f.isOwner(l.uid)&&c.createElement(h.Badge,{styles:n.badgePrimaryOwnerColor},"Owner"),i.uid!==a.uid&&f.createdBy!==i.uid&&c.createElement(w.default,{onRemoveUser:this.onRemoveMember,onClickSetOwner:this.onOpenConfirmSetOwnerModal,canSuperAdmin:f.canSuperAdmin(a)})))),c.createElement(h.Modal.Body,{styles:[n.body]},c.createElement(b.default,null,c.createElement(b.default.Head,null,c.createElement(b.default.Row,null,c.createElement(b.default.Cell,null,c.createElement(b.default.Label,null,"Teams")),c.createElement(b.default.Cell,null,c.createElement(b.default.Label,null,"None")),c.createElement(b.default.Cell,null,c.createElement(b.default.Label,null,"Reader")),c.createElement(b.default.Cell,null,c.createElement(b.default.Label,null,"Writer")),c.createElement(b.default.Cell,null,c.createElement(b.default.Label,null,"Admin")))),c.createElement(b.default.Body,null,i.uid!==a.uid&&i.uid!==f.createdBy&&c.createElement(M,{role:i.role,onChangeRole:this.onChangeRole}),u.map(function(e){return c.createElement(M,{key:e.uid,team:e,role:i.teams.has(e.uid)?i.teams.get(e.uid).role:null,onChangeRole:r.onChangeRole})}).toArray()))),c.createElement(h.Modal.Footer,null,c.createElement(h.View,null,c.createElement(h.Button,{kind:"cancel",onClick:s},"Close")))))};return t}(c.Component),l.STYLES=f.StyleSheet.create({body:{paddingLeft:0,paddingRight:0,paddingBottom:0,marginBottom:-1},userCard:{display:"flex",alignItems:"center"},userCardContent:{flex:1,paddingLeft:h.spacing.S200},userCardName:{},userCardHint:{color:h.colors.GREY_BASE},badgePrimaryOwnerColor:{background:h.colors.BLUE_BASE}}),i))||a)||a);t.default=x},2757:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o;var a=r(0);var l=s(a);var i=r(2);var u=r(1);var c=r(7);function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=(o=n=function(e){m(t,e);function t(){f(this,t);return p(this,e.apply(this,arguments))}t.prototype.render=function e(){var r=this.props,n=r.onRemoveUser,o=r.onClickSetOwner,a=r.canSuperAdmin;var i=t.STYLES;return l.createElement(u.Popover.Portal,{openByClickOn:l.createElement(u.View,{styles:[i.controls]},l.createElement(c.IconEllipsisH,null))},l.createElement(u.Popover,{align:"end"},l.createElement(u.Menu,null,l.createElement(u.Menu.Item,{icon:l.createElement(c.IconUserMinus,null),onClick:n},"Remove from organization"),true===a&&l.createElement(u.Menu.Item,{icon:l.createElement(c.IconUserCheck,null),onClick:o},"Define as owner"))))};return t}(l.Component),n.defaultProps={canSuperAdmin:false},n.STYLES=i.StyleSheet.create({controls:{":hover":{cursor:"pointer",color:u.colors.BLUE_BASE}}}),o);t.default=d},2758:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o;var a=r(0);var l=s(a);var i=r(2);var u=r(1);var c=r(3);function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=(o=n=function(e){m(t,e);function t(){f(this,t);return p(this,e.apply(this,arguments))}t.prototype.render=function e(){var r=t.STYLES;var n=this.props,o=n.user,a=n.onClose,i=n.onCloseModal,c=n.onSetPrimaryOwner;return l.createElement(u.Popup,{onClose:a},l.createElement(u.Modal,{size:u.Modal.SIZES.small},l.createElement(u.Modal.Header,null,l.createElement(u.Modal.Title,null,"Owner")),l.createElement(u.Modal.Body,{styles:[r.userCardHint]},l.createElement(u.Text,null,"Are you sure you want to define ",o.displayName," ","as owner ?")),l.createElement(u.Modal.Footer,null,l.createElement(u.View,null,l.createElement(u.Button,{kind:"cancel",onClick:i},"Cancel")),l.createElement(u.View,null,l.createElement(u.Button,{onClick:c},"Confirm")))))};return t}(l.Component),n.STYLES=i.StyleSheet.create({userCardHint:{color:u.colors.GREY_BASE}}),o);t.default=d},2761:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o;var a=r(0);var l=m(a);var i=r(1);var u=r(10);var c=r(3);var s=r(522);var f=p(s);function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=(n=u.Connectors.database(function(e){var t=e.domain;return{customDomain:t?c.CustomDomain.queryByDomain(t).setOptions({placeholder:false,waitFetched:false}):null}}),n(o=function(e){v(t,e);function t(){var r,n,o;d(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(r=(n=h(this,e.call.apply(e,[this].concat(l))),n),n.state={pristine:true},n.onDomainChange=function(e){var t=n.props.onDomainChange;t(e.target.value)},n.onBlur=function(){n.setState({pristine:false})},r),h(n,o)}t.prototype.componentDidMount=function e(){this.input&&this.input.focus()};t.prototype.render=function e(){var t=this;var r=this.props,n=r.onNext,o=r.onPrevious,a=r.onCancel,u=r.spacePreview,s=r.org,p=r.space,m=r.domain,d=r.initialDomain,h=r.customDomain,v=r.customDomainFetched,y=r.onDelete;var b=this.state.pristine;var E=c.Organization.validateCustomDomain(m);var w=h&&(p?h.spaceID===p.uid:!h.spaceID&&h.orgID===s.uid);var g=v&&(!h||h.deprecated||w);var S=null;m&&!E?S=new Error("Invalid custom domain"):m&&!g&&(S=new Error("Domain is already taken"));return l.createElement(f.default,{step:1,onNext:n,onPrevious:o,onCancel:a,spacePreview:u,nextDisabled:!g||!E},l.createElement(i.Form,null,l.createElement(i.Form.Group,{title:p?"Space Domain":"Organization Domain",hint:d&&l.createElement(i.Link,{kind:"primary",onClick:y},"Delete custom domain"),error:!b&&S},l.createElement(i.Form.Input,{inputRef:function e(r){t.input=r},value:m,onChange:this.onDomainChange,onBlur:this.onBlur,placeholder:"Ex: acme.io"},l.createElement(i.Form.InputAddOn,{prefix:true},"https://")),l.createElement(i.Form.Hint,null,p?l.createElement("span",null,"Enter the exact domain name you want people to see when they visit your space. It should be a subdomain (docs.yourdomain.com)"):l.createElement("span",null,"Enter the exact domain name you want people to access your spaces under. It should be a subdomain (docs.yourdomain.com)")))))};return t}(l.Component))||o);t.default=y},2762:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o,a;var l=r(0);var i=y(l);var u=r(5);var c=r(7);var s=r(1);var f=r(10);var p=r(946);var m=v(p);var d=r(522);var h=v(d);function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g="\n    query domainCheck($domain: String!) {\n      domain(domain: $domain) {\n    \tstatus\n  \t  }\n    }\n";var S=(n=(0,u.connect)(function(e){var t=e.config,r=e.user;return{config:t,authHeader:r.authorizationHeader}}),o=f.Connectors.graphQL(function(e){var t=e.config,r=e.authHeader,n=e.domain;return{status:{url:t.urls.api,query:g,operationName:"domainCheck",headers:{Authorization:r},variables:{domain:n},mapState:function e(t){var r=t.data;return r&&r.domain?r.domain.status:null},background:true}}}),n(a=o(a=function(e){w(t,e);function t(){b(this,t);return E(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.status,n=t.onNext,o=t.onPrevious,a=t.onCancel,l=t.spacePreview;return i.createElement(h.default,{step:3,onNext:n,onPrevious:o,onCancel:a,spacePreview:l,nextDisabled:"success"!==r},i.createElement(s.Form.Hint,null,"Add this CNAME record to your domain by visiting your DNS provider or registrar."),i.createElement(O,{status:r}))};return t}(i.Component))||a)||a);var O=function(e){w(t,e);function t(){b(this,t);return E(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props.status;if("wrong_cname"===t||"no_cname"===t)return i.createElement(m.default,{status:"warning",icon:i.createElement(c.IconAlert,null)},"The domain is not pointing to hosting.gitbook.com,\n                            or the changes haven't been propagated yet");if("success"===t)return i.createElement(m.default,{status:"success",icon:i.createElement(c.IconCheckCircle,null)},"All good! Your DNS are correctly configured.");return i.createElement(m.default,{status:"pending",icon:i.createElement(s.Loading,null)},"We are checking your DNS configuration.")};return t}(i.Component);t.default=S},2763:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var a=r(1);var l=r(946);var i=s(l);var u=r(522);var c=s(u);function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){d(t,e);function t(){p(this,t);return m(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.onNext,n=t.onPrevious,l=t.onCancel,u=t.spacePreview;return o.createElement(c.default,{step:2,onNext:r,onPrevious:n,onCancel:l,spacePreview:u},o.createElement(a.Form.Hint,null,"Add this CNAME record to your domain by visiting your DNS provider or registrar."),o.createElement(i.default,{status:"pending",icon:o.createElement("b",null,"CNAME")},"hosting.gitbook.com"))};return t}(o.Component);t.default=h},2788:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(2789);var o=a(n);function a(e){return e&&e.__esModule?e:{default:e}}t.default=o.default},2789:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o,a,l;var i=r(0);var u=b(i);var c=r(5);var s=r(2);var f=r(1);r(3);var p=r(7);var m=r(2790);var d=y(m);var h=r(198);var v=y(h);function y(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=(n=(0,c.connect)(),n(o=(l=a=function(e){g(t,e);function t(){var r,n,o;E(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(r=(n=w(this,e.call.apply(e,[this].concat(l))),n),n.state={selectedOrg:null,selectedRepo:null,error:null,query:""},n.onError=function(e){return n.setState({error:e})},n.onSelectOrg=function(e){return n.setState({selectedOrg:e})},n.onSelectRepo=function(e){return n.setState({selectedRepo:e})},n.onClearQuery=function(){n.setState({query:""})},n.onSearchChange=function(e){n.setState({query:e.target.value,selectedRepo:null,selectedOrg:null})},n.onSubmit=function(){var e=n.props.onNext;var t=n.state.selectedRepo;t&&e({repoID:t.owner.login+"/"+t.name})},r),w(n,o)}t.prototype.componentDidMount=function e(){var t=this.props.updateNbBranches;this.input&&this.input.focus();t(0)};t.prototype.render=function e(){var r=this;var n=this.props,o=n.onPrev,a=n.onCancel,l=n.githubConfig;var i=this.state,c=i.selectedOrg,m=i.selectedRepo,h=i.query,y=i.error;var b=t.STYLES;return u.createElement(v.default,{step:2,error:y},u.createElement(f.Modal.Body,null,u.createElement(f.View,{styles:[b.flexColumn]},u.createElement(f.View,null,u.createElement(f.Text.HeadingH600,null,"Select a repository to synchronize"),u.createElement(f.View,{styles:[b.flexRow]},u.createElement(f.View,null,u.createElement(f.Text,{styles:[b.text]},"You must have administrator rights on that repository")),u.createElement(f.View,{styles:[b.searchInput]},u.createElement(f.Form.Input,{styles:[b.searchInputInner],stylesInner:[b.searchInputInner],inputRef:function e(t){r.input=t},value:h,onChange:this.onSearchChange,placeholder:"Search Repo"},u.createElement(f.Form.InputAddOn,{styles:[b.searchIcon],prefix:true},u.createElement(p.IconSearch,null)),u.createElement(f.Form.InputAddOn,{styles:[b.crossIcon],prefix:false},""!==h&&u.createElement("span",{role:"button",tabIndex:-1,className:(0,s.css)(b.crossIconInner),onClick:this.onClearQuery},u.createElement(p.IconXCircle,null))))))),u.createElement(d.default,{githubConfig:l,query:h,selectedOrg:c,selectedRepo:m,onError:this.onError,onSelectOrg:this.onSelectOrg,onSelectRepo:this.onSelectRepo}))),u.createElement(f.Modal.StepperFooter,{onCancel:a,onPrev:o,onNext:this.onSubmit,nextDisabled:!m}))};return t}(u.Component),a.STYLES=s.StyleSheet.create({flexColumn:{display:"flex",flexDirection:"column"},flexRow:{display:"flex",marginBottom:f.spacing.S300},searchInput:{maxWidth:300,marginLeft:"auto"},searchInputInner:{fontSize:14,fontWeight:500,height:28},text:{color:f.colors.GREY_BASE},searchIcon:{padding:"5px 0 5px 5px"},crossIcon:{minWidth:20,padding:"5px 5px 5px 0"},crossIconInner:{cursor:"pointer"}}),l))||o);t.default=S},2790:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var a=r(1);r(3);var l=r(2791);var i=s(l);var u=r(2792);var c=s(u);function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function p(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,a){try{var l=t[o](a);var i=l.value}catch(e){r(e);return}if(!l.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}return n("next")})}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=function(e){h(t,e);function t(){var r=this;var n,o,a;m(this,t);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return a=(n=(o=d(this,e.call.apply(e,[this].concat(u))),o),o.state={repos:null,orgs:null},o.fetchRepos=p(regeneratorRuntime.mark(function e(){var t,n,a,l,u,c;return regeneratorRuntime.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:t=o.props,n=t.onError,a=t.githubConfig.token;r.prev=1;r.next=4;return(0,i.default)(a);case 4:l=r.sent;u=l.repos;c=l.orgs;o.setState({repos:u,orgs:c});r.next=13;break;case 10:r.prev=10;r.t0=r["catch"](1);n(r.t0);case 13:case"end":return r.stop()}},e,r,[[1,10]])})),n),d(o,a)}t.prototype.componentDidMount=function e(){this.fetchRepos()};t.prototype.render=function e(){var t=this.props,r=t.query,n=t.selectedOrg,l=t.selectedRepo,i=t.onSelectOrg,u=t.onSelectRepo;var s=this.state,f=s.repos,p=s.orgs;return o.createElement(o.Fragment,null,f?o.createElement(c.default,{orgs:p,repos:f,selectedRepo:l,selectedOrg:n,onSelectOrg:i,onSelectRepo:u,query:r}):o.createElement(a.Loading,null))};return t}(o.Component);t.default=v},2791:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){var e=c(regeneratorRuntime.mark(function e(t){var r,n,o,l,u,c;return regeneratorRuntime.wrap(function e(s){while(1)switch(s.prev=s.next){case 0:r=(0,i.default)();r.authenticate({type:"oauth",token:t});s.next=4;return r.repos.getAll({per_page:100});case 4:n=s.sent;o=n.data;case 6:if(!r.hasNextPage(n)){s.next=13;break}s.next=9;return r.getNextPage(n);case 9:n=s.sent;o=o.concat(n.data);s.next=6;break;case 13:l={};u=o.map(function(e){var t={id:e.owner.id,avatarUrl:e.owner.avatar_url,login:e.owner.login,repos:0};l[t.id]=l[t.id]||t;l[t.id].repos+=1;return{id:e.id,name:e.name,isPrivate:e.private,canAdmin:e.permissions.admin,owner:t}});c=(0,a.default)(l).sort(function(e,t){return t.repos>e.repos?1:0});return s.abrupt("return",{repos:u,orgs:c});case 17:case"end":return s.stop()}},e,this)}));return function t(r){return e.apply(this,arguments)}}();var o=r(162);var a=u(o);var l=r(462);var i=u(l);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,a){try{var l=t[o](a);var i=l.value}catch(e){r(e);return}if(!l.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}return n("next")})}}t.default=n},2792:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o,a;var l=r(0);var i=E(l);var u=r(2);var c=r(1);var s=r(292);var f=b(s);var p=r(2793);var m=b(p);var d=r(2794);var h=b(d);var v=r(2795);var y=b(v);function b(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=(o=n=function(e){S(t,e);function t(r){w(this,t);var n=g(this,e.call(this,r));a.call(n);var o=n.props.repos;n.state={repos:o,fuse:new f.default(o,y.default)};return n}t.getDerivedStateFromProps=function e(t,r){var n=t.repos;var o=n.length!=r.repos.length?new f.default(n,y.default):r.fuse;return{repos:n,fuse:o}};t.convertReposIntoReposSearch=function e(t){return t.map(function(e){return{item:e}})};t.prototype.filterRepos=function e(){var r=this.props,n=r.query,o=r.selectedOrg;var a=this.state,l=a.fuse,i=a.repos;if(n)return l.search(n);var u=o?i.filter(function(e){return o&&e.owner.login===o.login}):i;return t.convertReposIntoReposSearch(u)};t.prototype.render=function e(){var r=t.STYLES;var n=this.props,o=n.query,a=n.orgs,l=n.onSelectRepo,u=n.onSelectOrg,s=n.selectedOrg,f=n.selectedRepo;var p=this.filterRepos();return i.createElement(c.View,{styles:[r.wrapper]},!o&&i.createElement(c.View,{styles:[r.orgList]},i.createElement(c.View,{role:"button",tabIndex:0,onClick:this.onDeselectOrg,styles:[r.item,!s&&r.selectedItem]},i.createElement(c.Text.UIH300,null,"All organizations")),a.map(function(e){return i.createElement(h.default,{key:e.id,org:e,onSelect:u,styles:[r.item,s&&s.id===e.id&&r.selectedItem]})})),i.createElement(c.View,{styles:[r.repoList,o&&r.repoListSearch]},p.length>0?p.map(function(e){return i.createElement(m.default,{key:e.item.id,repo:e.item,matches:e.matches,onClick:l,selected:f&&e.item.id===f.id,styles:[r.item,f&&f.id===e.item.id&&r.selectedItem]})}):i.createElement(c.View,{styles:[r.item]},i.createElement(c.Text,null,"No repositories have been found for your search"))))};return t}(i.Component),n.STYLES=u.StyleSheet.create({wrapper:{display:"flex",borderTop:"solid 1px "+c.colors.GREY_LIGHTER,marginLeft:-c.spacing.S500,marginRight:-c.spacing.S500,marginBottom:-c.spacing.S400},orgList:{maxHeight:300,overflow:"scroll",minWidth:250},repoList:{flex:"1 0 auto",borderLeft:"solid 1px "+c.colors.GREY_LIGHTER,maxHeight:300,overflow:"auto"},repoListSearch:{borderLeft:"none"},item:{display:"flex",alignItems:"center",minHeight:40,padding:c.spacing.S100+"px "+c.spacing.S600+"px "+c.spacing.S100+"px "+c.spacing.S300+"px",borderBottom:"solid 1px "+c.colors.GREY_LIGHTER,cursor:"pointer"},selectedItem:{background:c.colors.GREY_LIGHTEST}}),a=function e(){var t=this;this.onDeselectOrg=function(){var e=t.props.onSelectOrg;e(null)}},o);t.default=O},2793:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var o,a;var l=r(0);var i=f(l);var u=r(1);var c=r(7);var s=r(2);function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=(a=o=function(e){d(t,e);function t(){var r,o,a;p(this,t);for(var l=arguments.length,i=Array(l),c=0;c<l;c++)i[c]=arguments[c];return a=(r=(o=m(this,e.call.apply(e,[this].concat(i))),o),o.groupByKey=function(e,t){return e.reduce(function(e,r){var o;return n({},e,(o={},o[r[t]]=[].concat(e[r[t]]||[],[r]),o))},{})},o.applyHighlight=function(e,t,r){var n=r?"<b>":'<b style="color: '+u.colors.TEXT_COLOR+'">';var o="</b>";return t.indices.reduce(function(t,r){var a=r[0],l=r[1];return e.slice(0,a)+n+e.slice(a,l+1)+o+e.slice(l+1)},e)},o.onClick=function(){var e=o.props,t=e.repo,r=e.onClick;r(t)},r),m(o,a)}t.prototype.render=function e(){var r=t.STYLES;var n=this.props,o=n.repo,a=n.styles,l=n.selected,f=n.matches;var p=f?this.groupByKey(f,"key"):{};var m=o.name;var d=o.owner.login;p.name&&p.name.length>0&&(m=this.applyHighlight(m,p.name[0],l));p["owner.login"]&&p["owner.login"].length>0&&(d=this.applyHighlight(d,p["owner.login"][0],l));return i.createElement(u.View,{role:"button",tabIndex:0,onClick:o.canAdmin?this.onClick:void 0,styles:[a,!o.canAdmin&&r.unclickable,r.repoName,l&&r.selectedRepo]},i.createElement("span",{className:(0,s.css)(r.logo)},o.isPrivate&&i.createElement(c.IconLock,{styles:[r.iconLock]})),i.createElement(u.Text.UIH300,null,i.createElement("span",{dangerouslySetInnerHTML:{__html:d}}),"/",i.createElement("span",{dangerouslySetInnerHTML:{__html:m}})),l&&i.createElement(u.View,{styles:[r.selectedIcon]},i.createElement(c.IconCheckCircle,{styles:[r.icon]})),!o.canAdmin&&i.createElement(u.View,{styles:[u.tooltip.tooltipped,u.tooltip.bottomLeft,r.iconQuestion],"aria-label":"You must have administrator rights on that repository."},i.createElement(c.IconQuestion,{styles:[r.icon]})))};return t}(i.Component),o.defaultProps={matches:[]},o.STYLES=s.StyleSheet.create({selectedRepo:{color:u.colors.BLUE_BASE},selectedIcon:{marginLeft:"auto"},iconQuestion:{marginLeft:"auto",color:u.colors.GREY_BASE},logo:{fontSize:u.font.SIZE_XSMALL,marginRight:u.spacing.S100},unclickable:{color:u.colors.GREY_LIGHT,cursor:"auto"},repoName:{color:u.colors.GREY_DARK},highlight:{color:u.colors.TEXT_COLOR},iconLock:{verticalAlign:"text-top"},icon:{fontSize:18}}),a);t.default=h},2794:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o;var a=r(0);var l=c(a);var i=r(1);var u=r(2);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=(o=n=function(e){p(t,e);function t(){var r,n,o;s(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(r=(n=f(this,e.call.apply(e,[this].concat(l))),n),n.onClick=function(){var e=n.props,t=e.org,r=e.onSelect;r(t)},r),f(n,o)}t.prototype.render=function e(){var r=t.STYLES;var n=this.props,o=n.org,a=n.styles;return l.createElement(i.View,{role:"button",tabIndex:0,onClick:this.onClick,styles:[a]},l.createElement("img",{src:o.avatarUrl,className:(0,u.css)(r.logo),alt:"Organization's avatar"}),l.createElement(i.Text.UIH300,null,o.login))};return t}(l.Component),n.STYLES=u.StyleSheet.create({logo:{width:20,height:20,borderRadius:"50%",marginRight:i.spacing.S100}}),o);t.default=m},2795:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n={shouldSort:true,includeMatches:true,threshold:.2,location:0,distance:100,maxPatternLength:32,minMatchCharLength:2,keys:["name","owner.login"]};t.default=n},2796:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(2797);var o=a(n);function a(e){return e&&e.__esModule?e:{default:e}}t.default=o.default},2797:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o,a,l,i;var u=r(0);var c=g(u);var s=r(2);var f=r(5);var p=r(6);var m=r(1);var d=r(7);var h=r(10);var v=r(3);var y=r(2798);var b=g(y);var E=r(198);var w=g(E);function g(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=(n=(0,f.connect)(),o=h.Connectors.database(function(e){var t=e.space;return{statuses:v.GitHubSyncStatus.queryBySpace(t.uid).setOptions({waitFetched:false})}}),n(a=o(a=(i=l=function(e){_(t,e);function t(r){S(this,t);var n=O(this,e.call(this,r));var o=r.githubConfig,a=r.updatedConfig,l=r.isFirstSetup;var i=!l&&o&&a&&(0,p.is)(o.importBranchesFilter,a.importBranchesFilter);n.state={waitingForUpdate:!i};return n}t.getDerivedStateFromProps=function e(t){var r=t.statuses;if(r&&r.size>0)return{waitingForUpdate:false};return null};t.prototype.render=function e(){var t=this.props,r=t.githubConfig,n=t.statuses,o=t.onPrev,a=t.onNext,l=t.onCancel;var i=this.state.waitingForUpdate;var u=n&&n.first();var s=!r||!r.hookID||i;return c.default.createElement(w.default,{step:3},c.default.createElement(m.Modal.Body,null,c.default.createElement(m.View,null,c.default.createElement(b.default,{isLoading:s,status:u}))),c.default.createElement(m.Modal.Footer,null,c.default.createElement(m.View,null,c.default.createElement(m.Button,{kind:"cancel",onClick:l},"Cancel")),c.default.createElement(m.View,null,c.default.createElement(m.Button,{kind:"link",onClick:o,disabled:r&&!r.hookID},c.default.createElement("span",null,c.default.createElement(d.IconArrowLeft,null)," Previous")),c.default.createElement(m.Button,{kind:"primary",onClick:a,disabled:!!u||s},"Go live ",c.default.createElement(d.IconArrowRight,null)))))};return t}(c.default.Component),l.STYLES=s.StyleSheet.create({alert:{marginBottom:0,width:"100%"},icon:{width:"auto",marginRight:m.spacing.S200},iconLarge:{fontSize:m.font.SIZE_LARGE},flexRow:{display:"flex",alignItems:"center"},flexColumn:{display:"flex",flexDirection:"column"}}),i))||a)||a);t.default=C},2798:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o;var a=r(0);var l=s(a);var i=r(2);var u=r(1);var c=r(7);function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){m(t,e);function t(){f(this,t);return p(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props.styles;return l.createElement(u.Alert,{styles:[u.Alert.STYLES.info,t.alert]},l.createElement(u.View,{styles:[t.flexRow]},l.createElement(u.View,{styles:[t.icon]},l.createElement(u.Loading,null)),l.createElement(u.Text,null,"Setting up the GitHub integration...")))};return t}(l.PureComponent);var h=function(e){m(t,e);function t(){f(this,t);return p(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props.styles;return l.createElement(u.Alert,{styles:[u.Alert.STYLES.success,t.alert]},l.createElement(u.View,{styles:[t.flexRow]},l.createElement(u.View,{styles:[t.icon,t.iconLarge]},l.createElement(c.IconCheckCircle,null)),l.createElement(u.Text,null,"The content of your GitHub repository has been imported, future commits to the GitHub repository will continue updating your project.")))};return t}(l.PureComponent);var v=function(e){m(t,e);function t(){f(this,t);return p(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.status,n=t.styles;return l.createElement(u.Alert,{styles:[u.Alert.STYLES.danger,n.alert]},l.createElement(u.View,{styles:[n.flexRow]},l.createElement(u.View,{styles:[n.icon,n.iconLarge]},l.createElement(c.IconAlert,null)),l.createElement(u.View,{styles:[n.flexColumn]},l.createElement(u.Text,null,"The following error happened during the"," ",r.type," of your GitHub repository:",l.createElement("br",null),r.error),l.createElement(u.Text,null,"Please contact the GitBook support."))))};return t}(l.PureComponent);var y=function(e){m(t,e);function t(){f(this,t);return p(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.status,n=t.styles;return l.createElement(u.Alert,{styles:[u.Alert.STYLES.info,n.alert]},l.createElement(u.View,{styles:[n.flexRow]},l.createElement(u.View,{styles:[n.icon]},l.createElement(u.Loading,null)),l.createElement(u.Text,null,"Importing content (",r.progress.toFixed(0),"%), it may take a few minutes...")))};return t}(l.PureComponent);var b=function(e){m(t,e);function t(){f(this,t);return p(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.status,n=t.styles;return l.createElement(u.Alert,{styles:[u.Alert.STYLES.info,n.alert]},l.createElement(u.View,{styles:[n.flexRow]},l.createElement(u.View,{styles:[n.icon]},l.createElement(u.Loading,null)),l.createElement(u.Text,null,"Exporting content (",r.progress.toFixed(0),"%), it may take a few minutes...")))};return t}(l.PureComponent);var E=(o=n=function(e){m(t,e);function t(){f(this,t);return p(this,e.apply(this,arguments))}t.prototype.render=function e(){var r=t.STYLES;var n=this.props,o=n.isLoading,a=n.status;var i={status:a,styles:r};if(o)return l.createElement(d,i);if(!a)return l.createElement(h,i);if(a.hasError)return l.createElement(v,i);if("export"==a.type)return l.createElement(b,i);return l.createElement(y,i)};return t}(l.PureComponent),n.STYLES=i.StyleSheet.create({alert:{marginBottom:0,width:"100%"},icon:{width:"auto",marginRight:u.spacing.S200},iconLarge:{fontSize:u.font.SIZE_LARGE},flexRow:{display:"flex",alignItems:"center"},flexColumn:{display:"flex",flexDirection:"column"}}),o);t.default=E},2799:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(2800);var o=a(n);function a(e){return e&&e.__esModule?e:{default:e}}t.default=o.default},2800:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var a,l,i;var u=r(0);var c=C(u);var s=r(2);var f=r(1);var p=r(3);var m=r(712);var d=_(m);var h=r(6);var v=r(2801);var y=_(v);var b=r(2802);var E=_(b);var w=r(2803);var g=_(w);var S=r(198);var O=_(S);function _(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function P(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,a){try{var l=t[o](a);var i=l.value}catch(e){r(e);return}if(!l.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}return n("next")})}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R=(l=a=function(e){x(t,e);t.countMatchingBranches=function e(t,r){var n=r.split(" ").map(function(e){return e.trim()});var o=n.reduce(function(e,r){var n=(0,d.default)(r);t.forEach(function(t){n.test(t)&&e.add(t)});return e},new Set);return o.size};function t(r){T(this,t);var n=M(this,e.call(this,r));i.call(n);var o=n.props.githubConfig.importBranchesFilter.join(" ");var a="master"===o;n.state={selectedBlock:a?"master":"custom",customBranchInput:a?"master doc*":o,branches:[],matchingBranches:0};return n}t.prototype.componentDidMount=function e(){this.fetchBranches()};t.prototype.render=function e(){var r=t.STYLES;var n=this.props,o=n.onPrev,a=n.onCancel,l=n.isFirstSetup;var i=this.state,u=i.selectedBlock,s=i.customBranchInput,m=i.branches,d=i.matchingBranches;var h="custom"===u&&!s||m.length>0&&(0===d||d>p.GitHubConfig.MAX_BRANCHES);return c.createElement(O.default,{step:2,error:this.error},c.createElement(f.Modal.Body,null,c.createElement(f.View,{styles:[r.flexColumn]},c.createElement(f.View,{styles:f.View.MARGIN.S300Bottom},c.createElement(f.Text.HeadingH600,null,"Select branches to synchronize")),c.createElement(f.View,{styles:[r.flexRow]},c.createElement(y.default,{value:"master",onSelectBlock:this.onSelectBlock,selected:"master"===u}),c.createElement(f.View,{styles:[r.separator]},c.createElement(f.Text.UIH200,null,"OR")),c.createElement(E.default,{value:"custom",onSelectBlock:this.onSelectBlock,onCustomBranchChange:this.onCustomBranchChange,customBranch:s,selected:"custom"===u})))),l?c.createElement(f.Modal.StepperFooter,{onCancel:a,onPrev:o,onNext:this.onNext,nextDisabled:h}):c.createElement(f.Modal.StepperFooter,{onCancel:a,onNext:this.onNext,nextDisabled:h}))};o(t,[{key:"error",get:function e(){var t=this.state,r=t.branches,n=t.matchingBranches;if(r.length>0){if(0===n)return new Error("No branches to import. Please check your custom branch pattern.");if(n>p.GitHubConfig.MAX_BRANCHES)return new Error("Too many branches to import ("+n+"). You can import up to "+p.GitHubConfig.MAX_BRANCHES+" branches. Please check your custom branch pattern.")}return null}}]);return t}(c.Component),a.STYLES=s.StyleSheet.create({flexColumn:{display:"flex",flexDirection:"column"},flexRow:{display:"flex",alignItems:"center"},separator:{color:f.colors.GREY_BASE,margin:12}}),i=function e(){var t=this;this.fetchBranches=P(regeneratorRuntime.mark(function e(){var r,n,o,a;return regeneratorRuntime.wrap(function e(l){while(1)switch(l.prev=l.next){case 0:r=t.props,n=r.githubConfig,o=r.updateNbBranches;l.next=3;return(0,g.default)(n.token,n.githubOwner,n.githubRepo);case 3:a=l.sent;o(a.length);t.setState(function(e){var t=e.customBranchInput;return{branches:a,matchingBranches:R.countMatchingBranches(a,t)}});case 6:case"end":return l.stop()}},e,t)}));this.onNext=function(){var e=t.props,r=e.onNext,o=e.isFirstSetup;var a=t.state,l=a.customBranchInput,i=a.selectedBlock,u=a.branches;var c=u.length>0;var s=n({},o?{priority:c?p.GitHubConfig.PRIORITIES.GITHUB:p.GitHubConfig.PRIORITIES.GITBOOK}:{});if(l&&"custom"===i){var f=l.split(" ").map(function(e){return e.trim()});r(n({importBranchesFilter:(0,h.List)(f)},s))}else r(n({importBranchesFilter:(0,h.List)(["master"])},s))};this.onSelectBlock=function(e){t.setState(function(t){var r=t.branches,n=t.customBranchInput;var o="master"==e?"master":n;return{selectedBlock:e,matchingBranches:R.countMatchingBranches(r,o)}})};this.onCustomBranchChange=function(e){t.setState(function(t){var r=t.branches;return{customBranchInput:e,matchingBranches:R.countMatchingBranches(r,e)}})}},l);t.default=R},2801:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var a=r(1);var l=r(199);var i=u(l);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){p(t,e);function t(){s(this,t);return f(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.onSelectBlock,n=t.value,l=t.selected;return o.createElement(i.default,{value:n,onSelectBlock:r,selected:l},o.createElement(a.Text.UIH400,null,'Sync "master" branch only'))};return t}(o.Component);t.default=m},2802:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o;var a=r(0);var l=p(a);var i=r(1);var u=r(2);var c=r(199);var s=f(c);function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=(o=n=function(e){h(t,e);function t(){var r,n,o;m(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(r=(n=d(this,e.call.apply(e,[this].concat(l))),n),n.onCustomBranchChange=function(e){var t=n.props.onCustomBranchChange;t(e.target.value)},r),d(n,o)}t.prototype.componentDidUpdate=function e(t,r){this.input&&this.props.selected&&this.input.focus()};t.prototype.render=function e(){var r=this;var n=t.STYLES;var o=this.props,a=o.onSelectBlock,u=o.value,c=o.selected,f=o.customBranch;return l.createElement(s.default,{value:u,onSelectBlock:a,selected:c},l.createElement(i.Text.UIH400,{styles:[n.title]},"Select branches to sync"),c&&l.createElement(l.Fragment,null,l.createElement(i.Form.Input,{stylesInner:[n.input],inputRef:function e(t){r.input=t},onChange:this.onCustomBranchChange,value:f,placeholder:"Ex: master doc*"}),l.createElement(i.Form.Hint,{styles:[n.hint]},"The branch names and patterns should be separated by a whitespace")))};return t}(l.Component),n.STYLES=u.StyleSheet.create({title:{marginBottom:i.spacing.S100},hint:{marginBottom:-i.spacing.S200,color:i.colors.BLUE_LIGHT},input:{color:"initial"}}),o);t.default=v},2803:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){var e=i(regeneratorRuntime.mark(function e(t,r,n){var o,l,i;return regeneratorRuntime.wrap(function e(u){while(1)switch(u.prev=u.next){case 0:o=(0,a.default)();o.authenticate({type:"oauth",token:t});u.next=4;return o.repos.getBranches({owner:r,repo:n,per_page:100});case 4:l=u.sent;i=l.data;case 6:if(!o.hasNextPage(l)){u.next=13;break}u.next=9;return o.getNextPage(l);case 9:l=u.sent;i=i.concat(l.data);u.next=6;break;case 13:return u.abrupt("return",i.map(function(e){var t=e.name;return t}));case 14:case"end":return u.stop()}},e,this)}));return function t(r,n,o){return e.apply(this,arguments)}}();var o=r(462);var a=l(o);function l(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,a){try{var l=t[o](a);var i=l.value}catch(e){r(e);return}if(!l.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}return n("next")})}}t.default=n},2804:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(2805);var o=a(n);function a(e){return e&&e.__esModule?e:{default:e}}t.default=o.default},2805:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o;var a=r(0);var l=y(a);var i=r(2);var u=r(1);var c=r(3);var s=r(2806);var f=v(s);var p=r(2807);var m=v(p);var d=r(198);var h=v(d);function v(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=(o=n=function(e){w(t,e);function t(){var r,n,o;b(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(r=(n=E(this,e.call.apply(e,[this].concat(l))),n),n.state={priority:n.props.githubConfig.priority},n.onNext=function(){var e=n.props.onNext;var t=n.state.priority;e({priority:t})},n.onSelectBlock=function(e){n.setState({priority:e})},r),E(n,o)}t.prototype.componentDidMount=function e(){var t=this.props,r=t.nbBranches,n=t.isFirstSetup,o=t.onNext,a=t.githubConfig;if(!n){o({priority:a.priority});return}if(r>0)return;o({priority:c.GitHubConfig.PRIORITIES.GITBOOK})};t.prototype.render=function e(){var r=t.STYLES;var n=this.state.priority;var o=this.props,a=o.onPrev,i=o.onCancel;return l.createElement(h.default,{step:2},l.createElement(u.Modal.Body,null,l.createElement(u.View,{styles:[r.flexColumn]},l.createElement(u.View,{styles:u.View.MARGIN.S300Bottom},l.createElement(u.Text.HeadingH600,null,"Which content should be used for the first synchronization ?")),l.createElement(u.View,{styles:[r.flexRow]},l.createElement(f.default,{value:c.GitHubConfig.PRIORITIES.GITHUB,onSelectBlock:this.onSelectBlock,selected:n===c.GitHubConfig.PRIORITIES.GITHUB}),l.createElement(u.View,{styles:[r.separator]},l.createElement(u.Text.UIH200,null,"OR")),l.createElement(m.default,{value:c.GitHubConfig.PRIORITIES.GITBOOK,onSelectBlock:this.onSelectBlock,selected:n===c.GitHubConfig.PRIORITIES.GITBOOK})))),l.createElement(u.Modal.StepperFooter,{onCancel:i,onPrev:a,onNext:this.onNext}))};return t}(l.Component),n.STYLES=i.StyleSheet.create({flexColumn:{display:"flex",flexDirection:"column"},flexRow:{display:"flex",alignItems:"center"},separator:{margin:12,color:u.colors.GREY_BASE}}),o);t.default=g},2806:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o;var a=r(0);var l=m(a);var i=r(1);var u=r(7);var c=r(2);var s=r(199);var f=p(s);function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=(o=n=function(e){v(t,e);function t(){d(this,t);return h(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.onSelectBlock,n=t.value,o=t.selected;return l.createElement(f.default,{value:n,onSelectBlock:r,selected:o},l.createElement(u.IllustrationGitHubToGitBook,{style:{width:100,height:70,"--primary":o?i.colors.BLUE_BASE:i.colors.GREY_BASE,"--secondary":o?i.colors.BLUE_LIGHTER:i.colors.GREY_LIGHTER}}),l.createElement(i.Text.UIH400,null,"I write my content on GitHub"),l.createElement(i.Text.TextH300,null,"GitHub to GitBook"))};return t}(l.Component),n.STYLES=c.StyleSheet.create({"--primary":"red","--secondary":"blue"}),o);t.default=y},2807:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=s(n);var a=r(1);var l=r(7);var i=r(199);var u=c(i);function c(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){m(t,e);function t(){f(this,t);return p(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.onSelectBlock,n=t.value,i=t.selected;return o.createElement(u.default,{value:n,onSelectBlock:r,selected:i},o.createElement(l.IllustrationGitBookToGitHub,{style:{width:100,height:70,"--primary":i?a.colors.BLUE_BASE:a.colors.GREY_BASE,"--secondary":i?a.colors.BLUE_LIGHTER:a.colors.GREY_LIGHTER}}),o.createElement(a.Text.UIH400,null,"I write my content on GitBook"),o.createElement(a.Text.TextH300,null,"GitBook to GitHub"))};return t}(o.Component);t.default=d},2808:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(2809);var o=a(n);function a(e){return e&&e.__esModule?e:{default:e}}t.default=o.default},2809:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o;var a=r(0);var l=v(a);var i=r(2);var u=r(1);r(3);var c=r(2810);var s=h(c);var f=r(2811);var p=h(f);var m=r(198);var d=h(m);function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=(o=n=function(e){E(t,e);function t(){var r,n,o;y(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(r=(n=b(this,e.call.apply(e,[this].concat(l))),n),n.state={editOnGitHub:n.props.isFirstSetup||!!n.props.space.editOnGitHub},n.onNext=function(){var e=n.props.onNext;var t=n.state.editOnGitHub;e(t)},n.onSelectBlock=function(e){n.setState({editOnGitHub:e})},r),b(n,o)}t.prototype.render=function e(){var r=t.STYLES;var n=this.state.editOnGitHub;var o=this.props,a=o.onCancel,i=o.onPrev;return l.createElement(d.default,{step:2},l.createElement(u.Modal.Body,null,l.createElement(u.View,{styles:[r.flexColumn]},l.createElement(u.View,{styles:u.View.MARGIN.S300Bottom},l.createElement(u.Text.HeadingH600,null,"Do you want to display the GitHub Button on your space ?")),l.createElement(u.View,{styles:[r.flexRow]},l.createElement(s.default,{value:true,onSelectBlock:this.onSelectBlock,selected:n}),l.createElement(u.View,{styles:[r.separator]},l.createElement(u.Text.UIH200,null,"OR")),l.createElement(p.default,{value:false,onSelectBlock:this.onSelectBlock,selected:!n})))),l.createElement(u.Modal.StepperFooter,{onCancel:a,onPrev:i,onNext:this.onNext}))};return t}(l.Component),n.STYLES=i.StyleSheet.create({flexColumn:{display:"flex",flexDirection:"column"},flexRow:{display:"flex",alignItems:"center"},separator:{margin:12,color:u.colors.GREY_BASE}}),o);t.default=w},2810:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o;var a=r(0);var l=m(a);var i=r(2);var u=r(1);var c=r(7);var s=r(199);var f=p(s);function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=(o=n=function(e){v(t,e);function t(){d(this,t);return h(this,e.apply(this,arguments))}t.prototype.render=function e(){var r=t.STYLES;var n=this.props,o=n.onSelectBlock,a=n.value,i=n.selected;return l.createElement(f.default,{value:a,onSelectBlock:o,selected:i},l.createElement(u.Text.UIH400,{styles:[r.text]},"Display the button"),l.createElement(b,null))};return t}(l.Component),n.STYLES=i.StyleSheet.create({text:{marginBottom:u.spacing.S100}}),o);var b=function(e){v(t,e);function t(){d(this,t);return h(this,e.apply(this,arguments))}t.prototype.render=function e(){return l.createElement(u.Button,{component:"a",kind:"secondary",size:"small"},l.createElement(c.IconGitHubLogo,null)," Edit on GitHub")};return t}(l.Component);t.default=y},2811:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var a=r(1);var l=r(199);var i=u(l);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){p(t,e);function t(){s(this,t);return f(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.onSelectBlock,n=t.value,l=t.selected;return o.createElement(i.default,{value:n,onSelectBlock:r,selected:l},o.createElement(a.Text.UIH400,null,"Do not display"))};return t}(o.Component);t.default=m},2918:function(e,t,r){e.exports=r.p+"images/fb51bc3dbcdb152c0d601a9f5a75878e.svg"},521:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var o,a,l,i,u,c,s,f,p,m,d,h;var v=r(0);var y=w(v);var b=r(2);var E=r(1);function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function g(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=(a=o=function(e){_(t,e);function t(){S(this,t);return O(this,e.apply(this,arguments))}t.prototype.render=function e(){var r=t.STYLES;var n=this.props,o=n.styles,a=n.children;return y.createElement(E.View,{styles:[E.View.PADDING.S200Vertical,E.View.PADDING.S100Horizontal,r.tableCell,o]},a)};return t}(y.Component),o.STYLES=b.StyleSheet.create({tableCell:{flexShrink:0,textAlign:"center",width:64,":first-child":{flex:1,textAlign:"left",width:"auto",paddingLeft:0,display:"flex",alignItems:"center"},":last-child":{paddingRight:0}}}),a);var P=(i=l=function(e){_(t,e);function t(){S(this,t);return O(this,e.apply(this,arguments))}t.prototype.render=function e(){var r=t.STYLES;var n=this.props,o=n.styles,a=n.children,l=n.onClick;return y.createElement(E.View,{onClick:l,styles:[E.View.PADDING.S500Horizontal,r.tableRow,o]},a)};return t}(y.Component),l.STYLES=b.StyleSheet.create({tableRow:{display:"flex",alignItems:"center",borderBottom:"1px solid "+E.colors.GREY_LIGHTER}}),i);var T=(c=u=function(e){_(t,e);function t(){S(this,t);return O(this,e.apply(this,arguments))}t.prototype.render=function e(){var r=t.STYLES;var o=this.props,a=o.styles,l=o.children,i=g(o,["styles","children"]);return y.createElement(E.Scrollable,n({},i,{styles:[r.tableBody,a]}),l)};return t}(y.Component),u.STYLES=b.StyleSheet.create({tableBody:{maxHeight:220}}),c);var M=(f=s=function(e){_(t,e);function t(){S(this,t);return O(this,e.apply(this,arguments))}t.prototype.render=function e(){var r=t.STYLES;var n=this.props,o=n.styles,a=n.children;return y.createElement(E.View,{styles:[r.tableHead,o]},a)};return t}(y.Component),s.STYLES=b.StyleSheet.create({tableHead:{paddingRight:4}}),f);var x=(m=p=function(e){_(t,e);function t(){S(this,t);return O(this,e.apply(this,arguments))}t.prototype.render=function e(){var r=t.STYLES;var n=this.props,o=n.styles,a=n.children;return y.createElement(E.Text.InfoH100,{styles:[r.tableLabel,o]},a)};return t}(y.Component),p.STYLES=b.StyleSheet.create({tableLabel:{display:"block",color:E.colors.GREY_BASE}}),m);var R=(h=d=function(e){_(t,e);function t(){S(this,t);return O(this,e.apply(this,arguments))}t.prototype.render=function e(){var r=t.STYLES;var n=this.props,o=n.styles,a=n.children;return y.createElement(E.View,{styles:[r.table,o]},a)};return t}(y.Component),d.Head=M,d.Label=x,d.Body=T,d.Row=P,d.Cell=C,d.STYLES=b.StyleSheet.create({table:{}}),h);t.default=R},522:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o;var a=r(0);var l=m(a);var i=r(26);var u=p(i);var c=r(2);var s=r(7);var f=r(1);function p(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=(o=n=function(e){v(t,e);function t(){d(this,t);return h(this,e.apply(this,arguments))}t.prototype.render=function e(){var r=t.STYLES;var n=this.props,o=n.step,a=n.nextDisabled,i=n.children,c=n.onPrevious,p=n.onNext,m=n.onCancel,d=n.spacePreview;return l.createElement(f.Modal,{size:f.Modal.SIZES.large},l.createElement(u.default,{title:"Configure a custom domain"}),l.createElement(f.Modal.Header,{primary:true},l.createElement(f.Modal.Title,null,"Configure a custom domain"),l.createElement(f.Modal.Stepper,null,l.createElement(f.Modal.Stepper.Item,{completed:true},"Define domain"),l.createElement(f.Modal.Stepper.Item,{completed:o>=2},"Configure your DNS"),l.createElement(f.Modal.Stepper.Item,null,"Go live"))),l.createElement(f.Modal.Body,{styles:[r.modalBody]},l.createElement(f.View,{styles:[r.stepContainer]},i),d),l.createElement(f.Modal.Footer,null,l.createElement(f.View,null,l.createElement(f.Button,{kind:"cancel",onClick:m},"Cancel")),l.createElement(f.View,null,o>1&&l.createElement(f.Button,{kind:"link",onClick:c},l.createElement(s.IconChevronLeft,null)," Previous"),l.createElement(f.Button,{disabled:a,kind:"primary",onClick:p},o>=3?"Go live":l.createElement("span",null,"Next ",l.createElement(s.IconChevronRight,null))))))};return t}(l.Component),n.STYLES=c.StyleSheet.create({modalBody:{paddingBottom:0,paddingRight:0,display:"flex",flexDirection:"row",alignItems:"center"},stepContainer:{width:320}}),o);t.default=y},942:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var o=r(0);var a=u(o);var l=r(1);var i=r(7);function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){f(t,e);function t(){var r,n,o;c(this,t);for(var a=arguments.length,l=Array(a),i=0;i<a;i++)l[i]=arguments[i];return o=(r=(n=s(this,e.call.apply(e,[this].concat(l))),n),n.onChange=function(e){var t=n.props.onChange;t(e.target.value)},r),s(n,o)}t.prototype.render=function e(){return a.createElement(l.Form.Input,n({},this.props,{onChange:this.onChange,size:l.Form.Input.SIZES.small}),a.createElement(l.Form.InputAddOn,{prefix:true},a.createElement(i.IconSearch,null)))};return t}(a.Component);t.default=p},944:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var o,a,l,i;var u=r(0);var c=C(u);var s=r(5);var f=r(2);var p=r(13);var m=r(10);var d=r(3);var h=r(945);var v=_(h);var y=r(2761);var b=_(y);var E=r(2762);var w=_(E);var g=r(2763);var S=_(g);var O=r(78);function _(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function P(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,a){try{var l=t[o](a);var i=l.value}catch(e){r(e);return}if(!l.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}return n("next")})}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R=(o=(0,s.connect)(),o(a=(0,p.withRouter)(a=(i=l=function(e){x(t,e);function t(){var r=this;var n,o,a;T(this,t);for(var l=arguments.length,i=Array(l),u=0;u<l;u++)i[u]=arguments[u];return a=(n=(o=M(this,e.call.apply(e,[this].concat(i))),o),o.state={step:1,customDomain:(o.props.space?o.props.space.customDomain:o.props.org.customDomain)||""},o.updateCustomDomain=function(){var e=P(regeneratorRuntime.mark(function e(t){var n,a,l,i;return regeneratorRuntime.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:n=o.props,a=n.dispatch,l=n.org,i=n.space;r.next=3;return a(i?m.Flux.space.updateCustomDomain(l,i,t):(0,O.updateOrgCustomDomain)(l,t));case 3:case"end":return r.stop()}},e,r)}));return function(t){return e.apply(this,arguments)}}(),o.onDelete=function(){o.setState({customDomain:""},P(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function e(t){while(1)switch(t.prev=t.next){case 0:t.next=2;return o.updateCustomDomain(null);case 2:o.onEnd();case 3:case"end":return t.stop()}},e,r)})))},o.onCustomDomainChange=function(e){o.setState({customDomain:e})},o.onSubmit=P(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:t=o.state.customDomain;o.onNext();r.prev=2;r.next=5;return o.updateCustomDomain(t);case 5:r.next=10;break;case 7:r.prev=7;r.t0=r["catch"](2);o.setState({step:1});case 10:case"end":return r.stop()}},e,r,[[2,7]])})),o.onPrevious=function(){o.setState({step:o.state.step-1})},o.onNext=function(){o.setState({step:o.state.step+1})},o.onEnd=function(){var e=o.props,t=e.org,r=e.history;r.push("/@"+t.baseDomain)},n),M(o,a)}t.prototype.componentWillReceiveProps=function e(t){var r=(this.props.space?this.props.space.customDomain:this.props.org.customDomain)||"";var n=(t.space?t.space.customDomain:t.org.customDomain)||"";r!=n&&this.setState({customDomain:n})};t.prototype.render=function e(){var r=t.STYLES;var o=this.props,a=o.org,l=o.space;var i=this.state,u=i.customDomain,s=i.step;var f=l?l.customDomain:a.customDomain;var p=a.merge({customDomain:u});var m=l?l.merge({customDomain:u}):new d.Space;var h=c.createElement(v.default,{styles:r.spacePreview,org:p,space:m});var y={onPrevious:this.onPrevious,onCancel:this.onEnd,spacePreview:h};if(1===s)return c.createElement(b.default,n({},y,{onNext:this.onSubmit,org:a,space:l,initialDomain:f,domain:u,onDelete:this.onDelete,onDomainChange:this.onCustomDomainChange}));if(2===s)return c.createElement(S.default,n({},y,{onNext:this.onNext}));return c.createElement(w.default,n({},y,{onNext:this.onEnd,domain:u}))};return t}(c.Component),l.STYLES=f.StyleSheet.create({spacePreview:{width:450,minHeight:300}}),i))||a)||a);t.default=R},946:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o;var a=r(0);var l=c(a);var i=r(2);var u=r(1);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=(o=n=function(e){p(t,e);function t(){s(this,t);return f(this,e.apply(this,arguments))}t.prototype.render=function e(){var r=t.STYLES;var n=this.props,o=n.icon,a=n.children,i=n.status;return l.createElement(u.View,{styles:[u.View.PADDING.S200,r.info,r[i]]},o&&l.createElement(u.View,{styles:[u.View.MARGIN.S100Right]},o),l.createElement(u.View,null,l.createElement(u.Text,{placeholder:false},a)))};return t}(l.Component),n.defaultProps={icon:null},n.STYLES=i.StyleSheet.create({info:{marginRight:-60,marginBottom:20,display:"flex",alignItems:"center"},pending:{color:u.colors.BLUE_BASE,backgroundColor:u.colors.BLUE_LIGHTEST},success:{color:u.colors.GREEN_BASE,backgroundColor:u.colors.GREEN_LIGHTEST},warning:{color:u.colors.ORANGE_BASE,backgroundColor:u.colors.ORANGE_LIGHTEST},iconContainer:{marginRight:20,width:70},iconLarge:{fontSize:54}}),o);t.default=m}});