//dependencies=tslib#?,react#?,react-dom#?,@uifabric/utilities/Async#0,@uifabric/utilities/object#0,@uifabric/utilities/EventGroup,@uifabric/utilities/dom#0,@uifabric/merge-styles/Stylesheet,@uifabric/merge-styles/transforms/kebabRules#0,@uifabric/merge-styles/getVendorSettings#0,@uifabric/merge-styles/transforms/prefixRules,@uifabric/merge-styles/transforms/provideUnits#0,@uifabric/merge-styles/transforms/rtlifyRules,@uifabric/merge-styles/styleToClassName,@uifabric/merge-styles/extractStyleParts,@uifabric/merge-styles/mergeStyles,@uifabric/merge-styles/concatStyleSets#0,@uifabric/merge-styles/mergeStyleSets,@uifabric/merge-styles/fontFace,@uifabric/merge-styles/keyframes,@uifabric/merge-styles/index,@uifabric/merge-styles/lib/index,@uifabric/utilities/scroll,@uifabric/utilities/AutoScroll,@uifabric/utilities/warn#0,@uifabric/utilities/keyboard#0,@uifabric/utilities/initializeFocusRects,@uifabric/utilities/initializeDir,@uifabric/utilities/BaseComponent,@uifabric/utilities/Context,@uifabric/utilities/GlobalSettings#0,@uifabric/utilities/Customizations,prop-types#?,@uifabric/utilities/Customizer,@uifabric/utilities/DelayedRender,@uifabric/utilities/FabricPerformance#0,@uifabric/utilities/KeyCodes#0,@uifabric/utilities/Rectangle#0,@uifabric/utilities/array#0,@uifabric/utilities/assertNever#0,@uifabric/utilities/autobind#0,@uifabric/utilities/classNamesFunction,@uifabric/utilities/createRef#0,@uifabric/utilities/css#0,@uifabric/utilities/hoistStatics#0,@uifabric/utilities/customizable,@uifabric/utilities/focus,@uifabric/utilities/hoist#0,@uifabric/utilities/initials#0,@uifabric/utilities/localStorage#0,@uifabric/utilities/language,@uifabric/utilities/math#0,@uifabric/utilities/memoize#0,@uifabric/utilities/overflow#0,@uifabric/utilities/properties,@uifabric/utilities/resources#0,@uifabric/utilities/sessionStorage#0,@uifabric/merge-styles/lib/transforms/rtlifyRules,@uifabric/utilities/rtl,@uifabric/utilities/string#0,@uifabric/utilities/styled,@uifabric/utilities/index,@uifabric/utilities/lib/index,OfficeFabric/Utilities,OfficeFabric/components/DetailsList/DetailsList.types#0,OfficeFabric/components/Icon/Icon.types#0,OfficeFabric/components/Image/Image.types#0,OfficeFabric/components/Image/Image.base,@uifabric/styling/MergeStyles,@uifabric/styling/utilities/buildClassMap,@uifabric/utilities/lib/warn,@uifabric/utilities/lib/GlobalSettings,@uifabric/styling/utilities/icons,@uifabric/styling/utilities/getIconClassName,@uifabric/styling/utilities/index,@uifabric/styling/styles/AnimationStyles,@uifabric/styling/styles/DefaultPalette#0,@uifabric/styling/styles/fonts#0,@uifabric/utilities/lib/language,@uifabric/styling/styles/DefaultFontStyles,@uifabric/styling/styles/CommonStyles#0,@uifabric/utilities/lib/initializeFocusRects,@uifabric/styling/styles/zIndexes#0,@uifabric/styling/styles/getFocusStyle,@uifabric/styling/styles/hiddenContentStyle#0,@uifabric/styling/styles/PulsingBeaconAnimationStyles,@uifabric/styling/styles/getGlobalClassNames#0,@uifabric/utilities/lib/Customizations,@microsoft/load-themed-styles#?,@uifabric/styling/styles/theme,@uifabric/styling/styles/GeneralStyles#0,@uifabric/styling/styles/index,@uifabric/styling/classNames/AnimationClassNames,@uifabric/styling/classNames/FontClassNames,@uifabric/styling/classNames/ColorClassNames,@uifabric/styling/classNames/index,@uifabric/styling/index,@uifabric/styling/lib/index,OfficeFabric/Styling,OfficeFabric/components/Image/Image.styles,OfficeFabric/components/Image/Image,OfficeFabric/components/Icon/Icon.base,OfficeFabric/components/Icon/Icon.styles#0,OfficeFabric/components/Icon/Icon,OfficeFabric/components/Icon/index,OfficeFabric/Icon,OfficeFabric/components/Check/Check.styles,OfficeFabric/components/Check/Check.base,OfficeFabric/components/Check/Check,OfficeFabric/components/Check/index,OfficeFabric/Check,OfficeFabric/components/DetailsList/DetailsRowCheck.scss,OfficeFabric/components/Check/Check.scss,OfficeFabric/components/DetailsList/DetailsRowCheck,OfficeFabric/components/GroupedList/GroupSpacer.scss,OfficeFabric/components/GroupedList/GroupSpacer,OfficeFabric/components/DetailsList/DetailsRow.scss,OfficeFabric/components/DetailsList/DetailsRowFields,OfficeFabric/components/FocusZone/FocusZone.types#0,OfficeFabric/components/FocusZone/FocusZone,OfficeFabric/components/FocusZone/index,OfficeFabric/FocusZone,OfficeFabric/utilities/selection/interfaces#0,OfficeFabric/utilities/selection/Selection,OfficeFabric/utilities/selection/SelectionZone,OfficeFabric/utilities/selection/index,OfficeFabric/components/Spinner/Spinner.types#0,OfficeFabric/components/Spinner/Spinner.base,OfficeFabric/components/Spinner/Spinner.styles,OfficeFabric/components/Spinner/Spinner,OfficeFabric/components/Spinner/index,OfficeFabric/Spinner,OfficeFabric/components/GroupedList/GroupHeader.scss,OfficeFabric/components/GroupedList/GroupHeader,OfficeFabric/utilities/keytips/KeytipConstants#0,OfficeFabric/utilities/keytips/KeytipManager,OfficeFabric/utilities/keytips/KeytipUtils,OfficeFabric/components/KeytipData/KeytipData,OfficeFabric/components/KeytipData/index,OfficeFabric/KeytipData,OfficeFabric/components/Link/Link.base,OfficeFabric/components/Link/Link.styles,OfficeFabric/components/Link/Link,OfficeFabric/components/Link/index,OfficeFabric/Link,OfficeFabric/components/GroupedList/GroupShowAll.scss,OfficeFabric/components/GroupedList/GroupShowAll,OfficeFabric/components/GroupedList/GroupFooter.scss,OfficeFabric/components/GroupedList/GroupFooter,OfficeFabric/components/List/List,OfficeFabric/components/List/List.types#0,OfficeFabric/components/List/index,OfficeFabric/List,OfficeFabric/components/GroupedList/GroupedList.scss,OfficeFabric/components/GroupedList/GroupedListSection,OfficeFabric/components/GroupedList/GroupedList,OfficeFabric/components/GroupedList/GroupedList.types#0,OfficeFabric/components/GroupedList/index,OfficeFabric/GroupedList
define(["require","exports","tslib","react","react-dom","../../Utilities","./DetailsList.types","./DetailsRowCheck","../GroupedList/GroupSpacer","./DetailsRowFields","../../FocusZone","../../utilities/selection/interfaces","../../GroupedList","../../Styling","./DetailsRow.scss","./DetailsRowCheck.scss"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var w=y,b=p,k="is-dropping",d=function(n){function t(t){var i=n.call(this,t)||this;return i._cellMeasurer=f.createRef(),i._focusZone=f.createRef(),i._onRootRef=function(n){i._root=n?u.findDOMNode(n):undefined},i.state={selectionState:i._getSelectionState(t),columnMeasureInfo:undefined,isDropping:!1,groupNestingDepth:t.groupNestingDepth},i._droppingClassNames="",i._updateDroppingState=i._updateDroppingState.bind(i),i._onToggleSelection=i._onToggleSelection.bind(i),i}return i.__extends(t,n),t.prototype.componentDidMount=function(){var n=this.props.dragDropHelper;n&&(this._dragDropSubscription=n.subscribe(this._root,this._events,this._getRowDragDropOptions()));this._events.on(this.props.selection,l.SELECTION_CHANGE,this._onSelectionChanged);if(this.props.onDidMount&&this.props.item){this._hasMounted=!0;this.props.onDidMount(this)}},t.prototype.componentDidUpdate=function(n){var f=this.state,i=this.props,e=i.item,r=i.onDidMount,t=f.columnMeasureInfo,u;if((this.props.itemIndex!==n.itemIndex||this.props.item!==n.item||this.props.dragDropHelper!==n.dragDropHelper)&&(this._dragDropSubscription&&(this._dragDropSubscription.dispose(),delete this._dragDropSubscription),this.props.dragDropHelper&&(this._dragDropSubscription=this.props.dragDropHelper.subscribe(this._root,this._events,this._getRowDragDropOptions()))),t&&t.index>=0&&this._cellMeasurer.current){u=this._cellMeasurer.current.getBoundingClientRect().width;t.onMeasureDone(u);this.setState({columnMeasureInfo:undefined})}e&&r&&!this._hasMounted&&(this._hasMounted=!0,r(this))},t.prototype.componentWillUnmount=function(){var n=this.props,i=n.item,t=n.onWillUnmount;t&&i&&t(this);this._dragDropSubscription&&(this._dragDropSubscription.dispose(),delete this._dragDropSubscription)},t.prototype.componentWillReceiveProps=function(n){this.setState({selectionState:this._getSelectionState(n),groupNestingDepth:n.groupNestingDepth})},t.prototype.render=function(){var n=this.props,kt=n.className,tt=n.columns,d=n.dragDropEvents,t=n.item,o=n.itemIndex,it=n.onRenderCheck,dt=it===void 0?this._onRenderCheck:it,rt=n.onRenderItemColumn,g=n.selectionMode,ut=n.viewport,ft=n.checkboxVisibility,et=n.getRowAriaLabel,ot=n.getRowAriaDescribedBy,gt=n.checkButtonAriaLabel,ni=n.checkboxCellClassName,st=n.rowFieldsAs,ht=st===void 0?h.DetailsRowFields:st,ti=n.selection,ct=n.shimmer,ii=n.compact,nt=this.state,lt=nt.columnMeasureInfo,ri=nt.isDropping,ui=nt.groupNestingDepth,at=this.state.selectionState,vt=at.isSelected,y=vt===void 0?!1:vt,yt=at.isSelectionModal,pt=yt===void 0?!1:yt,wt=Boolean(d&&d.canDrag&&d.canDrag(t)),fi=ri?this._droppingClassNames?this._droppingClassNames:k:"",ei=et?et(t):undefined,oi=ot?ot(t):undefined,si=ti.canSelectItem(t),hi=g===l.SelectionMode.multiple,p=g!==l.SelectionMode.none&&ft!==e.CheckboxVisibility.hidden,ci=g===l.SelectionMode.none?undefined:y,bt=r.createElement(ht,{columns:tt,item:t,itemIndex:o,columnStartIndex:p?1:0,onRenderItemColumn:rt,shimmer:ct}),u;return ct?r.createElement("div",{className:f.css(p&&w.shimmerLeftBorder,!ii&&w.shimmerBottomBorder)},bt):r.createElement(c.FocusZone,i.__assign({},f.getNativeProps(this.props,f.divProperties),{direction:c.FocusZoneDirection.horizontal,ref:this._onRootRef,componentRef:this._focusZone,role:"row","aria-label":ei,ariaDescribedBy:oi,className:f.css("ms-DetailsRow",kt,v.AnimationClassNames.fadeIn400,w.root,b.owner,fi,(u={},u["is-contentUnselectable "+w.rootIsContentUnselectable]=hi,u["is-selected "+b.isSelected+" "+w.rootIsSelected]=y,u[w.anySelected+" "+b.anySelected]=pt,u["is-check-visible "+b.isVisible]=ft===e.CheckboxVisibility.always,u)),"data-is-focusable":!0,"data-selection-index":o,"data-item-index":o,"aria-rowindex":o+1,"data-is-draggable":wt,draggable:wt,"data-automationid":"DetailsRow",style:{minWidth:ut?ut.width:0},"aria-selected":ci,allowFocusRoot:!0}),p&&r.createElement("div",{role:"gridcell","aria-colindex":0,"data-selection-toggle":!0,className:f.css("ms-DetailsRow-cell","ms-DetailsRow-cellCheck",b.owner,w.cell,w.checkCell,ni)},dt({selected:y,anySelected:pt,title:gt,canSelect:si})),s.GroupSpacer({count:ui-(this.props.collapseAllVisibility===a.CollapseAllVisibility.hidden?1:0)}),t&&bt,lt&&r.createElement("span",{role:"presentation",className:f.css("ms-DetailsRow-cellMeasurer ms-DetailsRow-cell",w.cellMeasurer,w.cell),ref:this._cellMeasurer},r.createElement(ht,{columns:[lt.column],item:t,itemIndex:o,columnStartIndex:(p?1:0)+tt.length,onRenderItemColumn:rt})),r.createElement("span",{role:"checkbox",className:f.css(w.checkCover),"aria-checked":y,"data-selection-toggle":!0}))},t.prototype.measureCell=function(n,t){var i=f.assign({},this.props.columns[n]);i.minWidth=0;i.maxWidth=999999;delete i.calculatedWidth;this.setState({columnMeasureInfo:{index:n,column:i,onMeasureDone:t}})},t.prototype.focus=function(n){return n===void 0&&(n=!1),!!this._focusZone.current&&this._focusZone.current.focus(n)},t.prototype._onRenderCheck=function(n){return r.createElement(o.DetailsRowCheck,i.__assign({},n))},t.prototype._getSelectionState=function(n){var i=n.itemIndex,t=n.selection;return{isSelected:t.isIndexSelected(i),isSelectionModal:!!t.isModal&&t.isModal()}},t.prototype._onSelectionChanged=function(){var n=this._getSelectionState(this.props);f.shallowCompare(n,this.state.selectionState)||this.setState({selectionState:n})},t.prototype._onToggleSelection=function(){var n=this.props.selection;n.toggleIndexSelected(this.props.itemIndex)},t.prototype._getRowDragDropOptions=function(){var t=this.props,r=t.item,i=t.itemIndex,n=t.dragDropEvents,u=t.eventsToRegister;return{eventMap:u,selectionIndex:i,context:{data:r,index:i},canDrag:n.canDrag,canDrop:n.canDrop,onDragStart:n.onDragStart,updateDropState:this._updateDroppingState,onDrop:n.onDrop,onDragEnd:n.onDragEnd}},t.prototype._updateDroppingState=function(n,t){var r=this.state,e=r.selectionState,o=r.isDropping,u=this.props,i=u.dragDropEvents,f=u.item;if(n)i.onDragEnter&&(this._droppingClassNames=i.onDragEnter(f,t));else if(i.onDragLeave)i.onDragLeave(f,t);o!==n&&this.setState({selectionState:e,isDropping:n})},t}(f.BaseComponent);t.DetailsRow=d});
//direct-dependencies=tslib,react,react-dom,OfficeFabric/Utilities,OfficeFabric/components/DetailsList/DetailsList.types,OfficeFabric/components/DetailsList/DetailsRowCheck,OfficeFabric/components/GroupedList/GroupSpacer,OfficeFabric/components/DetailsList/DetailsRowFields,OfficeFabric/FocusZone,OfficeFabric/utilities/selection/interfaces,OfficeFabric/GroupedList,OfficeFabric/Styling,OfficeFabric/components/DetailsList/DetailsRow.scss,OfficeFabric/components/DetailsList/DetailsRowCheck.scss
