//dependencies=tslib#?,react#?,@uifabric/utilities/Async#0,@uifabric/utilities/object#0,@uifabric/utilities/EventGroup,@uifabric/utilities/dom#0,@uifabric/merge-styles/Stylesheet,@uifabric/merge-styles/transforms/kebabRules#0,@uifabric/merge-styles/getVendorSettings#0,@uifabric/merge-styles/transforms/prefixRules,@uifabric/merge-styles/transforms/provideUnits#0,@uifabric/merge-styles/transforms/rtlifyRules,@uifabric/merge-styles/styleToClassName,@uifabric/merge-styles/extractStyleParts,@uifabric/merge-styles/mergeStyles,@uifabric/merge-styles/concatStyleSets#0,@uifabric/merge-styles/mergeStyleSets,@uifabric/merge-styles/fontFace,@uifabric/merge-styles/keyframes,@uifabric/merge-styles/index,@uifabric/merge-styles/lib/index,@uifabric/utilities/scroll,@uifabric/utilities/AutoScroll,@uifabric/utilities/warn#0,@uifabric/utilities/keyboard#0,@uifabric/utilities/initializeFocusRects,@uifabric/utilities/initializeDir,@uifabric/utilities/BaseComponent,@uifabric/utilities/Context,@uifabric/utilities/GlobalSettings#0,@uifabric/utilities/Customizations,prop-types#?,@uifabric/utilities/Customizer,@uifabric/utilities/DelayedRender,@uifabric/utilities/FabricPerformance#0,@uifabric/utilities/KeyCodes#0,@uifabric/utilities/Rectangle#0,@uifabric/utilities/array#0,@uifabric/utilities/assertNever#0,@uifabric/utilities/autobind#0,@uifabric/utilities/classNamesFunction,@uifabric/utilities/createRef#0,@uifabric/utilities/css#0,@uifabric/utilities/hoistStatics#0,@uifabric/utilities/customizable,@uifabric/utilities/focus,@uifabric/utilities/hoist#0,@uifabric/utilities/initials#0,@uifabric/utilities/localStorage#0,@uifabric/utilities/language,@uifabric/utilities/math#0,@uifabric/utilities/memoize#0,@uifabric/utilities/overflow#0,@uifabric/utilities/properties,@uifabric/utilities/resources#0,@uifabric/utilities/sessionStorage#0,@uifabric/merge-styles/lib/transforms/rtlifyRules,@uifabric/utilities/rtl,@uifabric/utilities/string#0,@uifabric/utilities/styled,@uifabric/utilities/index,@uifabric/utilities/lib/index,OfficeFabric/Utilities,OfficeFabric/utilities/selection/interfaces#0,OfficeFabric/utilities/selection/Selection,OfficeFabric/utilities/selection/SelectionZone,OfficeFabric/utilities/selection/index,OfficeFabric/components/Icon/Icon.types#0,OfficeFabric/components/Image/Image.types#0,OfficeFabric/components/Image/Image.base,@uifabric/styling/MergeStyles,@uifabric/styling/utilities/buildClassMap,@uifabric/utilities/lib/warn,@uifabric/utilities/lib/GlobalSettings,@uifabric/styling/utilities/icons,@uifabric/styling/utilities/getIconClassName,@uifabric/styling/utilities/index,@uifabric/styling/styles/AnimationStyles,@uifabric/styling/styles/DefaultPalette#0,@uifabric/styling/styles/fonts#0,@uifabric/utilities/lib/language,@uifabric/styling/styles/DefaultFontStyles,@uifabric/styling/styles/CommonStyles#0,@uifabric/utilities/lib/initializeFocusRects,@uifabric/styling/styles/zIndexes#0,@uifabric/styling/styles/getFocusStyle,@uifabric/styling/styles/hiddenContentStyle#0,@uifabric/styling/styles/PulsingBeaconAnimationStyles,@uifabric/styling/styles/getGlobalClassNames#0,@uifabric/utilities/lib/Customizations,@microsoft/load-themed-styles#?,@uifabric/styling/styles/theme,@uifabric/styling/styles/GeneralStyles#0,@uifabric/styling/styles/index,@uifabric/styling/classNames/AnimationClassNames,@uifabric/styling/classNames/FontClassNames,@uifabric/styling/classNames/ColorClassNames,@uifabric/styling/classNames/index,@uifabric/styling/index,@uifabric/styling/lib/index,OfficeFabric/Styling,OfficeFabric/components/Image/Image.styles,OfficeFabric/components/Image/Image,OfficeFabric/components/Icon/Icon.base,OfficeFabric/components/Icon/Icon.styles#0,OfficeFabric/components/Icon/Icon,OfficeFabric/components/Icon/index,OfficeFabric/Icon,OfficeFabric/components/Check/Check.styles,OfficeFabric/components/Check/Check.base,OfficeFabric/components/Check/Check,OfficeFabric/components/Check/index,OfficeFabric/Check,OfficeFabric/components/GroupedList/GroupSpacer.scss,OfficeFabric/components/GroupedList/GroupSpacer,OfficeFabric/components/Spinner/Spinner.types#0,OfficeFabric/components/Spinner/Spinner.base,OfficeFabric/components/Spinner/Spinner.styles,OfficeFabric/components/Spinner/Spinner,OfficeFabric/components/Spinner/index,OfficeFabric/Spinner,OfficeFabric/components/FocusZone/FocusZone.types#0,OfficeFabric/components/FocusZone/FocusZone,OfficeFabric/components/FocusZone/index,OfficeFabric/FocusZone,OfficeFabric/components/GroupedList/GroupHeader.scss,OfficeFabric/components/GroupedList/GroupHeader,OfficeFabric/utilities/keytips/KeytipConstants#0,OfficeFabric/utilities/keytips/KeytipManager,OfficeFabric/utilities/keytips/KeytipUtils,OfficeFabric/components/KeytipData/KeytipData,OfficeFabric/components/KeytipData/index,OfficeFabric/KeytipData,OfficeFabric/components/Link/Link.base,OfficeFabric/components/Link/Link.styles,OfficeFabric/components/Link/Link,OfficeFabric/components/Link/index,OfficeFabric/Link,OfficeFabric/components/GroupedList/GroupShowAll.scss,OfficeFabric/components/GroupedList/GroupShowAll,OfficeFabric/components/GroupedList/GroupFooter.scss,OfficeFabric/components/GroupedList/GroupFooter,OfficeFabric/components/List/List,OfficeFabric/components/List/List.types#0,OfficeFabric/components/List/index,OfficeFabric/List,OfficeFabric/components/GroupedList/GroupedList.scss
define(["require","exports","tslib","react","../../Utilities","../../utilities/selection/index","./GroupHeader","./GroupShowAll","./GroupFooter","../../List","../../Utilities","./GroupedList.scss"],function(n,t,i,r,u,f,e,o,s,h,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l,v="is-dropping",y=function(n){function t(f){var h=n.call(this,f)||this,l,c;return h._root=u.createRef(),h._list=u.createRef(),h._onRenderGroupHeader=function(n){return r.createElement(e.GroupHeader,i.__assign({},n))},h._onRenderGroupShowAll=function(n){return r.createElement(o.GroupShowAll,i.__assign({},n))},h._onRenderGroupFooter=function(n){return r.createElement(s.GroupFooter,i.__assign({},n))},h._renderSubGroup=function(n,i){var u=h.props,f=u.dragDropEvents,e=u.dragDropHelper,o=u.eventsToRegister,s=u.getGroupItemLimit,c=u.groupNestingDepth,l=u.items,a=u.headerProps,v=u.showAllProps,y=u.footerProps,p=u.listProps,w=u.onRenderCell,b=u.selection,k=u.selectionMode,d=u.viewport,g=u.onRenderGroupHeader,nt=u.onRenderGroupShowAll,tt=u.onRenderGroupFooter,it=u.onShouldVirtualize;return!n||n.count>0?r.createElement(t,{ref:"subGroup_"+i,key:h._getGroupKey(n,i),dragDropEvents:f,dragDropHelper:e,eventsToRegister:o,footerProps:y,getGroupItemLimit:s,group:n,groupIndex:i,groupNestingDepth:c,headerProps:a,items:l,listProps:p,onRenderCell:w,selection:b,selectionMode:k,showAllProps:v,viewport:d,onRenderGroupHeader:g,onRenderGroupShowAll:nt,onRenderGroupFooter:tt,onShouldVirtualize:it}):null},h._getGroupDragDropOptions=function(){var n=h.props,t=n.group,i=n.groupIndex,r=n.dragDropEvents,u=n.eventsToRegister;return{eventMap:u,selectionIndex:-1,context:{data:t,index:i,isGroup:!0},canDrag:function(){return!1},canDrop:r.canDrop,updateDropState:h._updateDroppingState}},h._updateDroppingState=function(n,t){var r=h.state.isDropping,i=h.props.dragDropEvents;if(r){if(i&&i.onDragEnter)i.onDragEnter(t,undefined)}else if(i&&i.onDragLeave)i.onDragLeave(t,undefined);r!==n&&h.setState({isDropping:n})},l=f.selection,c=f.group,h.state={isDropping:!1,isSelected:l&&c?l.isRangeSelected(c.startIndex,c.count):!1},h}return i.__extends(t,n),t.prototype.componentDidMount=function(){var n=this.props,t=n.dragDropHelper,i=n.selection;if(t&&this._root.current&&(this._dragDropSubscription=t.subscribe(this._root.current,this._events,this._getGroupDragDropOptions())),i)this._events.on(i,f.SELECTION_CHANGE,this._onSelectionChange)},t.prototype.componentWillUnmount=function(){this._dragDropSubscription&&this._dragDropSubscription.dispose()},t.prototype.componentDidUpdate=function(n){(this.props.group!==n.group||this.props.groupIndex!==n.groupIndex||this.props.dragDropHelper!==n.dragDropHelper)&&(this._dragDropSubscription&&(this._dragDropSubscription.dispose(),delete this._dragDropSubscription),this.props.dragDropHelper&&this._root.current&&(this._dragDropSubscription=this.props.dragDropHelper.subscribe(this._root.current,this._events,this._getGroupDragDropOptions())))},t.prototype.render=function(){var t=this.props,u=t.getGroupItemLimit,n=t.group,l=t.groupIndex,v=t.headerProps,y=t.showAllProps,p=t.footerProps,w=t.viewport,b=t.selectionMode,f=t.onRenderGroupHeader,k=f===void 0?this._onRenderGroupHeader:f,e=t.onRenderGroupShowAll,d=e===void 0?this._onRenderGroupShowAll:e,o=t.onRenderGroupFooter,g=o===void 0?this._onRenderGroupFooter:o,nt=t.onShouldVirtualize,tt=this.state.isSelected,s=n&&u?u(n):Infinity,it=n&&!n.children&&!n.isCollapsed&&!n.isShowingAll&&(n.count>s||n.hasMoreData),rt=n&&n.children&&n.children.length>0,i={group:n,groupIndex:l,groupLevel:n?n.level:0,isSelected:tt,viewport:w,selectionMode:b},ut=c.assign({},v,i),ft=c.assign({},y,i),et=c.assign({},p,i);return r.createElement("div",{ref:this._root,className:c.css("ms-GroupedList-group",a.group,this._getDroppingClassName()),role:"presentation"},k(ut,this._onRenderGroupHeader),n&&n.isCollapsed?null:rt?r.createElement(h.List,{ref:this._list,items:n.children,onRenderCell:this._renderSubGroup,getItemCountForPage:this._returnOne,onShouldVirtualize:nt}):this._onRenderGroup(s),n&&n.isCollapsed?null:it&&d(ft,this._onRenderGroupShowAll),g(et,this._onRenderGroupFooter))},t.prototype.forceUpdate=function(){n.prototype.forceUpdate.call(this);this.forceListUpdate()},t.prototype.forceListUpdate=function(){var t=this.props.group,r,i,n;if(this._list.current){if(this._list.current.forceUpdate(),t&&t.children&&t.children.length>0)for(r=t.children.length,i=0;i<r;i++)n=this._list.current.refs["subGroup_"+String(i)],n&&n.forceListUpdate()}else n=this.refs["subGroup_"+String(0)],n&&n.forceListUpdate()},t.prototype._onSelectionChange=function(){var n=this.props,t=n.group,r=n.selection,i=r.isRangeSelected(t.startIndex,t.count);i!==this.state.isSelected&&this.setState({isSelected:i})},t.prototype._onRenderGroupCell=function(n,t){return function(i,r){return n(t,i,r)}},t.prototype._onRenderGroup=function(n){var t=this.props,u=t.group,f=t.items,e=t.onRenderCell,o=t.listProps,s=t.groupNestingDepth,c=t.onShouldVirtualize,l=u?u.count:f.length,a=u?u.startIndex:0;return r.createElement(h.List,i.__assign({items:f,onRenderCell:this._onRenderGroupCell(e,s),ref:this._list,renderCount:Math.min(l,n),startIndex:a,onShouldVirtualize:c},o))},t.prototype._returnOne=function(){return 1},t.prototype._getGroupKey=function(n,t){return"group-"+(n&&n.key?n.key:String(n.level)+String(t))},t.prototype._getDroppingClassName=function(){var n=this.state.isDropping,t=this.props.group;return n=!!(t&&n),c.css(n&&v,n&&a.groupIsDropping)},t}(u.BaseComponent);t.GroupedListSection=y});
//direct-dependencies=tslib,react,OfficeFabric/Utilities,OfficeFabric/utilities/selection/index,OfficeFabric/components/GroupedList/GroupHeader,OfficeFabric/components/GroupedList/GroupShowAll,OfficeFabric/components/GroupedList/GroupFooter,OfficeFabric/List,OfficeFabric/Utilities,OfficeFabric/components/GroupedList/GroupedList.scss
