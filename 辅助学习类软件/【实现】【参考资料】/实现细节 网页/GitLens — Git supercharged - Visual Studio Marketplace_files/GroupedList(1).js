//dependencies=tslib#?,react#?,@uifabric/utilities/Async#0,@uifabric/utilities/object#0,@uifabric/utilities/EventGroup,@uifabric/utilities/dom#0,@uifabric/merge-styles/Stylesheet,@uifabric/merge-styles/transforms/kebabRules#0,@uifabric/merge-styles/getVendorSettings#0,@uifabric/merge-styles/transforms/prefixRules,@uifabric/merge-styles/transforms/provideUnits#0,@uifabric/merge-styles/transforms/rtlifyRules,@uifabric/merge-styles/styleToClassName,@uifabric/merge-styles/extractStyleParts,@uifabric/merge-styles/mergeStyles,@uifabric/merge-styles/concatStyleSets#0,@uifabric/merge-styles/mergeStyleSets,@uifabric/merge-styles/fontFace,@uifabric/merge-styles/keyframes,@uifabric/merge-styles/index,@uifabric/merge-styles/lib/index,@uifabric/utilities/scroll,@uifabric/utilities/AutoScroll,@uifabric/utilities/warn#0,@uifabric/utilities/keyboard#0,@uifabric/utilities/initializeFocusRects,@uifabric/utilities/initializeDir,@uifabric/utilities/BaseComponent,@uifabric/utilities/Context,@uifabric/utilities/GlobalSettings#0,@uifabric/utilities/Customizations,prop-types#?,@uifabric/utilities/Customizer,@uifabric/utilities/DelayedRender,@uifabric/utilities/FabricPerformance#0,@uifabric/utilities/KeyCodes#0,@uifabric/utilities/Rectangle#0,@uifabric/utilities/array#0,@uifabric/utilities/assertNever#0,@uifabric/utilities/autobind#0,@uifabric/utilities/classNamesFunction,@uifabric/utilities/createRef#0,@uifabric/utilities/css#0,@uifabric/utilities/hoistStatics#0,@uifabric/utilities/customizable,@uifabric/utilities/focus,@uifabric/utilities/hoist#0,@uifabric/utilities/initials#0,@uifabric/utilities/localStorage#0,@uifabric/utilities/language,@uifabric/utilities/math#0,@uifabric/utilities/memoize#0,@uifabric/utilities/overflow#0,@uifabric/utilities/properties,@uifabric/utilities/resources#0,@uifabric/utilities/sessionStorage#0,@uifabric/merge-styles/lib/transforms/rtlifyRules,@uifabric/utilities/rtl,@uifabric/utilities/string#0,@uifabric/utilities/styled,@uifabric/utilities/index,@uifabric/utilities/lib/index,OfficeFabric/Utilities,OfficeFabric/utilities/selection/interfaces#0,OfficeFabric/utilities/selection/Selection,OfficeFabric/utilities/selection/SelectionZone,OfficeFabric/utilities/selection/index,OfficeFabric/components/Icon/Icon.types#0,OfficeFabric/components/Image/Image.types#0,OfficeFabric/components/Image/Image.base,@uifabric/styling/MergeStyles,@uifabric/styling/utilities/buildClassMap,@uifabric/utilities/lib/warn,@uifabric/utilities/lib/GlobalSettings,@uifabric/styling/utilities/icons,@uifabric/styling/utilities/getIconClassName,@uifabric/styling/utilities/index,@uifabric/styling/styles/AnimationStyles,@uifabric/styling/styles/DefaultPalette#0,@uifabric/styling/styles/fonts#0,@uifabric/utilities/lib/language,@uifabric/styling/styles/DefaultFontStyles,@uifabric/styling/styles/CommonStyles#0,@uifabric/utilities/lib/initializeFocusRects,@uifabric/styling/styles/zIndexes#0,@uifabric/styling/styles/getFocusStyle,@uifabric/styling/styles/hiddenContentStyle#0,@uifabric/styling/styles/PulsingBeaconAnimationStyles,@uifabric/styling/styles/getGlobalClassNames#0,@uifabric/utilities/lib/Customizations,@microsoft/load-themed-styles#?,@uifabric/styling/styles/theme,@uifabric/styling/styles/GeneralStyles#0,@uifabric/styling/styles/index,@uifabric/styling/classNames/AnimationClassNames,@uifabric/styling/classNames/FontClassNames,@uifabric/styling/classNames/ColorClassNames,@uifabric/styling/classNames/index,@uifabric/styling/index,@uifabric/styling/lib/index,OfficeFabric/Styling,OfficeFabric/components/Image/Image.styles,OfficeFabric/components/Image/Image,OfficeFabric/components/Icon/Icon.base,OfficeFabric/components/Icon/Icon.styles#0,OfficeFabric/components/Icon/Icon,OfficeFabric/components/Icon/index,OfficeFabric/Icon,OfficeFabric/components/Check/Check.styles,OfficeFabric/components/Check/Check.base,OfficeFabric/components/Check/Check,OfficeFabric/components/Check/index,OfficeFabric/Check,OfficeFabric/components/GroupedList/GroupSpacer.scss,OfficeFabric/components/GroupedList/GroupSpacer,OfficeFabric/components/Spinner/Spinner.types#0,OfficeFabric/components/Spinner/Spinner.base,OfficeFabric/components/Spinner/Spinner.styles,OfficeFabric/components/Spinner/Spinner,OfficeFabric/components/Spinner/index,OfficeFabric/Spinner,OfficeFabric/components/FocusZone/FocusZone.types#0,OfficeFabric/components/FocusZone/FocusZone,OfficeFabric/components/FocusZone/index,OfficeFabric/FocusZone,OfficeFabric/components/GroupedList/GroupHeader.scss,OfficeFabric/components/GroupedList/GroupHeader,OfficeFabric/utilities/keytips/KeytipConstants#0,OfficeFabric/utilities/keytips/KeytipManager,OfficeFabric/utilities/keytips/KeytipUtils,OfficeFabric/components/KeytipData/KeytipData,OfficeFabric/components/KeytipData/index,OfficeFabric/KeytipData,OfficeFabric/components/Link/Link.base,OfficeFabric/components/Link/Link.styles,OfficeFabric/components/Link/Link,OfficeFabric/components/Link/index,OfficeFabric/Link,OfficeFabric/components/GroupedList/GroupShowAll.scss,OfficeFabric/components/GroupedList/GroupShowAll,OfficeFabric/components/GroupedList/GroupFooter.scss,OfficeFabric/components/GroupedList/GroupFooter,OfficeFabric/components/List/List,OfficeFabric/components/List/List.types#0,OfficeFabric/components/List/index,OfficeFabric/List,OfficeFabric/components/GroupedList/GroupedList.scss,OfficeFabric/components/GroupedList/GroupedListSection
define(["require","exports","tslib","react","../../Utilities","./GroupedListSection","../../List","../../utilities/selection/index","./GroupedList.scss"],function(n,t,i,r,u,f,e,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var h=s,c=function(n){function t(t){var i=n.call(this,t)||this;return i._list=u.createRef(),i._renderGroup=function(n,t){var e=i.props,h=e.dragDropEvents,c=e.dragDropHelper,l=e.eventsToRegister,o=e.groupProps,a=e.items,v=e.listProps,y=e.onRenderCell,p=e.selectionMode,w=e.selection,b=e.viewport,k=e.onShouldVirtualize,s={onToggleSelectGroup:i._onToggleSelectGroup,onToggleCollapse:i._onToggleCollapse,onToggleSummarize:i._onToggleSummarize},d=u.assign({},o.headerProps,s),g=u.assign({},o.showAllProps,s),nt=u.assign({},o.footerProps,s),tt=i._getGroupNestingDepth();return!o.showEmptyGroups&&n&&n.count===0?null:r.createElement(f.GroupedListSection,{ref:"group_"+t,key:i._getGroupKey(n,t),dragDropEvents:h,dragDropHelper:c,eventsToRegister:l,footerProps:nt,getGroupItemLimit:o&&o.getGroupItemLimit,group:n,groupIndex:t,groupNestingDepth:tt,headerProps:d,listProps:v,items:a,onRenderCell:y,onRenderGroupHeader:o.onRenderHeader,onRenderGroupShowAll:o.onRenderShowAll,onRenderGroupFooter:o.onRenderFooter,selectionMode:p,selection:w,showAllProps:g,viewport:b,onShouldVirtualize:k})},i._onToggleCollapse=function(n){var t=i.props.groupProps,r=t&&t.headerProps&&t.headerProps.onToggleCollapse;n&&(r&&r(n),n.isCollapsed=!n.isCollapsed,i._updateIsSomeGroupExpanded(),i.forceUpdate())},i._onToggleSelectGroup=function(n){n&&i.props.selection.toggleRangeSelected(n.startIndex,n.count)},i._onToggleSummarize=function(n){var t=i.props.groupProps,r=t&&t.showAllProps&&t.showAllProps.onToggleSummarize;r?r(n):(n&&(n.isShowingAll=!n.isShowingAll),i.forceUpdate())},i._getPageSpecification=function(n){var t=i.state.groups,r=t&&t[n];return{key:r&&r.name}},i._isSomeGroupExpanded=i._computeIsSomeGroupExpanded(t.groups),i.state={lastWidth:0,groups:t.groups},i}return i.__extends(t,n),t.prototype.scrollToIndex=function(n,t,i){this._list.current&&this._list.current.scrollToIndex(n,t,i)},t.prototype.componentWillReceiveProps=function(n){var i=this.props,r=i.groups,u=i.selectionMode,t=!1;n.groups!==r&&(this.setState({groups:n.groups}),t=!0);n.selectionMode!==u&&(t=!0);t&&this._forceListUpdates()},t.prototype.render=function(){var n=this.props,i=n.className,f=n.usePageCache,o=n.onShouldVirtualize,t=this.state.groups;return r.createElement("div",{className:u.css("ms-GroupedList",h.root,i),"data-automationid":"GroupedList","data-is-scrollable":"false",role:"presentation"},t?r.createElement(e.List,{ref:this._list,items:t,onRenderCell:this._renderGroup,getItemCountForPage:this._returnOne,getPageSpecification:this._getPageSpecification,usePageCache:f,onShouldVirtualize:o}):this._renderGroup(null,0))},t.prototype.forceUpdate=function(){n.prototype.forceUpdate.call(this);this._forceListUpdates()},t.prototype.toggleCollapseAll=function(n){var i=this.state.groups,r=this.props.groupProps,u=r&&r.onToggleCollapseAll,t;if(i){for(u&&u(n),t=0;t<i.length;t++)i[t].isCollapsed=n;this._updateIsSomeGroupExpanded();this.forceUpdate()}},t.prototype._returnOne=function(){return 1},t.prototype._getGroupKey=function(n,t){return"group-"+(n&&n.key?n.key:String(t))},t.prototype._getGroupNestingDepth=function(){for(var i=this.state.groups,t=0,n=i;n&&n.length>0;)t++,n=n[0].children;return t},t.prototype._forceListUpdates=function(n){var r,i,t;if(n=n||this.state.groups,r=n?n.length:1,this._list.current)for(this._list.current.forceUpdate(),i=0;i<r;i++)t=this._list.current.refs["group_"+String(i)],t&&t.forceListUpdate();else t=this.refs["group_"+String(0)],t&&t.forceListUpdate()},t.prototype._computeIsSomeGroupExpanded=function(n){var t=this;return!!(n&&n.some(function(n){return n.children?t._computeIsSomeGroupExpanded(n.children):!n.isCollapsed}))},t.prototype._updateIsSomeGroupExpanded=function(){var i=this.state.groups,t=this.props.onGroupExpandStateChanged,n=this._computeIsSomeGroupExpanded(i);this._isSomeGroupExpanded!==n&&(t&&t(n),this._isSomeGroupExpanded=n)},t.defaultProps={selectionMode:o.SelectionMode.multiple,isHeaderVisible:!0,groupProps:{}},t}(u.BaseComponent);t.GroupedList=c});
//direct-dependencies=tslib,react,OfficeFabric/Utilities,OfficeFabric/components/GroupedList/GroupedListSection,OfficeFabric/List,OfficeFabric/utilities/selection/index,OfficeFabric/components/GroupedList/GroupedList.scss
