webpackJsonp([53],{112:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(444);r.d(t,"MemoryRouter",function(){return n["a"]});var o=r(449);r.d(t,"Prompt",function(){return o["a"]});var a=r(451);r.d(t,"Redirect",function(){return a["a"]});var i=r(182);r.d(t,"Route",function(){return i["a"]});var u=r(181);r.d(t,"Router",function(){return u["a"]});var c=r(297);r.d(t,"StaticRouter",function(){return c["a"]});var l=r(298);r.d(t,"Switch",function(){return l["a"]});var s=r(111);r.d(t,"matchPath",function(){return s["a"]});var f=r(299);r.d(t,"withRouter",function(){return f["a"]})},1998:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o,a;var i=r(0);var u=b(i);var c=r(26);var l=y(c);var s=r(5);var f=r(1);var p=r(14);var d=r(823);var h=y(d);var v=r(836);var m=y(v);function y(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=(n=f.Skeleton.connectToSkeleton(function(e){var t=e.isLoading;return{isLoading:t}}),o=(0,s.connect)(function(e){var t=e.userCanEdit;return{userCanEdit:t}}),n(a=o(a=function(e){_(t,e);function t(){g(this,t);return E(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.location,n=t.userCanEdit,o=t.isLoading;if(!n&&!o)return u.createElement(p.RawRedirect,{to:"/"});var a=m.default.getActiveTab(r);var i=a?a.defaultTitle:"";return u.createElement(f.ColorPalette.Brand,null,u.createElement(p.GAProvider.TrackView,{pathname:r.pathname},u.createElement(p.ScrollToTop,null,u.createElement(f.TabsPage,{primary:true,title:i},u.createElement(l.default,null,u.createElement("title",null,i),u.createElement("meta",{name:"robots",content:"noindex, nofollow"})),u.createElement(f.TabsPage.ToggleableSide,null,u.createElement(h.default,{isModal:false,active:a&&a.id})),u.createElement(m.default,{isModal:false,location:r})))))};return t}(u.Component))||a)||a);t.default=w},2000:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(2001);Object.defineProperty(t,"default",{enumerable:true,get:function e(){return o(n).default}});function o(e){return e&&e.__esModule?e:{default:e}}},2044:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(2045);Object.defineProperty(t,"default",{enumerable:true,get:function e(){return o(n).default}});function o(e){return e&&e.__esModule?e:{default:e}}},2048:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(2049);Object.defineProperty(t,"default",{enumerable:true,get:function e(){return o(n).default}});function o(e){return e&&e.__esModule?e:{default:e}}},2057:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(2058);Object.defineProperty(t,"default",{enumerable:true,get:function e(){return o(n).default}});function o(e){return e&&e.__esModule?e:{default:e}}},2064:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(2065);var o=a(n);function a(e){return e&&e.__esModule?e:{default:e}}t.default=o.default},2065:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o;var a=r(0);var i=g(a);var u=r(26);var c=b(u);var l=r(5);r(3);var s=r(1);var f=r(7);var p=r(2066);var d=b(p);var h=r(2119);var v=b(h);var m=r(2122);var y=b(m);function b(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=(n=(0,l.connect)(function(e){var t=e.space,r=e.org;return{space:t,org:r}}),n(o=function(e){w(t,e);function t(){E(this,t);return _(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props.space;var r="Integrations";var n="Setup integrations between your GitBook project and other services.";return i.createElement(i.Fragment,null,i.createElement(c.default,null,i.createElement("title",null,r),i.createElement("meta",{name:"description",content:n})),i.createElement(s.TabsPage.Header,null,i.createElement(s.TabsPage.Header.Title,null,r),i.createElement(s.TabsPage.Header.Desc,null,n)),i.createElement(d.default,{space:t}),i.createElement(v.default,{space:t}),i.createElement(y.default,{space:t}),i.createElement(s.Panel,null,i.createElement(s.Panel.Header,null,i.createElement(s.Panel.Header.Left,null,i.createElement(s.Panel.Header.Title,null,i.createElement(f.IconIntercom,null)," Intercom"),i.createElement(s.Panel.Header.Hint,null,"Coming soon...")))))};return t}(i.Component))||o);t.default=O},2066:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(2067);Object.defineProperty(t,"default",{enumerable:true,get:function e(){return o(n).default}});function o(e){return e&&e.__esModule?e:{default:e}}},2067:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o;var a=r(0);var i=E(a);var u=r(10);var c=r(1);var l=r(7);var s=r(3);var f=r(461);var p=g(f);var d=r(2068);var h=g(d);var v=r(2069);var m=g(v);var y=r(2070);var b=g(y);function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function _(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,a){try{var i=t[o](a);var u=i.value}catch(e){r(e);return}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var T=(n=u.Connectors.database(function(e){var t=e.space;return{githubConfig:s.GitHubConfig.queryBySpace(t.uid).setOptions({waitFetched:false})}}),n(o=function(e){S(t,e);function t(){var r=this;var n,o,a;w(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return a=(n=(o=O(this,e.call.apply(e,[this].concat(u))),o),o.state={error:null,wasChecked:false},o.checkTokenSanity=_(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:t=o.props.githubConfig;o.setState({error:null,wasChecked:true});r.prev=2;if(!(t&&t.token)){r.next=6;break}r.next=6;return(0,b.default)(t.token,t.repoID);case 6:r.next=11;break;case 8:r.prev=8;r.t0=r["catch"](2);o.setState({error:r.t0});case 11:case"end":return r.stop()}},e,r,[[2,8]])})),n),O(o,a)}t.prototype.componentDidUpdate=function e(t,r){var n=this.props.githubConfig;var o=t.githubConfig,a=t.githubConfigFetched;var i=r.wasChecked;!a||!n||i&&n.token===o.token||this.checkTokenSanity()};t.prototype.render=function e(){var t=this.props,r=t.space,n=t.githubConfig,o=t.githubConfigFetched;var a=this.state.error;return i.createElement(c.ColorPalette.Brand,null,i.createElement(p.default,{enabled:null!=n,hasError:!!a,icon:i.createElement(l.IconGitHub,null),title:"GitHub",headline:"Have your documentation always up-to-date by mirroring the content of your GitHub repository."},o&&(n?i.createElement(m.default,{space:r,githubConfig:n,error:a}):i.createElement(h.default,{space:r}))))};return t}(i.Component))||o);t.default=T},2068:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o,a,i;var u=r(0);var c=h(u);var l=r(2);var s=r(5);var f=r(12);var p=r(10);r(3);var d=r(1);function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=(n=(0,s.connect)(function(e){var t=e.org;return{org:t}}),n(o=(i=a=function(e){y(t,e);function t(){var r,n,o;v(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return o=(r=(n=m(this,e.call.apply(e,[this].concat(i))),n),n.onClick=function(){var e=n.props,t=e.dispatch,r=e.space,o=e.org;t(p.Flux.auth.redirectToOrg({org:o,pathname:"spaces/"+r.baseName+"/github"}))},r),m(n,o)}t.prototype.render=function e(){var r=t.STYLES;return c.createElement(d.Form.Group,{styles:[r.group]},c.createElement(d.Button,{kind:"secondary",onClick:this.onClick},c.createElement(f.FormattedMessage,{id:"SettingsGitHub.authWithGitHub",defaultMessage:"Link your GitHub Repository"})))};return t}(c.Component),a.STYLES=l.StyleSheet.create({group:{marginBottom:0}}),i))||o);t.default=b},2069:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o,a,i;var u=r(0);var c=d(u);var l=r(5);var s=r(2);var f=r(1);var p=r(10);function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function h(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,a){try{var i=t[o](a);var u=i.value}catch(e){r(e);return}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=(n=(0,l.connect)(function(e){var t=e.org;return{org:t}}),n(o=(i=a=function(e){y(t,e);function t(){var r=this;var n,o,a;v(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return a=(n=(o=m(this,e.call.apply(e,[this].concat(u))),o),o.onEdit=h(regeneratorRuntime.mark(function e(){var t,n,a,i;return regeneratorRuntime.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:t=o.props,n=t.dispatch,a=t.space,i=t.org;r.next=3;return n(p.Flux.auth.redirectToOrg({org:i,pathname:"spaces/"+a.baseName+"/github"}));case 3:case"end":return r.stop()}},e,r)})),o.onRemove=h(regeneratorRuntime.mark(function e(){var t,n,a,i,u;return regeneratorRuntime.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:t=o.props,n=t.space,a=t.githubConfig,i=t.dispatch;u="Do you really want to unlink from GitHub? The project will remain available on GitBook but changes made to the GitHub repository will not be imported anymore.";if(window.confirm(u)){r.next=4;break}return r.abrupt("return");case 4:r.next=6;return i(p.Flux.space.unlinkGitHubSync(n,a));case 6:case"end":return r.stop()}},e,r)})),o.onReconfigure=h(regeneratorRuntime.mark(function e(){var t,n,a,i,u;return regeneratorRuntime.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:t=o.props,n=t.dispatch,a=t.githubConfig,i=t.space,u=t.org;if(a){r.next=3;break}return r.abrupt("return");case 3:r.next=5;return n(p.Flux.space.unlinkGitHubSync(i,a));case 5:r.next=7;return n(p.Flux.auth.redirectToOrg({org:u,pathname:"spaces/"+i.baseName+"/github"}));case 7:case"end":return r.stop()}},e,r)})),n),m(o,a)}t.prototype.render=function e(){var r=t.STYLES;var n=this.props,o=n.githubConfig,a=n.error;return c.createElement(f.View,null,a&&c.createElement(f.Alert,{styles:[f.Alert.STYLES.danger]},a.message," Re-authorize GitBook","'","s access to continue working in sync with GitHub."),c.createElement(f.Form.Group,null,c.createElement(f.Text,{styles:[r.text]},"This project is linked to the",c.createElement("span",{className:(0,s.css)(r.repoName)}," ",o.repoID," "),"repository. Commits on the repository will update the content of this project.")),c.createElement(f.Form.Actions,null,a?c.createElement(f.Button,{kind:"secondary",onClick:this.onReconfigure},"Re-configure GitHub"):c.createElement(f.Button,{kind:"secondary",onClick:this.onEdit},"Edit configuration"),c.createElement(f.Button,{kind:"secondary",styles:[r.unlink],onClick:this.onRemove},"Unlink")))};return t}(c.Component),a.STYLES=s.StyleSheet.create({unlink:{borderColor:f.colors.RED_BASE,color:f.colors.RED_BASE,marginLeft:f.spacing.S100,":hover":{borderColor:f.colors.setLuminosity(f.colors.RED_BASE,78)}},text:{color:f.colors.GREY_BASE},repoName:{color:f.colors.BLACK}}),i))||o);t.default=b},2070:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){var e=u(regeneratorRuntime.mark(function e(t,r){var n,o,i,u,c,l;return regeneratorRuntime.wrap(function e(s){while(1)switch(s.prev=s.next){case 0:n=(0,a.default)();n.authenticate({type:"oauth",token:t});o=r.split("/"),i=o[0],u=o[1];s.prev=3;s.next=6;return n.repos.get({owner:i,repo:u});case 6:c=s.sent;l=c.data.permissions;if(l.admin){s.next=10;break}throw new Error("User no longer has the admin permissions for the repository "+r+".");case 10:s.next=15;break;case 12:s.prev=12;s.t0=s["catch"](3);throw new Error("The GitHub token has expired or the user has no longer access to the repository "+r+".");case 15:case"end":return s.stop()}},e,this,[[3,12]])}));return function t(r,n){return e.apply(this,arguments)}}();var o=r(462);var a=i(o);function i(e){return e&&e.__esModule?e:{default:e}}function u(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,a){try{var i=t[o](a);var u=i.value}catch(e){r(e);return}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}t.default=n},2072:function(e,t,r){e.exports=i;var n=r(2073);var o=r(2074);var a=r(2075);function i(){var e={registry:{}};var t=n.bind(null,e);t.remove={};t.api={remove:{}};["before","error","after"].forEach(function(r){t[r]=t.api[r]=o.bind(null,e,r);t.remove[r]=t.api.remove[r]=a.bind(null,e,r)});return t}},2076:function(e,t,r){(function(t){e.exports=c;const n=r(309);const o=r(274);const a=r(2079);const i=r(2080);const u=["timeout","baseUrl","agent","headers"];function c(e){e||(e={});"followRedirects"in e&&console.warn("DEPRECATED: followRedirects option is no longer supported. All redirects are followed correctly");"protocol"in e&&console.warn("DEPRECATED: protocol option is no longer supported");"host"in e&&console.warn("DEPRECATED: host option is no longer supported");"port"in e&&console.warn("DEPRECATED: port option is no longer supported");"pathPrefix"in e&&console.warn("DEPRECATED: pathPrefix option is no longer supported");"Promise"in e&&console.warn("DEPRECATED: Promise option is no longer supported. The native Promise API is used");const r=n(o(e,u),i);const c={baseUrl:r.baseUrl,headers:r.headers,request:{timeout:r.timeout}};if(e.protocol){c.baseUrl=`${e.protocol}://${e.host}`;e.port&&(c.baseUrl+=`:${e.port}`);e.pathPrefix&&(c.baseUrl+="/"+e.pathPrefix.replace(/(^[/]+|[/]+$)/g,""))}t.browser||(c.request.agent=a(c.baseUrl,e));return c}}).call(t,r(39))},2081:function(e,t,r){e.exports=a;const n=r(831);const o=r(2095);function a(e){const t=n(e);return o(t)}},2100:function(e,t,r){e.exports=a;const n=r(2101);const o=r(2102);function a(e){const t={auth:false};e.authenticate=n.bind(null,t);e.hook.before("request",o.bind(null,t))}},2104:function(e,t,r){e.exports=u;const n=r(274);const o=r(2105);const a=r(2108);const i=r(2109);function u(e){Object.keys(i).forEach(t=>{e[t]={};Object.keys(i[t]).forEach(r=>{const u=i[t][r];const c=n(u,["method","url","headers","request"]);e[t][r]=o.bind(null,e,c,u.params);u.deprecated&&(e[t][r]=a(e[t][r],u.deprecated))})})}},2110:function(e,t,r){e.exports=n;function n(e){e.getFirstPage=r(2111).bind(null,e);e.getLastPage=r(2112).bind(null,e);e.getNextPage=r(2113).bind(null,e);e.getPreviousPage=r(2114).bind(null,e);e.hasFirstPage=r(2115);e.hasLastPage=r(2116);e.hasNextPage=r(2117);e.hasPreviousPage=r(2118)}},2111:function(e,t,r){e.exports=o;const n=r(310);function o(e,t,r,o){return n(e,t,"first",r,o)}},2112:function(e,t,r){e.exports=o;const n=r(310);function o(e,t,r,o){return n(e,t,"last",r,o)}},2113:function(e,t,r){e.exports=o;const n=r(310);function o(e,t,r,o){return n(e,t,"next",r,o)}},2114:function(e,t,r){e.exports=o;const n=r(310);function o(e,t,r,o){return n(e,t,"prev",r,o)}},2115:function(e,t,r){e.exports=o;const n=r(226);function o(e){return n(e).first}},2116:function(e,t,r){e.exports=o;const n=r(226);function o(e){return n(e).last}},2119:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(2120);Object.defineProperty(t,"default",{enumerable:true,get:function e(){return o(n).default}});function o(e){return e&&e.__esModule?e:{default:e}}},2120:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o;var a=r(0);var i=v(a);var u=r(5);var c=r(1);var l=r(7);var s=r(461);var f=h(s);var p=r(2121);var d=h(p);function h(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=(n=(0,u.connect)(),n(o=function(e){b(t,e);function t(){m(this,t);return y(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props.space;return i.createElement(c.ColorPalette.Brand,null,i.createElement(f.default,{enabled:!!t.googleAnalyticsID,icon:i.createElement(l.IconGoogleAnalytics,null),title:"Google Analytics",headline:"Receive traffic insights directly in your Google Analytics' dashboard."},i.createElement(d.default,{space:t})))};return t}(i.Component))||o);t.default=g},2121:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o,a;var i=r(0);var u=f(i);var c=r(5);var l=r(10);r(3);var s=r(1);function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function v(e){return/^ua-\d{4,9}-\d{1,4}$/i.test(e)}var m=(n=(0,c.connect)(),o=s.Form.withContext({getValueFromProps:function e(t){var r=t.space;return r.googleAnalyticsID||""}}),n(a=o(a=function(e){h(t,e);function t(){var r,n,o;p(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return o=(r=(n=d(this,e.call.apply(e,[this].concat(i))),n),n.state={error:null},n.inputRef=function(e){n.input=e},n.onChange=function(e){var t=n.props.onChange;t(e.currentTarget.value);n.setState({error:null})},n.onRemove=function(){var e="Do you really want to remove the Google Analytics integration? Traffic will no more be tracked through your Google Analytics account.";if(window.confirm(e)){var t=n.props,r=t.dispatch,o=t.space;r(l.Flux.space.updateGoogleAnalyticsID(o,null))}},n.onSubmit=function(e){e.preventDefault();var t=n.props.value;if(""===t){n.setState({error:new Error("The tracking ID is required for the integration to work.")});return}if(!v(t)){n.setState({error:new Error('This tracking ID is not valid, it should look like "UA-123456789-1".')});return}var r=n.props,o=r.dispatch,a=r.space;o(l.Flux.space.updateGoogleAnalyticsID(a,t))},r),d(n,o)}t.prototype.componentDidMount=function e(){var t=this.props.space;null==t.googleAnalyticsID&&this.input.select()};t.prototype.render=function e(){var t=this.props,r=t.value,n=t.hasChanged,o=t.space;var a=this.state.error;var i=null==o.googleAnalyticsID;return u.createElement(s.Form,{onSubmit:this.onSubmit},u.createElement(s.Form.Group,{error:a},u.createElement(s.Form.Input,{value:r,onChange:this.onChange,placeholder:"UA-XXXXXXXXX-X",inputRef:this.inputRef}),u.createElement(s.Form.Hint,null,'Enter your tracking ID. You can find it in your Google Analytics account, in the "Tracking Info/Tracking Code" section of the "Admin" page.')),u.createElement(s.Form.Actions,null,!i&&u.createElement(s.Form.Button,{type:"button",kind:"secondary",onClick:this.onRemove},"Remove Integration"),(n||i)&&u.createElement(s.Form.Button,{type:"submit"},i?"Enable":"Save Changes")))};return t}(u.Component))||a)||a);t.default=m},2122:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(2123);Object.defineProperty(t,"default",{enumerable:true,get:function e(){return o(n).default}});function o(e){return e&&e.__esModule?e:{default:e}}},2123:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o,a;var i=r(0);var u=b(i);var c=r(5);var l=r(3);var s=r(1);var f=r(7);var p=r(10);var d=r(461);var h=y(d);var v=r(2124);var m=y(v);function y(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=(n=(0,c.connect)(function(e){var t=e.config;return{clientID:t.slack.client_id,redirectURI:t.slack.redirect_uri}}),o=p.Connectors.database(function(e){var t=e.space;return{integrations:l.SlackIntegration.queryBySpace(t.uid).setOptions({waitFetched:false})}}),n(a=o(a=function(e){_(t,e);function t(){g(this,t);return E(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.clientID,n=t.space,o=t.integrations;var a=this.props.redirectURI+"?space="+n.uid;return u.createElement(s.ColorPalette.Brand,null,u.createElement(h.default,{enabled:o.size>0,icon:u.createElement(f.IconSlack,null),title:"Slack",headline:"Search your documentation directly from Slack with a special /gitbook command."},u.createElement(s.Form.Group,null,u.createElement("a",{href:"https://slack.com/oauth/authorize?&client_id="+r+"&scope=commands,incoming-webhook&redirect_uri="+encodeURIComponent(a)},u.createElement("img",{alt:"Add to Slack",height:"40",width:"139",src:"https://platform.slack-edge.com/img/add_to_slack.png",srcSet:"https://platform.slack-edge.com/img/add_to_slack.png 1x, https://platform.slack-edge.com/img/add_to_slack@2x.png 2x"}))),o.map(function(e){return u.createElement(m.default,{key:e.teamID,integration:e})}).toArray()))};return t}(u.Component))||a)||a);t.default=w},2124:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o;var a=r(0);var i=m(a);var u=r(12);var c=r(2);var l=r(5);var s=r(1);var f=r(7);var p=r(834);var d=r(2125);var h=v(d);function v(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=c.StyleSheet.create({integration:{paddingTop:s.boxes.SPACING_V_NORMAL,borderTop:"1px solid "+s.colors.BORDER_LIGHT,marginTop:s.boxes.SPACING_V_NORMAL},integrationTitle:{display:"flex",fontSize:18,marginBottom:s.boxes.PADDING_NORMAL},integrationTitleContent:{flex:1,paddingRight:s.boxes.PADDING_SMALL},integrationTitleRemove:{cursor:"pointer",color:s.colors.TEXT_MUTED,opacity:0,transition:"opacity 150ms ease-out",":hover":{color:s.colors.TEXT_COLOR}},integrationTitleRemoveVisible:{opacity:1},integrationTitleCheckmark:{color:s.colors.SUCCESS,marginRight:6},integrationSubTitle:{marginBottom:s.boxes.PADDING_SMALL},integrationChannelList:{margin:0}});var _=(n=(0,l.connect)(),n(o=function(e){g(t,e);function t(){var r,n,o;y(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return o=(r=(n=b(this,e.call.apply(e,[this].concat(i))),n),n.state={isHover:false},n.onMouseEnter=function(){return n.setState({isHover:true})},n.onMouseLeave=function(){return n.setState({isHover:false})},n.onRemove=function(){var e=n.props,t=e.dispatch,r=e.integration;t((0,p.remove)(r))},r),b(n,o)}t.prototype.render=function e(){var t=this.props.integration;var r=this.state.isHover;return i.createElement("div",{className:(0,c.css)(E.integration),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},i.createElement("div",{className:(0,c.css)(E.integrationTitle)},i.createElement("div",{className:(0,c.css)(E.integrationTitleContent)},i.createElement("span",{className:(0,c.css)(E.integrationTitleCheckmark)},i.createElement(f.IconCheckCircle,null)),i.createElement(u.FormattedMessage,{id:"SlackIntegrations.integration.title",defaultMessage:"Added to {teamName}",values:{teamName:i.createElement("strong",null,t.teamName)}})),i.createElement("div",{role:"button",tabIndex:0,className:(0,c.css)(E.integrationTitleRemove,r&&E.integrationTitleRemoveVisible),onClick:this.onRemove},i.createElement(f.IconX,null))),t.channels.size>0&&i.createElement("div",null,i.createElement("div",{className:(0,c.css)(E.integrationSubTitle)},i.createElement(u.FormattedMessage,{id:"SlackIntegrations.integration.channels",defaultMessage:"Your team can receive notifications in:"})),i.createElement("ul",{className:(0,c.css)(E.integrationChannelList)},t.channels.map(function(e){return i.createElement("li",{key:e.channelID},i.createElement(h.default,{integration:t,channel:e,showControls:r}))}).toArray())))};return t}(i.Component))||o);t.default=_},2125:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o;var a=r(0);var i=p(a);var u=r(2);var c=r(5);var l=r(1);var s=r(7);var f=r(834);function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=u.StyleSheet.create({integrationChannel:{},integrationChannelRemove:{cursor:"pointer",color:l.colors.TEXT_MUTED,marginLeft:4,opacity:0,transition:"opacity 150ms ease-out",":hover":{color:l.colors.TEXT_COLOR}},integrationChannelRemoveVisible:{opacity:1}});var y=(n=(0,c.connect)(),n(o=function(e){v(t,e);function t(){var r,n,o;d(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return o=(r=(n=h(this,e.call.apply(e,[this].concat(i))),n),n.onRemove=function(){var e=n.props,t=e.dispatch,r=e.integration,o=e.channel;t((0,f.removeChannel)(r,o))},r),h(n,o)}t.prototype.render=function e(){var t=this.props,r=t.channel,n=t.showControls;return i.createElement("div",{className:(0,u.css)(m.integrationChannel)},i.createElement("strong",null,r.channelName),i.createElement("span",{role:"button",tabIndex:0,className:(0,u.css)(m.integrationChannelRemove,n&&m.integrationChannelRemoveVisible),onClick:this.onRemove},i.createElement(s.IconX,null)))};return t}(i.Component))||o);t.default=y},2126:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(2127);Object.defineProperty(t,"default",{enumerable:true,get:function e(){return o(n).default}});function o(e){return e&&e.__esModule?e:{default:e}}},2127:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o,a;var i=r(0);var u=g(i);var c=r(26);var l=b(c);var s=r(5);var f=r(10);var p=r(3);var d=r(1);var h=r(835);var v=b(h);var m=r(2128);var y=b(m);function b(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var O=(n=(0,s.connect)(function(e){var t=e.org,r=e.space;return{org:t,space:r}}),o=f.Connectors.database(function(e){var t=e.org;return{members:p.Membership.queryByOrg(t.uid).setOptions({waitFetched:false}),teams:p.Team.queryByOrg(t.uid)}}),n(a=o(a=function(e){w(t,e);function t(){var r,n,o;E(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return o=(r=(n=_(this,e.call.apply(e,[this].concat(i))),n),n.onRedirect=function(e){var t=n.props,r=t.dispatch,o=t.org;r(f.Flux.auth.redirectToOrg({org:o,pathname:e?"teams/"+e.uid:"teams"}))},r),_(n,o)}t.prototype.render=function e(){var t=this;var r=this.props,n=r.org,o=r.space,a=r.teams,i=r.members;var c="Teams";var s="Setup your team permissions for this space";return u.createElement(u.Fragment,null,u.createElement(l.default,null,u.createElement("title",null,c),u.createElement("meta",{name:"description",content:s})),u.createElement(d.TabsPage.Header,null,u.createElement(d.TabsPage.Header.Title,null,c),u.createElement(d.TabsPage.Header.Desc,null,s)),u.createElement(y.default,{org:n,space:o,members:i,canManagePermissions:!a.isEmpty(),onRedirect:this.onRedirect}),a.toList().map(function(e){return u.createElement(y.default,{key:e.uid,org:n,space:o,team:e,canManagePermissions:!a.isEmpty(),members:i.filter(function(t){return t.teams.has(e.uid)}),onRedirect:t.onRedirect})}),u.createElement(v.default,{onClick:this.onRedirect}))};return t}(u.Component))||a)||a);t.default=O},2128:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var o,a,i,u;var c=r(0);var l=v(c);var s=r(2);r(3);var f=r(5);var p=r(10);var d=r(1);var h=r(14);function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function m(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,a){try{var i=t[o](a);var u=i.value}catch(e){r(e);return}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=(o=(0,f.connect)(),o(a=(u=i=function(e){g(t,e);function t(){var r=this;var n,o,a;y(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return a=(n=(o=b(this,e.call.apply(e,[this].concat(u))),o),o.onTogglePermission=function(){var e=m(regeneratorRuntime.mark(function e(t){var n,a,i,u,c,l;return regeneratorRuntime.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:t.stopPropagation();n=o.props,a=n.dispatch,i=n.team,u=n.org,c=n.space;l=!o.isActive;r.next=5;return a(p.Flux.space.updateSpacePermissions({org:u,team:i,value:l,spaceID:c.uid}));case 5:case"end":return r.stop()}},e,r)}));return function(t){return e.apply(this,arguments)}}(),o.onRedirect=function(){var e=o.props,t=e.onRedirect,r=e.team;t(r)},n),b(o,a)}t.prototype.render=function e(){var r=this.props,n=r.team,o=r.members,a=r.canManagePermissions;var i=t.STYLES;return l.createElement(d.Panel,null,l.createElement(d.Panel.Header,{onClick:this.onRedirect},l.createElement(d.Panel.Header.Left,null,l.createElement(d.Panel.Header.Title,null,l.createElement(d.View,{styles:[i.column]},l.createElement(d.View,{styles:[i.flexAlign]},a&&l.createElement(d.Switch,{checked:this.isActive,onClick:this.onTogglePermission,size:"medium",styles:[d.View.MARGIN.S200Right]}),n?n.name:"All members"),l.createElement(d.Text.TextH300,{styles:[i.members]},o.size," members")))),l.createElement(d.Panel.Header.Right,null,l.createElement(h.UserAvatar.List,{userIDs:o.map(function(e){return e.uid}).toArray()}),l.createElement(d.Panel.Toggle,{isCollapsed:true}))))};n(t,[{key:"isActive",get:function e(){var t=this.props,r=t.org,n=t.team,o=t.space;var a=n?n.spacesPermission.get(o.uid):r.spacesPermission.get(o.uid);var i=false===a;return!i}}]);return t}(l.Component),i.defaultProps={team:null},i.STYLES=s.StyleSheet.create({flexAlign:{display:"flex",alignItems:"center"},members:{color:d.colors.GREY_BASE},column:{display:"flex",flexDirection:"column"}}),u))||a);t.default=E},2138:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.fetchContentResults=void 0;var n=r(6);var o=r(3);var a=r(96);var i=r(71);var u=c(i);function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){return{type:u.default.SEARCH_FETCHED,query:e,results:t}}function s(e){var t=e.query,r=e.version;return function(e,i,u){var c=u.config;var s=i(),f=s.space;var p=a.Search.createForSpace(c.algolia.appid,f);var d={query:t,versionID:r.uid};return Promise.all([p.fetchPages(d),p.fetchSections(d)]).then(function(r){var a;var i=r[0],u=r[1];return e(l(t,(0,n.Map)((a={},a[o.PageSearchResult.INDEX]=i,a[o.SectionSearchResult.INDEX]=u,a))))})}}t.fetchContentResults=s},2139:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o,a;var i=r(0);var u=y(i);var c=r(2);var l=r(839);var s=r(7);var f=r(1);var p=r(311);var d=m(p);var h=r(93);var v=m(h);function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=13;var w=38;var O=40;var S=9;var T=(0,d.default)(n=(a=o=function(e){E(t,e);function t(){var r,n,o;b(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return o=(r=(n=g(this,e.call.apply(e,[this].concat(i))),n),n.blur=function(){n.input.blur()},n.clear=function(){var e=n.props.onClear;n.blur();e()},n.onChange=function(e){var t=n.props.onChange;t(e.currentTarget.value)},n.onKeyDown=function(e){var t=n.props,r=t.pickCursorResult,o=t.moveCursor;if(27==e.which){n.clear();return}var a=e.which;if(a===_){e.preventDefault();r();n.clear()}else if(a===w||a===S&&e.shiftKey){e.preventDefault();o(-1)}else if(a===O||a===S&&!e.shiftKey){e.preventDefault();o(1)}},n.onKeyboardTrigger=function(e){e.preventDefault();n.input.focus()},r),g(n,o)}t.prototype.componentDidMount=function e(){var t=this.props.autoFocus;if(t){this.input.focus();this.input.select()}};t.prototype.render=function e(){var r=this;var n=t.STYLES;var o=this.props,a=o.intl,i=o.query,c=o.onFocus,p=o.styles;return u.createElement(l.ComboKey,{combo:v.default.FOCUS_SEARCH,onTrigger:this.onKeyboardTrigger},u.createElement(f.View,{styles:[n.inputContainer,p]},u.createElement(f.Form.Input,{"data-test":"searchinput",inputRef:function e(t){r.input=t},type:"text",value:i,onFocus:c,onKeyDown:this.onKeyDown,onChange:this.onChange,placeholder:a.formatMessage({id:"SearchInput.placeholder",defaultMessage:"Search"}),styles:n.input,stylesInner:n.inputInner},u.createElement(f.Form.InputAddOn,{prefix:true},u.createElement(s.IconSearch,null)))))};return t}(u.Component),o.defaultProps={autoFocus:false,styles:null},o.STYLES=c.StyleSheet.create({inputContainer:{display:"flex",alignItems:"center",borderRadius:4,background:f.colors.GREY_LIGHTEST,border:"1px solid "+f.colors.GREY_LIGHTER},input:{background:"transparent",border:"none"},inputInner:{"::placeholder":{color:f.colors.GREY_DARK}}}),a))||n;t.default=T},2141:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var a=r(6);var i=r(2);var u=r(3);var c=r(1);var l=r(2142);var s=f(l);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=i.StyleSheet.create({resultsPlaceholder:{padding:c.boxes.PADDING_NORMAL,textAlign:"center",color:c.colors.TEXT_SECONDARY},resultsLoading:{color:c.colors.TEXT_COLOR}});var m=function(e){h(t,e);function t(){p(this,t);return d(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.cursor,n=t.onClick;var a=this.props.results.flatMap(function(e){return e.list.map(function(t){return{page:e.page,result:t}})});return o.default.createElement("div",{"data-test":"searchresults"},a.map(function(e,t){var a=e.page,i=e.result;return o.default.createElement(s.default,{key:a.uid+"-"+i.objectID,pageTitle:a.title,result:i,highlight:r===t,onClick:n})}))};return t}(o.default.Component);var y=function(e){h(t,e);function t(){p(this,t);return d(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.results,n=t.cursor,a=t.query,u=t.redirectToResult;if(!r)return o.default.createElement("div",{className:(0,i.css)(v.resultsPlaceholder,v.resultsLoading)},o.default.createElement(c.Loading,null));return r.size>0?o.default.createElement(m,{query:a,results:r,cursor:n,onClick:u}):o.default.createElement("div",{className:(0,i.css)(v.resultsPlaceholder)},"No results matching.")};return t}(o.default.Component);t.default=y},2142:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o;var a=r(0);var i=h(a);var u=r(2);var c=r(3);var l=r(1);var s=r(7);var f=r(2143);var p=d(f);function d(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=u.StyleSheet.create({result:{padding:10,cursor:"pointer",color:l.colors.TEXT_SECONDARY,borderLeft:"2px solid transparent",":last-child":{borderRadius:"0 0 "+l.boxes.RADIUS_NORMAL+"px "+l.boxes.RADIUS_NORMAL+"px"}},resultBreadcrumb:{fontSize:l.font.SIZE_NORMAL,fontWeight:l.font.WEIGHT_BOLD,marginBottom:4},resultBreadcrumbSeparator:{margin:"0px 5px"},resultBreadcrumbLast:{color:l.colors.TEXT_COLOR},resultContent:{fontSize:l.font.SIZE_SMALL,paddingLeft:l.boxes.PADDING_SMALL},highlight:{color:l.colors.TEXT_COLOR,fontWeight:l.font.WEIGHT_BOLDER,backgroundColor:"#ffffa3"}});var g=(n=l.ColorPalette.connect(["primary"]),n(o=function(e){y(t,e);function t(){var r,n,o;v(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return o=(r=(n=m(this,e.call.apply(e,[this].concat(i))),n),n.state={hovered:false},n.onMouseDown=function(e){e.preventDefault();var t=n.props,r=t.result,o=t.onClick;o(r)},n.onMouseEnter=function(){n.setState({hovered:true})},n.onMouseLeave=function(){n.setState({hovered:false})},r),m(n,o)}t.prototype.render=function e(){var t=this.props,r=t.colorPrimary,n=t.result,o=t.pageTitle,a=t.highlight;var f=this.state.hovered;var d=n.index===c.SectionSearchResult.INDEX&&Boolean(n.title);return i.createElement("div",{role:"menuitem",tabIndex:-1,style:a||f?{borderLeftColor:r,backgroundColor:l.colors.BG_SECONDARY}:{},className:(0,u.css)(b.result),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseDown:this.onMouseDown},i.createElement("div",{className:(0,u.css)(b.resultBreadcrumb)},d&&i.createElement("span",null,o),d&&i.createElement("span",{className:(0,u.css)(b.resultBreadcrumbSeparator)},i.createElement(s.IconChevronRight,null)),i.createElement("span",{className:(0,u.css)(b.resultBreadcrumbLast)},i.createElement(p.default,{result:n.highlightedTitle||o,highlightStyle:[b.highlight]}))),i.createElement("div",{className:(0,u.css)(b.resultContent)},i.createElement(p.default,{result:n.index===c.PageSearchResult.INDEX?n.highlightedDescription:n.highlightedContent,highlightStyle:[b.highlight]})))};return t}(i.Component))||o);t.default=g},2143:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=i(n);var a=r(2);function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=10;var f=function(e){l(t,e);function t(){var r,n,o;u(this,t);for(var a=arguments.length,i=Array(a),l=0;l<a;l++)i[l]=arguments[l];return o=(r=(n=c(this,e.call.apply(e,[this].concat(i))),n),n.shortenString=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"<em>";var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"</em>";if(!e.includes(t)){var n=e.split(" ");if(n.length<2*s)return e;return n.slice(0,2*s).join(" ")+"..."}var o=new RegExp("([\\s\\S]*?)("+t+".*?"+r+")([\\s\\S]*)");return e.replace(o,function(e,t,r,n){var o=t;var a=n;var i=o.split(" ");i.length>s&&(o="…"+i.slice(1-s).join(" "));var u=a.split(" ");u.length>s&&(a=u.slice(0,s+1).join(" ")+"…");return""+o+r+a})},r),c(n,o)}t.parseHighlightedString=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"<em>";var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"</em>";var o=t.split(r);var a=o.shift();var i=""===a?[]:[{value:a,isHighlighted:false}];if(n===r){var u=true;o.forEach(function(e){i.push({value:e,isHighlighted:u});u=!u})}else o.forEach(function(e){var t=e.split(n);i.push({value:t[0],isHighlighted:true});""!==t[1]&&i.push({value:t[1],isHighlighted:false})});return i};t.prototype.render=function e(){var r=this.props,n=r.result,i=r.highlightStyle;var u=this.shortenString(n);var c=t.parseHighlightedString(u);return o.createElement("span",null,c.map(function(e,t){return o.createElement("span",{key:t,className:e.isHighlighted?(0,a.css)(i):""},e.value)}))};return t}(o.Component);t.default=f},2144:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var o,a;var i=r(0);var u=f(i);var c=r(2);var l=r(7);var s=r(1);function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function p(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=(a=o=function(e){v(t,e);function t(){d(this,t);return h(this,e.apply(this,arguments))}t.prototype.render=function e(){var r=t.STYLES;var o=this.props,a=o.styles,i=p(o,["styles"]);return u.createElement("div",n({className:(0,c.css)(r.searchButton,a)},i),u.createElement(l.IconSearch,null))};return t}(u.Component),o.defaultProps={styles:[]},o.STYLES=c.StyleSheet.create({searchButton:{lineHeight:"32px",height:32,width:32,cursor:"pointer",fontSize:"20px",color:s.colors.TEXT_SECONDARY,textAlign:"center"}}),a);t.default=m},461:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o;var a=r(0);var i=l(a);var u=r(2);var c=r(1);function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=(o=n=function(e){p(t,e);function t(){var r,n,o;s(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return o=(r=(n=f(this,e.call.apply(e,[this].concat(i))),n),n.state={isCollapsed:true},n.onToggle=function(){n.setState(function(e){var t=e.isCollapsed;return{isCollapsed:!t}})},r),f(n,o)}t.getDerivedStateFromProps=function e(t){return{isCollapsed:!t.hasError}};t.prototype.render=function e(){var r=t.STYLES;var n=this.props,o=n.title,a=n.headline,l=n.icon,s=n.enabled,f=n.children,p=n.hasError;var d=this.state.isCollapsed;return i.createElement(c.Panel,null,i.createElement(c.Panel.Header,{onClick:d?this.onToggle:null},i.createElement(c.Panel.Header.Left,null,i.createElement(c.Panel.Header.Title,null,i.createElement("div",{className:(0,u.css)(r.title)},i.createElement("div",{className:(0,u.css)(r.statusIcon,s&&r.statusIconEnabled,p&&r.statusIconError)}),i.createElement("div",{className:(0,u.css)(r.titleContent)},l," ",o))),i.createElement(c.Panel.Header.Hint,null,a)),i.createElement(c.Panel.Header.Right,null,i.createElement(c.Panel.Toggle,{isCollapsed:d,onClick:d?null:this.onToggle}))),!d&&i.createElement(c.Panel.Body,null,f))};return t}(i.Component),n.defaultProps={hasError:false},n.STYLES=u.StyleSheet.create({title:{display:"flex",alignItems:"baseline"},statusIcon:{width:12,height:12,borderRadius:16,background:c.colors.BG_PLACEHOLDER_DARKER,marginRight:c.boxes.PADDING_NORMAL},titleContent:{flex:1},statusIconEnabled:{background:c.colors.SUCCESS},statusIconError:{background:c.colors.DANGER}}),o);t.default=d},462:function(e,t,r){e.exports=l;const n=r(463);const o=r(2072);const a=r(2076);const i=r(2081);const u=r(831).DEFAULTS;const c=[r(2100),r(2104),r(2110)];function l(e){const t=n(a(e),u);const r=new o;const l={hook:r,plugin:e=>e(l),request:e=>l.hook("request",n(e,t),i)};c.forEach(l.plugin);return l}},463:function(e,t,r){var n=r(386),o=r(208),a=r(2071),i=r(622);var u=o(function(e){e.push(void 0,a);return n(i,void 0,e)});e.exports=u},823:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1999);Object.defineProperty(t,"default",{enumerable:true,get:function e(){return o(n).default}});function o(e){return e&&e.__esModule?e:{default:e}}},824:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TABS=void 0;var n=r(7);var o=r(2e3);var a=m(o);var i=r(2044);var u=m(i);var c=r(2048);var l=m(c);var s=r(2057);var f=m(s);var p=r(2064);var d=m(p);var h=r(2126);var v=m(h);function m(e){return e&&e.__esModule?e:{default:e}}var y={GENERAL:{id:"general",defaultTitle:"General",Icon:n.IconLayout,component:a.default},TEAMS:{id:"teams",defaultTitle:"Teams",Icon:n.IconUsers,component:v.default},DOMAINS:{id:"domains",defaultTitle:"Domains",Icon:n.IconGlobe,component:u.default},INTEGRATIONS:{id:"integrations",defaultTitle:"Integrations",Icon:n.IconLayers,component:d.default},INSIGHTS:{id:"insights",defaultTitle:"Insights",Icon:n.IconActivity,component:l.default},SEARCH:{id:"search",defaultTitle:"Search",Icon:n.IconSearch,component:f.default},list:[],orgAdmin:[],admin:[],writer:[]};y.list=[y.GENERAL,y.TEAMS,y.DOMAINS,y.INTEGRATIONS,y.INSIGHTS,y.SEARCH];y.orgAdmin=y.list;y.admin=[y.GENERAL,y.DOMAINS,y.INTEGRATIONS,y.INSIGHTS,y.SEARCH];y.writer=[y.INSIGHTS,y.SEARCH];t.TABS=y},831:function(e,t,r){"use strict";e.exports=p;const n=r(463);const o=r(2082);const a=r(832);const i=r(641);const u=r(2090);const c=r(2091);const l=r(2092);const s=e.exports.DEFAULTS=r(2093);const f=["request","baseUrl"];function p(e){e.headers=a(e.headers,(e,t)=>t.toLowerCase());e=n({},e,s);let t=e.method.toLowerCase();let r=e.baseUrl;let p=e.url;let d=e.body;let h=e.headers;let v=i(e,["method","baseUrl","url","headers"]);p=p.replace(/:([a-z]\w+)/g,"{+$1}");const m=l(p);p=u.parse(p).expand(v);/^http/.test(p)||(p=r+p);const y=v.request;v=i(v,o(Object.keys(e),m).concat(f));"get"===t||"head"===t?p=c(p,v):d="input"in v?v.input:Object.keys(v).length?v:void 0;return Object.assign(y,{method:t,url:p,headers:h,body:d})}},834:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return function(t,r,n){return n.database.commit(e.toRemoveUpdate())}}function o(e,t){return function(r,n,o){return o.database.commit(e.removeChannel(t).toCreateUpdate())}}t.remove=n;t.removeChannel=o},835:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o,a,i;var u=r(0);var c=p(u);var l=r(2);var s=r(1);var f=r(7);function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=(o=n=function(e){v(t,e);function t(){d(this,t);return h(this,e.apply(this,arguments))}t.prototype.render=function e(){var r=t.STYLES;var n=this.props.onClick;return c.createElement(s.View,{styles:[r.createButton],onClick:n,role:"button",tabIndex:0},c.createElement(s.View,{styles:[r.createButtonLabel]},c.createElement(s.View,{styles:[s.View.PADDING.S200Right,r.createButtonLabelIcon]},c.createElement(f.IconCirclePlus,null)),c.createElement(s.View,{styles:[r.createButtonLabelText]},c.createElement(s.Text.UIH400,null,"Create a new team"))),c.createElement(s.View,{styles:[r.createButtonHint]},c.createElement(s.View,{styles:[s.View.PADDING.S200Right,r.createButtonHintText]},c.createElement(s.Text.TextH300,null,"Create a new team to setup different access controls.",c.createElement("br",null),"A team can be added or removed from each space.")),c.createElement(s.View,{styles:[r.createButtonHintIcon]},c.createElement(f.IconInfoCircle,null))))};return t}(c.Component),n.STYLES=l.StyleSheet.create({createButton:(a={cursor:"pointer",display:"flex",alignItems:"center",backgroundColor:s.colors.WHITE,border:"1px solid "+s.colors.GREY_LIGHT,borderRadius:s.boxes.RADIUS_NORMAL,padding:s.spacing.S300,":hover":{borderColor:s.colors.GREY_BASE}},a["@media "+s.MEDIA.TABLET]={padding:s.spacing.S300+"px "+s.spacing.S500+"px"},a),createButtonLabel:{display:"flex",alignItems:"center",color:s.colors.GREY_DARK},createButtonLabelIcon:{fontSize:24},createButtonLabelText:{},createButtonHint:(i={display:"none"},i["@media "+s.MEDIA.TABLET]={flex:1,display:"flex",alignItems:"center",justifyContent:"flex-end",textAlign:"right",color:s.colors.BLUE_BASE},i),createButtonHintText:{},createButtonHintIcon:{fontSize:24}}),o);t.default=m},836:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o,a,i,u;var c=r(0);var l=E(c);var s=r(112);var f=r(5);var p=r(13);var d=r(14);var h=r(1);var v=r(145);var m=g(v);var y=r(824);var b=E(y);function g(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=(n=(0,f.connect)(function(e){var t=e.userCanAdmin,r=e.userCanReview,n=e.userCanEdit,o=e.userIsOrgAdmin;return{userCanAdmin:t,userCanEdit:n,userIsOrgAdmin:o}}),o=h.Skeleton.connectToSkeleton(function(e){var t=e.isLoading;return{isLoading:t}}),n(a=o(a=(u=i=function(e){O(t,e);function t(){_(this,t);return w(this,e.apply(this,arguments))}t.matchSettings=function e(t){return Boolean((0,s.matchPath)(t.pathname,m.default.SETTINGS))};t.prototype.render=function e(){var t=this.props,r=t.isLoading,n=t.userIsOrgAdmin,o=t.userCanAdmin,a=t.userCanEdit,i=t.location,u=t.isModal;var c=(n||r)&&b.TABS.orgAdmin||o&&b.TABS.admin||a&&b.TABS.writer||[];return l.createElement(h.TabsPage.Body,null,l.createElement(p.Switch,{location:i},c.map(function(e){var t=e.id,r=e.component;return l.createElement(p.Route,{key:t,path:m.default.SETTINGS+"/"+t,component:r})}),!u&&l.createElement(p.Redirect,{exact:true,from:m.default.SETTINGS,to:m.default.SETTINGS+"/"+b.TABS.GENERAL.id}),!u&&l.createElement(p.Route,{component:d.ErrorPage.NotFound})))};return t}(l.Component),i.getActiveTab=T,i.defaultProps={isModal:false},u))||a)||a);function T(e){var t=b.TABS.list.find(function(t){return(0,s.matchPath)(e.pathname,m.default.SETTINGS+"/"+t.id)});return t}t.default=S}});