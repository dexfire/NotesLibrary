webpackJsonp([3],{153:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.mockedUserMembership=t.mockedUser=t.mockedOrgUsage=t.mockedOrgSpace=t.mockedOrgBaseDomain=t.mockedSpace=t.mockedOrg=t.mockedMigrationStatus=void 0;var n=r(3);var o=n.MigrationStatus.create({books:{bookID:{bookID:"bookID"}}});var a=n.Organization.create({name:"Some Organization"});var i=new n.OrgBaseDomain({});var u=new n.OrgSpace({});var c=n.OrgUsage.create({orgID:a.uid});var l=n.Space.create({name:"Some Space"});var s=n.User.create({displayName:"John Doe"});var f=new n.UserMembership({role:"admin"});t.mockedMigrationStatus=o;t.mockedOrg=a;t.mockedSpace=l;t.mockedOrgBaseDomain=i;t.mockedOrgSpace=u;t.mockedOrgUsage=c;t.mockedUser=s;t.mockedUserMembership=f},196:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o;var a=r(0);var i=f(a);var u=r(13);var c=r(3);var l=r(1);var s=r(7);function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m={SPACES:"spaces",SETTINGS:"settings",TEAMS:"teams",BILLING:"billing"};var b=[{uri:m.SPACES,path:"spaces",defaultTitle:"Spaces",Icon:s.IconGrid,hasPermissions:function e(t){return true}},{uri:m.TEAMS,path:"teams/:teamID?",defaultTitle:"Teams",Icon:s.IconUsers,hasPermissions:function e(t){return true}},{uri:m.SETTINGS,path:"settings",defaultTitle:"Settings",Icon:s.IconGear,hasPermissions:function e(t){return t.role==c.ROLES.ADMIN}},{uri:m.BILLING,path:"billing",defaultTitle:"Billing",Icon:s.IconCard,hasPermissions:function e(t){return t.role==c.ROLES.ADMIN}}];var h=(o=n=function(e){v(t,e);function t(){p(this,t);return d(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.org,n=t.membership,o=t.active,a=t.children;return i.createElement(i.Fragment,null,i.createElement(l.TabsPage.Header.Title,{styles:[l.View.MARGIN.S500Bottom]},r.name),i.createElement(l.Tabs,null,b.map(function(e){var t=e.uri,a=e.Icon,c=e.defaultTitle,s=e.hasPermissions;return s(n)&&i.createElement(l.Tabs.Item,{key:t,isActive:t===o,component:u.Link,to:"/@"+r.baseDomain+"/"+t},i.createElement(l.Tabs.Item.Icon,null,i.createElement(a,null)),i.createElement(l.Tabs.Item.Label,null,c))})),a)};return t}(i.Component),n.TABS=m,n.TABS_LIST=b,o);t.default=h},2664:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(48);var o=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var i=(0,o.default)({loader:function e(){return Promise.resolve().then(function(){return r(933)})},modules:["./RouteAccount"],webpack:function e(){return[933]},loading:function e(){return null}});t.default=i},2665:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o,a,i,u,c;var l=r(0);var s=C(l);var f=r(5);var p=r(13);var d=r(3);var v=r(10);var m=r(1);var b=r(2666);var h=P(b);var g=r(2667);var y=P(g);var E=r(2668);var T=P(E);var O=r(2669);var _=P(O);var w=r(2670);var S=P(w);function P(e){return e&&e.__esModule?e:{default:e}}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function I(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k={ACCOUNT:"account",ORG:"organization"};var A=(n=(0,f.connect)(function(e){var t=e.user,r=e.config;return{user:t,config:r}}),o=v.Connectors.database(function(e){var t=e.user;return{memberships:d.UserMembership.queryByUser(t.uid).setOptions({waitFetched:false})}}),a=v.Connectors.graphQL(function(e){var t=e.config,r=e.user;if(!r.isLegacy)return{};return{legacyOrgs:{url:t.urls.api,query:"\n                query legacyOrgs {\n                    legacyOrgs {\n                        uid\n                        name\n                        logoURL\n                        migrationURL\n                    }\n                }\n            ",operationName:"legacyOrgs",headers:{Authorization:r.authorizationHeader},background:true,mapState:function e(t){var r=t.data;return r&&r.legacyOrgs?r.legacyOrgs:[]}}}}),n(i=o(i=a(i=(c=u=function(e){I(t,e);function t(){j(this,t);return M(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.user,n=t.memberships,o=t.membershipsFetched,a=t.legacyOrgs,i=t.active,u=t.children;return s.createElement(m.TabsPage,{title:i.title},s.createElement(m.TabsPage.ToggleableSide,null,s.createElement(m.TabsPage.Side,null,s.createElement(m.TabsPage.Breadcrumb,{component:p.Link,to:"/"}),s.createElement(m.TabsPage.TabSeparator,null),s.createElement(h.default,{user:r,active:i.route===k.ACCOUNT}),s.createElement(m.TabsPage.TabsGroup,{title:"Organizations"},o?n.map(function(e){return s.createElement(y.default,{key:e.uid,membership:e,active:i.route===k.ORG&&i.orgID===e.uid})}).toArray():Array.from({length:3}).map(function(e,t){return s.createElement(y.default.Placeholder,{key:t})}),a.map(function(e){return s.createElement(T.default,{key:e.uid,legacyOrg:e})}),s.createElement(_.default,null)),s.createElement(m.TabsPage.SideFooter,null,s.createElement(S.default,null)))),s.createElement(m.TabsPage.Body,null,u))};return t}(s.Component),u.defaultProps={legacyOrgs:[]},u.ROUTES=k,c))||i)||i)||i);t.default=A},2666:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o,a,i;var u=r(0);var c=b(u);var l=r(5);var s=r(13);var f=r(2);var p=r(1);var d=r(7);var v=r(10);var m=r(14);function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=(n=(0,l.connect)(),n(o=(i=a=function(e){y(t,e);function t(){var r,n,o;h(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return o=(r=(n=g(this,e.call.apply(e,[this].concat(i))),n),n.state={hovered:false},n.onMouseEnter=function(){n.setState({hovered:true})},n.onMouseLeave=function(){n.setState({hovered:false})},n.onLogout=function(e){e.preventDefault();var t=n.props.dispatch;t(v.Flux.user.signOut())},r),g(n,o)}t.prototype.render=function e(){var r=t.STYLES;var n=this.props,o=n.user,a=n.active;var i=this.state.hovered;return c.createElement(p.TabsPage.SideHeader,{component:s.Link,to:"/account/",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,styles:[r.loggedAccount,a&&r.loggedAccountActive]},c.createElement(p.TabsPage.SideHeader.Image,null,c.createElement(m.UserAvatar,{user:o,styles:[m.UserAvatar.STYLES.sizeLG],withTooltip:false})),c.createElement(p.TabsPage.SideHeader.Content,null,c.createElement(p.TabsPage.SideHeader.Hint,null,"Signed in as"),c.createElement(p.TabsPage.SideHeader.Heading,{styles:[(a||i)&&r.loggedAccountHeadingActive]},o.displayName)),c.createElement(p.View,{component:"span",styles:r.menuWrapper},c.createElement(p.Popover.Portal,{closeOnEsc:true,closeOnOutsideClick:true,openByClickOn:c.createElement(p.View,{component:"span",styles:[r.dots,i&&r.visible]},c.createElement(d.IconEllipsisH,null))},c.createElement(p.Popover,{position:"south",align:"end"},c.createElement(p.Menu,null,c.createElement(p.Menu.Item,{icon:c.createElement(d.IconSignOut,null),onClick:this.onLogout},"Sign out"))))))};return t}(c.Component),a.STYLES=f.StyleSheet.create({loggedAccount:{textDecoration:"none",borderRight:"2px solid transparent"},loggedAccountActive:{borderRightColor:p.colors.BLUE_BASE},loggedAccountHeadingActive:{color:p.colors.BLUE_BASE},menuWrapper:{flex:0},dots:{cursor:"pointer",height:30,width:30,flex:"0 0 auto",alignSelf:"center",marginLeft:"auto",fontSize:"16px",display:"flex",justifyContent:"center",alignItems:"center",opacity:0,transition:"all 0.2s"},visible:{opacity:1}}),i))||o);t.default=E},2667:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o,a,i;var u=r(0);var c=b(u);var l=r(13);var s=r(2);var f=r(3);var p=r(10);var d=r(1);var v=r(14);var m=r(153);function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=function(e){y(t,e);function t(){h(this,t);return g(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=T.STYLES;return c.createElement(d.TabsPage.TabTile,{styles:[t.orgTab]},c.createElement(d.TabsPage.TabTile.Image,null),c.createElement(d.TabsPage.TabTile.Content,null,c.createElement(d.TabsPage.TabTile.ContentTitle,null,d.Text.transformStringToPlaceholder("Acme")),c.createElement(d.TabsPage.TabTile.ContentDetails,null,d.Text.transformStringToPlaceholder("3 spaces | 14 members"))))};return t}(c.Component);var T=(n=p.Connectors.database(function(e){var t=e.membership;return{org:f.Organization.queryByID(t.uid).defaultsTo(m.mockedOrg),orgUsage:f.OrgUsage.queryByID(t.uid).defaultsTo(m.mockedOrgUsage)}}),n(o=(i=a=function(e){y(t,e);function t(){var r,n,o;h(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return o=(r=(n=g(this,e.call.apply(e,[this].concat(i))),n),n.state={isHover:false},n.onMouseEnter=function(){n.setState({isHover:true})},n.onMouseLeave=function(){n.setState({isHover:false})},r),g(n,o)}t.prototype.render=function e(){var r=t.STYLES;var n=this.props,o=n.org,a=n.orgUsage,i=n.active;var u=this.state.isHover;if(!o)return null;return c.createElement(d.TabsPage.TabTile,{component:l.Link,to:"/@"+o.baseDomain,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,styles:[r.orgTab,i&&r.orgTabActive]},c.createElement(d.TabsPage.TabTile.Image,null,c.createElement(v.OrgAvatar,{org:o})),c.createElement(d.TabsPage.TabTile.Content,null,c.createElement(d.TabsPage.TabTile.ContentTitle,{styles:[(i||u)&&r.orgTabTitleActive]},o.name),a&&c.createElement(d.TabsPage.TabTile.ContentDetails,null,1===a.spacesCount?a.spacesCount+" space":a.spacesCount+" spaces"," ","|"," ",1===a.membersCount?a.membersCount+" member":a.membersCount+" members")))};return t}(c.Component),a.Placeholder=E,a.STYLES=s.StyleSheet.create({orgTab:{borderRight:"2px solid transparent"},orgTabActive:{borderRightColor:d.colors.BLUE_BASE},orgTabImage:{display:"block"},orgTabTitleActive:{color:d.colors.BLUE_BASE}}),i))||o);t.default=T},2668:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o;var a=r(0);var i=f(a);var u=r(5);var c=r(13);var l=r(1);var s=r(14);function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=(n=(0,u.connect)(function(e,t){var r=e.config;var n=t.legacyOrg;return{migrationURL:n.migrationURL&&n.migrationURL.replace(r.urls.website,"")}}),n(o=function(e){v(t,e);function t(){p(this,t);return d(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.legacyOrg,n=t.migrationURL;return i.createElement(l.TabsPage.TabTile,null,i.createElement(l.TabsPage.TabTile.Image,null,i.createElement(s.OrgAvatar,{org:r})),i.createElement(l.TabsPage.TabTile.Content,null,i.createElement(l.TabsPage.TabTile.ContentTitle,null,r.name)),i.createElement(l.TabsPage.TabTile.Controls,null,n?i.createElement(l.Button,{size:"small",component:c.Link,to:n},"Migrate"):i.createElement(l.View,{styles:[l.tooltip.tooltipped,l.tooltip.bottomLeft],"aria-label":"You must be the organization owner"},i.createElement(l.Button,{size:"small",disabled:true},"Migrate"))))};return t}(i.Component))||o);t.default=m},2669:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o;var a=r(0);var i=f(a);var u=r(13);var c=r(2);var l=r(1);var s=r(7);function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=(o=n=function(e){v(t,e);function t(){var r,n,o;p(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return o=(r=(n=d(this,e.call.apply(e,[this].concat(i))),n),n.state={isHover:false},n.onMouseEnter=function(){n.setState({isHover:true})},n.onMouseLeave=function(){n.setState({isHover:false})},r),d(n,o)}t.prototype.render=function e(){var r=t.STYLES;var n=this.state.isHover;return i.createElement(l.TabsPage.TabTile,{component:u.Link,to:"/new",styles:[r.newOrgTab,n&&r.newOrgTabHover],onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},i.createElement(l.TabsPage.TabTile.Image,{styles:[r.newOrgTabImage]},i.createElement(s.IconCirclePlus,null)),i.createElement(l.TabsPage.TabTile.Content,null,i.createElement(l.TabsPage.TabTile.ContentTitle,{styles:[r.newOrgTabTitle,n&&r.newOrgTabTitleHover]},"Create an organization")))};return t}(i.Component),n.STYLES=c.StyleSheet.create({newOrgTab:{color:l.colors.GREY_DARK},newOrgTabHover:{color:l.colors.BLUE_BASE},newOrgTabImage:{fontSize:24,display:"flex",alignItems:"center",justifyContent:"center"},newOrgTabTitle:{color:l.colors.GREY_DARK},newOrgTabTitleHover:{color:l.colors.BLUE_BASE}}),o);t.default=m},2670:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o;var a=r(0);var i=s(a);var u=r(13);var c=r(2);var l=r(1);function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=(o=n=function(e){d(t,e);function t(){f(this,t);return p(this,e.apply(this,arguments))}t.prototype.render=function e(){var r=t.STYLES;return i.createElement(l.View,{styles:[r.footer]},i.createElement("ul",{className:(0,c.css)(r.footerColumn,l.View.PADDING.S300Right)},i.createElement("li",null,i.createElement(u.Link,{to:"/about",className:(0,c.css)(r.footerLink)},i.createElement(l.Text.UIH200,null,"About"))),i.createElement("li",null,i.createElement("a",{href:"https://gitbook.canny.io/feature-requests",className:(0,c.css)(r.footerLink),target:"_blank",rel:"noopener noreferrer"},i.createElement(l.Text.UIH200,null,"Send feedback"))),i.createElement("li",null,i.createElement(u.Link,{to:"/about#jobs",className:(0,c.css)(r.footerLink)},i.createElement(l.Text.UIH200,null,"Jobs")))),i.createElement("ul",{className:(0,c.css)(r.footerColumn,l.View.PADDING.S300Left)},i.createElement("li",null,i.createElement(u.Link,{to:"/pricing",className:(0,c.css)(r.footerLink)},i.createElement(l.Text.UIH200,null,"Pricing"))),i.createElement("li",null,i.createElement("a",{href:"https://docs.gitbook.com",className:(0,c.css)(r.footerLink),target:"_blank",rel:"noopener noreferrer"},i.createElement(l.Text.UIH200,null,"Documentation"))),i.createElement("li",null,i.createElement("a",{href:"https://policies.gitbook.com/",className:(0,c.css)(r.footerLink),target:"_blank",rel:"noopener noreferrer"},i.createElement(l.Text.UIH200,null,"Terms")))),i.createElement(l.View,{styles:[r.footerTrademark,l.View.MARGIN.S300Top]},i.createElement(l.Text.TextH300,null,"© ",(new Date).getFullYear()," GitBook Inc.")))};return t}(i.Component),n.STYLES=c.StyleSheet.create({footer:{display:"flex",flexWrap:"wrap"},footerColumn:{listStyle:"none",padding:0,margin:0,width:"50%",":first-child":{borderRight:"1px solid "+l.colors.GREY_LIGHTER}},footerLink:{color:l.colors.GREY_BASE,textDecoration:"none",":hover":{color:l.colors.BLUE_BASE}},footerTrademark:{color:l.colors.GREY_BASE}}),o);t.default=v},2679:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(48);var o=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var i=(0,o.default)({loader:function e(){return Promise.resolve().then(function(){return r(936)})},modules:["./RouteOrganization"],webpack:function e(){return[936]},loading:function e(){return null}});t.default=i},2680:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o;var a=r(0);var i=S(a);var u=r(5);var c=r(1);var l=r(196);var s=S(l);var f=r(327);var p=S(f);var d=r(2681);var v=S(d);var m=r(2682);var b=S(m);var h=r(2683);var g=S(h);var y=r(2684);var E=S(y);var T=r(2685);var O=S(T);var _=r(2689);var w=S(_);function S(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function j(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var M=(n=(0,u.connect)(function(e){var t=e.user;return{user:t}}),n(o=function(e){j(t,e);function t(){P(this,t);return C(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.org,n=t.membership,o=t.user;return i.default.createElement(p.default,{org:r,membership:n,active:s.default.TABS.SETTINGS},i.default.createElement(c.TabsPage.Header,null,i.default.createElement(c.TabsPage.Header.Desc,null,"Use these settings to make GitBook your own. Let your imagination run wild and free!",i.default.createElement("br",null),"As an admin, you can prevent your organization's members from editing these on the Teams page.")),i.default.createElement(g.default,{org:r}),i.default.createElement(v.default,{org:r}),i.default.createElement(O.default,{org:r}),i.default.createElement(b.default,{org:r}),i.default.createElement(E.default,{org:r}),r.canSuperAdmin(o)&&i.default.createElement(w.default,{org:r,user:o}))};return t}(i.default.Component))||o);t.default=M},2693:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=r(2694);var o=a(n);function a(e){return e&&e.__esModule?e:{default:e}}t.default=o.default},2694:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o,a;var i=r(0);var u=h(i);var c=r(13);var l=r(1);var s=r(3);var f=r(7);var p=r(10);var d=r(5);var v=r(2695);var m=b(v);function b(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var T=(n=(0,d.connect)(function(e){var t=e.user;return{user:t}}),o=p.Connectors.database(function(e){var t=e.org,r=e.user;return{spaces:s.OrgSpace.queryByOrg(t.uid).setOptions({waitFetched:false}),membership:s.Membership.queryByID({orgID:t.uid,userID:r.uid})}}),n(a=o(a=function(e){E(t,e);function t(){g(this,t);return y(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.spaces,n=t.spacesFetched,o=t.org,a=t.migrationStatus,i=t.membership,s=t.userMembership,p=t.user;if(!n)return u.createElement(l.TilesGrid.Placeholder,null);var d=a?a.books.filter(function(e){return"success"!==e.status}).map(function(e){return e.spaceID}).toArray():[];var v=r.filter(function(e){return!d.includes(e.spaceID)});return u.createElement(l.TilesGrid,null,v.map(function(e){return u.createElement(m.default,{key:e.spaceID,spaceID:e.spaceID,org:o,canAdmin:p.isSiteAdmin||i.canAdminOnSpace(e.spaceID)})}).toArray(),s.canAdmin&&u.createElement(l.TilesGrid.ButtonTile,{component:c.Link,to:"/@"+o.baseDomain+"/new",icon:u.createElement(f.IconCirclePlus,null)},"Create a new space"))};return t}(u.Component))||a)||a);t.default=T},2695:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o,a,i,u;var c=r(0);var l=E(c);var s=r(2);var f=r(5);var p=r(1);var d=r(14);var v=r(7);var m=r(10);var b=r(3);var h=r(2696);var g=y(h);function y(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=(n=(0,f.connect)(function(e){var t=e.config;return{config:t}}),o=m.Connectors.database(function(e){var t=e.spaceID;return{space:b.Space.queryByID(t).setOptions({waitFetched:false,ignoreErrors:true})}}),n(a=o(a=(u=i=function(e){_(t,e);function t(){var r,n,o;T(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return o=(r=(n=O(this,e.call.apply(e,[this].concat(i))),n),n.onOpen=function(e){var t=n.props,r=t.dispatch,o=t.space,a=t.org;e.preventDefault();if(!o)return;r(m.Flux.auth.redirectToSpace({org:a,space:o}))},r),O(n,o)}t.prototype.render=function e(){var r=t.STYLES;var n=this.props,o=n.space,a=n.spaceFetched,i=n.canAdmin,u=n.org,c=n.config;if(!a)return l.createElement(p.TilesGrid.TilePlaceholder,null);if(!o)return null;var f=o.getURL(u,c.domains.spaces);return l.createElement(p.TilesGrid.Tile,{component:"a",href:f,onClick:this.onOpen,target:"_blank"},l.createElement(p.TilesGrid.Tile.Image,null,l.createElement(d.SpaceAvatar,{space:o})),l.createElement(p.TilesGrid.Tile.Content,null,l.createElement(p.TilesGrid.Tile.Title,null,o.isPrivate&&l.createElement("span",{className:(0,s.css)(r.spacePrivateBadge)},l.createElement(v.IconLock,null)),o.name),l.createElement(p.TilesGrid.Tile.Headline,null,f.replace(/^https:\/\//,""))),i&&l.createElement(g.default,{org:u,space:o}))};return t}(l.Component),i.STYLES=s.StyleSheet.create({spacePrivateBadge:{width:18,height:18,fontSize:12,borderRadius:18,color:p.colors.WHITE,background:p.colors.BLUE_BASE,textAlign:"center",display:"inline-flex",alignItems:"center",justifyContent:"center",marginRight:p.spacing.S100}}),u))||a)||a);t.default=w},2696:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o,a,i;var u=r(0);var c=g(u);var l=r(5);var s=r(2);var f=r(13);var p=r(1);var d=r(7);var v=r(10);r(3);var m=r(2697);var b=h(m);function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function y(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,a){try{var i=t[o](a);var u=i.value}catch(e){r(e);return}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=(n=(0,l.connect)(),n(o=(0,f.withRouter)(o=(i=a=function(e){O(t,e);function t(){var r=this;var n,o,a;E(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return a=(n=(o=T(this,e.call.apply(e,[this].concat(u))),o),o.state={displayConfirm:false},o.redirectToGeneral=function(e){o.redirectToSettingsPage(e,"general")},o.redirectToDomains=function(){var e=y(regeneratorRuntime.mark(function e(t){var n,a,i,u;return regeneratorRuntime.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:n=o.props,a=n.org,i=n.space,u=n.history;t.preventDefault();t.stopPropagation();u.push("/@"+a.baseDomain+"/spaces/"+i.baseName+"/domain");case 4:case"end":return r.stop()}},e,r)}));return function(t){return e.apply(this,arguments)}}(),o.redirectToIntegrations=function(e){o.redirectToSettingsPage(e,"integrations")},o.displayConfirm=function(){o.setState({displayConfirm:true})},o.closeConfirm=function(){o.setState({displayConfirm:false})},n),T(o,a)}t.prototype.redirectToSettingsPage=function e(t,r){var n=this.props,o=n.dispatch,a=n.space,i=n.org;t.preventDefault();t.stopPropagation();o(v.Flux.auth.redirectToSpace({org:i,space:a,pathname:"/~/settings/"+r}))};t.prototype.render=function e(){var r=t.STYLES;var n=this.props.space;var o=this.state.displayConfirm;return c.createElement(p.Popover.Portal,{closeOnEsc:true,closeOnOutsideClick:true,openByClickOn:c.createElement(p.TilesGrid.Tile.Action,{styles:[r.tileAction],role:"button",tabIndex:-1},c.createElement(d.IconEllipsisH,null),c.createElement(b.default,{space:n,isOpen:o,onClose:this.closeConfirm}))},c.createElement(p.Popover,null,c.createElement(p.Menu,null,c.createElement(p.Menu.Item,{icon:c.createElement(d.IconLayout,null),onClick:this.redirectToGeneral},"General"),c.createElement(p.Menu.Item,{icon:c.createElement(d.IconGlobe,null),onClick:this.redirectToDomains},"Domains"),c.createElement(p.Menu.Item,{icon:c.createElement(d.IconLayers,null),onClick:this.redirectToIntegrations},"Integrations"),c.createElement(p.Menu.Divider,null),c.createElement(p.Menu.Item,{icon:c.createElement(d.IconTrashcan,null),onClick:this.displayConfirm},"Delete"))))};return t}(c.Component),a.STYLES=s.StyleSheet.create({tileAction:{alignSelf:"flex-start"}}),i))||o)||o);t.default=_},2697:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var o,a;var i=r(0);var u=f(i);var c=r(5);var l=r(1);r(3);var s=r(10);function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=(o=(0,c.connect)(),o(a=function(e){v(t,e);function t(){var r,n,o;p(this,t);for(var a=arguments.length,i=Array(a),u=0;u<a;u++)i[u]=arguments[u];return o=(r=(n=d(this,e.call.apply(e,[this].concat(i))),n),n.state={deleteInput:"",isLoading:false,error:null},n.onConfirmDelete=function(){var e=n.props,t=e.space,r=e.dispatch;n.setState({isLoading:true},function(){r(s.Flux.space.deleteSpace(t)).catch(function(e){n.setState({isLoading:false,error:e})})})},n.onInputChange=function(e){e.preventDefault();n.setState({deleteInput:e.currentTarget.value})},r),d(n,o)}t.prototype.render=function e(){var t=this.props.space;var r=this.state,o=r.deleteInput,a=r.isLoading,i=r.error;return u.createElement(l.Popup,n({closeOnEsc:true,closeOnOutsideClick:true},this.props),u.createElement(l.Modal,{size:l.Modal.SIZES.medium},u.createElement(l.Modal.Status,{styles:[l.Modal.Status.STYLES.warning]},"This action ",u.createElement("b",null,"CANNOT be undone"),". This will permanently delete the ",t.name," project, its content history and comments, and remove all integrations."),u.createElement(l.Modal.Header,null,u.createElement(l.Modal.Title,null,"Delete ",t.name)),u.createElement(l.Modal.Body,null,u.createElement(l.Form.Group,{title:"Please type in 'DELETE' to confirm",error:i},u.createElement(l.Form.Input,{value:o,onChange:this.onInputChange}))),u.createElement(l.Modal.Footer,null,u.createElement(l.Button,{kind:"secondary",onClick:this.onConfirmDelete,disabled:"DELETE"!==o},a?u.createElement(l.Loading,null):"Yes, I'm sure"))))};return t}(u.Component))||a);t.default=m},2698:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(2699);var o=a(n);function a(e){return e&&e.__esModule?e:{default:e}}t.default=o.default},2738:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(2739);var o=a(n);function a(e){return e&&e.__esModule?e:{default:e}}t.default=o.default},2783:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(2784);var o=a(n);function a(e){return e&&e.__esModule?e:{default:e}}t.default=o.default},2784:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var o,a,i;var u=r(0);var c=y(u);var l=r(13);var s=r(10);var f=r(14);var p=r(3);var d=r(2785);var v=g(d);var m=r(943);var b=g(m);var h=r(153);function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=(o=s.Connectors.database(function(e){var t=e.org,r=e.match.params.spacename;return{orgSpace:p.OrgSpace.queryByName({orgID:t.uid,baseName:r}).defaultsTo(h.mockedOrgSpace)}}),a=s.Connectors.database(function(e){var t=e.orgSpace;return{space:t?p.Space.queryByID(t.spaceID).defaultsTo(h.mockedSpace):null}}),o(i=a(i=function(e){O(t,e);function t(){E(this,t);return T(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.match,o=t.space,a=t.org;if(!o)return c.createElement(f.ErrorPage.NotFound,null);var i={space:o,org:a};return c.createElement(l.Switch,null,c.createElement(l.Route,{path:r.url+"/github",render:function e(t){return c.createElement(v.default,n({},t,i))}}),c.createElement(l.Route,{path:r.url+"/domain",render:function e(t){return c.createElement(b.default,n({},t,i))}}),c.createElement(l.Route,{component:f.ErrorPage.NotFound}))};return t}(c.Component))||i)||i);t.default=_},2785:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(48);var o=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var i=(0,o.default)({loader:function e(){return Promise.resolve().then(function(){return r(953)})},modules:["./RouteSetupGitHub"],webpack:function e(){return[953]},loading:function e(){return null}});t.default=i},2786:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o,a,i;var u=r(0);var c=y(u);var l=r(10);var s=r(7);var f=r(2);var p=r(5);var d=r(1);var v=r(2918);var m=g(v);var b=r(198);var h=g(b);function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function E(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,a){try{var i=t[o](a);var u=i.value}catch(e){r(e);return}if(!i.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=(n=(0,p.connect)(),n(o=(i=a=function(e){_(t,e);function t(){var r=this;var n,o,a;T(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return a=(n=(o=O(this,e.call.apply(e,[this].concat(u))),o),o.state={error:null},o.onAuthenticate=function(){var e=E(regeneratorRuntime.mark(function e(t){var n,a,i,u,c;return regeneratorRuntime.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:n=o.props,a=n.dispatch,i=n.onNext;r.prev=1;r.next=4;return a(l.Flux.user.reauthenticateWithGithub({scopes:t}));case 4:u=r.sent;c=u.credential.accessToken;i({token:c});r.next=12;break;case 9:r.prev=9;r.t0=r["catch"](1);o.setState({error:r.t0});case 12:case"end":return r.stop()}},e,r,[[1,9]])}));return function(t){return e.apply(this,arguments)}}(),o.onAuthenticatePublicOnly=function(){o.onAuthenticate(["public_repo","read:org"])},o.onAuthenticateAll=function(){o.onAuthenticate(["repo","read:org"])},n),O(o,a)}t.prototype.render=function e(){var r=t.STYLES;var n=this.state.error;var o=this.props.onCancel;return c.createElement(h.default,{error:n,step:1},c.createElement(d.Modal.Body,null,c.createElement(d.View,{styles:[r.flexWrapper]},c.createElement("img",{alt:"GitHub Sync",src:m.default,className:(0,f.css)(r.logo)}),c.createElement(d.Text,{styles:[r.text]},"Have your documentation always up-to-date by mirroring the content of your GitHub repository."))),c.createElement(d.Modal.Footer,null,c.createElement(d.View,null,c.createElement(d.Button,{kind:"cancel",onClick:o},"Cancel")),c.createElement(d.View,null,c.createElement(d.Button,{kind:"link",onClick:this.onAuthenticatePublicOnly},"List only public repositories"),c.createElement(d.Button,{kind:"primary",onClick:this.onAuthenticateAll},"List all repositories ",c.createElement(s.IconArrowRight,null)))))};return t}(c.Component),a.STYLES=f.StyleSheet.create({logo:{width:90,height:90,marginRight:d.spacing.S300},flexWrapper:{display:"flex",alignItems:"center"},text:{color:d.colors.GREY_BASE}}),i))||o);t.default=w},2812:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o,a,i,u,c;var l=r(0);var s=T(l);var f=r(5);var p=r(13);var d=r(3);var v=r(10);var m=r(153);var b=r(2813);var h=E(b);var g=r(937);var y=E(g);function E(e){return e&&e.__esModule?e:{default:e}}function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=(n=(0,f.connect)(function(e){var t=e.user;return{user:t}}),o=v.Connectors.database(function(e){var t=e.user;return{memberships:d.UserMembership.queryByUser(t.uid).setOptions({waitFetched:false})}}),a=v.Connectors.database(function(e){var t=e.memberships,r=e.membershipsFetched;return{firstOrg:r&&t.size>0?d.Organization.queryByID(t.first().uid).setOptions({waitFetched:false}):null}}),n(i=o(i=a(i=(c=u=function(e){w(t,e);function t(){O(this,t);return _(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.membershipsFetched,n=t.memberships,o=t.firstOrgFetched,a=t.firstOrg;if(r&&0===n.size)return s.createElement(h.default,null);if(r&&n.size>0&&o&&a)return s.createElement(p.Redirect,{to:"/@"+a.baseDomain});return s.createElement(y.default,{org:m.mockedOrg,membership:m.mockedUserMembership})};return t}(s.Component),u.defaultProps={firstOrgFetched:false},c))||i)||i)||i);t.default=S},2813:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,o,a,i,u;var c=r(0);var l=E(c);var s=r(5);var f=r(13);var p=r(2);var d=r(14);var v=r(1);var m=r(520);var b=y(m);var h=r(2814);var g=y(h);function y(e){return e&&e.__esModule?e:{default:e}}function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=(n=(0,s.connect)(function(e){var t=e.user;return{user:t}}),n(o=(i=a=function(e){_(t,e);function t(){T(this,t);return O(this,e.apply(this,arguments))}t.prototype.render=function e(){var r=t.STYLES;var n=this.props.user;return l.createElement(l.Fragment,null,l.createElement(d.LegacyBanner,null),l.createElement(b.default,{active:{title:"Welcome"}},l.createElement(v.View,{styles:[v.View.PADDING.S500,r.blankslate]},l.createElement(v.View,{styles:[v.View.MARGIN.S300Bottom]},l.createElement(v.Image,{src:g.default})),l.createElement(v.View,{styles:[v.View.MARGIN.S500Bottom]},l.createElement(v.Text.DisplayH700,null,"Welcome ",n.displayName),l.createElement("br",null),l.createElement(v.Text,{styles:[r.blankslateHint]},"You're about to create your first organization")),l.createElement(v.Button,{component:f.Link,to:"/new"},"Create a new organization"))))};return t}(l.Component),a.STYLES=p.StyleSheet.create({blankslate:(u={textAlign:"center",backgroundColor:v.colors.WHITE,borderRadius:v.boxes.RADIUS_NORMAL,border:"1px solid "+v.colors.GREY_LIGHTER,maxWidth:478,margin:"0 auto",boxShadow:v.boxes.SHADOW_HIGH},u["@media "+v.MEDIA.DESKTOP]={marginTop:v.spacing.S800},u),blankslateHint:{color:v.colors.GREY_DARK}}),i))||o);t.default=w},2814:function(e,t,r){e.exports=r.p+"images/cc8cd17e83ecc834256c08c430df5b3b.svg"},2875:function(e,t,r){e.exports=r.p+"images/adb1b3a77d092d0cb1bccc7a42b94625.png"},2877:function(e,t,r){e.exports=r.p+"images/eef983656f36aca94b67658113f25eb5.svg"},2878:function(e,t,r){e.exports=r.p+"images/1318e0fd1fabf3efe44eef228e5600cf.svg"},2879:function(e,t,r){e.exports=r.p+"images/18af60f4f368614a75f3441be0a50f65.png"},2880:function(e,t,r){e.exports=r.p+"images/e378abadb3c05f1d5bd7c8b59c8a5b70.svg"},2882:function(e,t,r){e.exports=r.p+"images/4e98b982f8a75a1bab9541cfa5f170a7.png"},2883:function(e,t,r){e.exports=r.p+"images/97369760e5347ff443031a7bfed02025.svg"},2884:function(e,t,r){e.exports=r.p+"images/c595b6499ca1b10873dd0cdeb54a85b5.svg"},2885:function(e,t,r){e.exports=r.p+"images/5adf8e2ddc9e35aa54f15338c3aa120d.svg"},2886:function(e,t,r){e.exports=r.p+"images/d434abb3414f3685926b2b4fe973beee.svg"},2887:function(e,t,r){e.exports=r.p+"images/eeb1e7bca7fffca665b8f00d70181157.svg"},2889:function(e,t,r){e.exports=r.p+"images/0406cad6bf397f10d8f04e2f2790d3d7.svg"},2890:function(e,t,r){e.exports=r.p+"images/acd5fc4090edfebcedcd4051ba31fb61.svg"},2891:function(e,t,r){e.exports=r.p+"images/274607dda8ba57be3495196f19aed627.svg"},2892:function(e,t,r){e.exports=r.p+"images/229d9eb5ff08c122638f3300b60e0c70.svg"},2895:function(e,t,r){e.exports=r.p+"images/855de975f57b775517534125aff9a855.svg"},2896:function(e,t,r){e.exports=r.p+"images/fec606cd7045b58944064ec25deb43d5.svg"},2897:function(e,t,r){e.exports=r.p+"images/e02fc5dea20e687c1ed62f0f0600f8ae.svg"},2898:function(e,t,r){e.exports=r.p+"images/eb18a9d7f0f5dd81d3e36b847a737d7e.svg"},327:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=d(n);var a=r(26);var i=p(a);var u=r(14);var c=r(520);var l=p(c);var s=r(196);var f=p(s);function p(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){b(t,e);function t(){v(this,t);return m(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.org,n=t.membership,a=t.active,c=t.children;var s=f.default.TABS_LIST.find(function(e){return e.uri===a});var p=s?s.defaultTitle:"";return o.createElement(o.Fragment,null,o.createElement(u.MigrateBanner,{orgID:r.uid,canAdmin:n.canAdmin},o.createElement(u.LegacyBanner,null)),o.createElement(l.default,{active:{route:l.default.ROUTES.ORG,orgID:r.uid,title:r.name}},o.createElement(i.default,{title:p}),o.createElement(f.default,{org:r,membership:n,active:a}),c))};return t}(o.Component);t.default=h},520:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(2665);var o=a(n);function a(e){return e&&e.__esModule?e:{default:e}}t.default=o.default},936:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var o,a,i,u,c,l,s,f,p;var d=r(0);var v=Y(d);var m=r(26);var b=F(m);var h=r(5);var g=r(13);var y=r(10);var E=r(14);var T=r(1);var O=r(3);var _=r(196);var w=F(_);var S=r(2680);var P=F(S);var C=r(937);var j=F(C);var M=r(2698);var I=F(M);var k=r(2738);var A=F(k);var L=r(927);var x=r(943);var D=F(x);var R=r(947);var B=F(R);var G=r(2783);var H=F(G);var U=r(240);var N=r(153);function F(e){return e&&e.__esModule?e:{default:e}}function Y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function q(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var W=(o={},o[w.default.TABS.SPACES]=j.default,o[w.default.TABS.SETTINGS]=P.default,o[w.default.TABS.TEAMS]=A.default,o[w.default.TABS.BILLING]=I.default,o);var K=new O.UserMembership({role:"admin"});var J=(a=(0,h.connect)(),i=T.Skeleton.connectToSkeleton(),a(u=i(u=function(e){q(t,e);function t(){z(this,t);return V(this,e.apply(this,arguments))}t.prototype.componentDidMount=function e(){this.trackGroup()};t.prototype.componentDidUpdate=function e(t){t.org.uid===this.props.org.uid&&t.isLoading==this.props.isLoading||this.trackGroup()};t.prototype.trackGroup=function e(){var t=this.props,r=t.dispatch,n=t.org,o=t.membership,a=t.isLoading;if(o==K||a)return;r(y.Flux.analytics.trackGroup(n))};t.prototype.render=function e(){var t=this.props,r=t.match,o=t.org,a=t.membership;var i={org:o,membership:a};return v.createElement(v.Fragment,null,v.createElement(b.default,{titleTemplate:"%s - "+o.name}),v.createElement(g.Switch,null,v.createElement(g.Redirect,{exact:true,from:r.url,to:"/@"+r.params.domain+"/spaces"}),v.createElement(g.Route,{path:r.url+"/spaces/:spacename",render:function e(t){return v.createElement(H.default,n({},t,i))}}),v.createElement(g.Route,{path:r.url+"/new",render:function e(t){return v.createElement(B.default,n({},t,i))}}),v.createElement(g.Route,{path:r.url+"/domain",render:function e(t){return v.createElement(D.default,n({},t,i))}}),v.createElement(g.Route,{path:r.url+"/migration",render:function e(t){return v.createElement(L.RouteMigration,n({},t,i))}}),w.default.TABS_LIST.map(function(e){return e.hasPermissions(a)&&v.createElement(g.Route,{key:e.uri,path:r.url+"/"+e.path,render:function t(r){return v.createElement(W[e.uri],n({membership:a},r,i))}})}),v.createElement(g.Route,{component:E.ErrorPage.NotFound})))};return t}(v.Component))||u)||u);var Q=(c=(0,h.connect)(function(e){var t=e.user;return{user:t}}),l=y.Connectors.database(function(e){var t=e.match.params.domain;return{baseDomain:O.OrgBaseDomain.queryByDomain(t).defaultsTo(N.mockedOrgBaseDomain)}}),s=y.Connectors.database(function(e){var t=e.baseDomain,r=e.user,n=e.isLoading;return{org:t?O.Organization.queryByID(t.orgID).defaultsTo(N.mockedOrg):null,userMembership:t&&r&&(r.isLoggedIn||n)?O.UserMembership.queryByID({orgID:t.orgID,userID:r.uid}).defaultsTo(N.mockedUserMembership):null}}),f=T.Skeleton.connectToSkeleton(),c(p=l(p=s(p=f(p=function(e){q(t,e);function t(){z(this,t);return V(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.user,n=t.match,o=t.org,a=t.userMembership,i=t.isLoading;var u=a||r.isSiteAdmin&&K;if(!o)return v.createElement(E.ErrorPage.NotFound,null);if(!r.isLoggedIn&&!i)return v.createElement(g.Redirect,{to:(0,U.createAuthRoute)({toOrg:o.baseDomain})});if(!u)return v.createElement(E.ErrorPage,{statusCode:403,title:"Access to this organization is denied",message:"You are not a member of this organization or you are logged-in with the wrong account."},v.createElement(T.Link,{to:"/",component:g.Link},"Return to your organizations."));return v.createElement(J,{match:n,org:o,membership:u})};return t}(v.Component))||p)||p)||p)||p);t.default=Q},937:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=v(n);var a=r(1);var i=r(3);var u=r(196);var c=d(u);var l=r(327);var s=d(l);var f=r(2693);var p=d(f);function d(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){h(t,e);function t(){m(this,t);return b(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.org,n=t.membership;return o.createElement(s.default,{org:r,membership:n,active:c.default.TABS.SPACES},o.createElement(a.TabsPage.Header,null,o.createElement(a.TabsPage.Header.Desc,null,"Browse and create new spaces in your organization. Spaces can be public or set visible to your organization's members only.")),o.createElement(p.default,{org:r,userMembership:n}))};return t}(o.Component);t.default=g},943:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(48);var o=a(n);function a(e){return e&&e.__esModule?e:{default:e}}var i=(0,o.default)({loader:function e(){return Promise.resolve().then(function(){return r(944)})},modules:["./RouteSetupCustomDomain"],webpack:function e(){return[944]},loading:function e(){return null}});t.default=i},953:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var o,a,i,u,c,l;var s=r(0);var f=j(s);var p=r(5);var d=r(10);var v=r(3);var m=r(2786);var b=C(m);var h=r(2788);var g=C(h);var y=r(2796);var E=C(y);var T=r(2799);var O=C(T);var _=r(2804);var w=C(_);var S=r(2808);var P=C(S);function C(e){return e&&e.__esModule?e:{default:e}}function j(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var A=(o=(0,p.connect)(),a=d.Connectors.database(function(e){var t=e.space;return{githubConfig:v.GitHubConfig.queryBySpace(t.uid)}}),o(i=a(i=(c=u=function(e){k(t,e);function t(r){M(this,t);var n=I(this,e.call(this,r));l.call(n);var o=r.githubConfig;n.state={currentStep:o?2:0,githubConfig:o||v.GitHubConfig.create(),isFirstSetup:!o,nbBranches:0};return n}t.getDerivedStateFromProps=function e(t,r){var n=t.githubConfig;var o=r.githubConfig;return{isFirstSetup:!n,githubConfig:n||o}};t.prototype.render=function e(){var t=this.props.githubConfig;var r=this.state,o=r.githubConfig,a=r.currentStep,i=r.nbBranches,u=r.isFirstSetup;var c=this.props.space;var l={onCancel:this.onCancel,onPrev:this.onPrev,onNext:this.onGitHubConfigUpdate,updateNbBranches:this.updateNbBranches,nbBranches:i,isFirstSetup:u,githubConfig:o,space:c};var s=[f.createElement(b.default,l),f.createElement(g.default,l),f.createElement(O.default,l),f.createElement(w.default,l),f.createElement(P.default,n({},l,{onNext:this.onSubmit})),f.createElement(E.default,{isFirstSetup:u,githubConfig:t,updatedConfig:o,space:c,onCancel:this.onCancel,onNext:this.onCancel,onPrev:this.onPrev})].filter(Boolean);return s[a]};return t}(f.Component),l=function e(){var t=this;this.updateNbBranches=function(e){t.setState(function(){return{nbBranches:e}})};this.onGitHubConfigUpdate=function(e){t.setState(function(t){var r=t.githubConfig;return{githubConfig:r.merge(e)}});t.onNext()};this.onSubmit=function(e){var r=t.state.githubConfig;var n=t.props,o=n.space,a=n.dispatch;t.onNext();a(d.Flux.space.configureGitHubSync(o,{githubConfig:r,editOnGitHub:e}))};this.onCancel=function(){var e=t.props,r=e.space,n=e.org,o=e.dispatch;o(d.Flux.auth.redirectToSpace({org:n,space:r}))};this.onPrev=function(){var e=t.props.githubConfig;var r=t.state,n=r.currentStep,o=r.nbBranches;var a=4!=n||0!=o&&!e?1:2;t.setState(function(e){var t=e.currentStep;return{currentStep:t-a}})};this.onNext=function(){t.setState(function(e){var t=e.currentStep;return{currentStep:t+1}})}},c))||i)||i);t.default=A}});