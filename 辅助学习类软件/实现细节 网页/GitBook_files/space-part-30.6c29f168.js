webpackJsonp([31],{1201:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.unescapeKey=t.escapeKey=t.genKey=void 0;var n=r(579);function i(){return(0,n.key)()}function o(e){return e.replace(/%/g,"%25").replace(/\./g,"%2E").replace(/#/g,"%23").replace(/\$/g,"%24").replace(/\//g,"%2F").replace(/\[/g,"%5B").replace(/\]/g,"%5D")}function a(e){return e.replace(/%25/g,"%").replace(/%2E/g,".").replace(/%23/g,"#").replace(/%24/g,"$").replace(/%2F/g,"/").replace(/%5B/g,"[").replace(/%5D/g,"]")}t.genKey=i;t.escapeKey=o;t.unescapeKey=a},1202:function(e,t,r){"use strict";var n=r(1203);r.d(t,"a",function(){return n["a"]});var i=r(1204);r.d(t,"b",function(){return i["a"]});var o=r(1205);r.d(t,"c",function(){return o["a"]});var a=r(1206);r.d(t,"d",function(){return a["a"]});var u=r(1207);r.d(t,"e",function(){return u["a"]});var s=r(1208);r.d(t,"f",function(){return s["a"]});var f=r(1209);r.d(t,"g",function(){return f["a"]});var c=r(1210);r.d(t,"h",function(){return c["a"]});r.d(t,"j",function(){return c["b"]});var l=r(580);r.d(t,"i",function(){return l["a"]})},1203:function(e,t,r){"use strict";t["a"]=i;var n=r(580);function i(e){return new Date(Object(n["a"])(e))}},1204:function(e,t,r){"use strict";t["a"]=n;function n(e){return e.replace(/!([0-9a-f]{2})/gi,function(e,t){return String.fromCharCode(parseInt(t,16))})}},1205:function(e,t,r){"use strict";t["a"]=i;var n=r(160);function i(e){var t=0;var r=e.charAt(0);if(r>"_")for(var i=1;i<e.length;i++){t*=n["a"].length;t+=n["a"].indexOf(e.charAt(i))}else{for(var i=1;i<e.length;i++){t*=n["a"].length;t+=n["a"].length-1-n["a"].indexOf(e.charAt(i))}t=-t}return t}},1206:function(e,t,r){"use strict";t["a"]=o;var n=r(160);var i=r(581);function o(e){return e.replace(/[^-]-*$/,function(e){var t=n["a"].indexOf(e.charAt(0));if(-1===t)throw new Error("Unexpected character '"+e.charAt(0)+"'.");return n["a"].charAt(t-1)+Object(i["a"])("z",e.length-1)})}},1207:function(e,t,r){"use strict";t["a"]=n;function n(e){return e.replace(/[\/\.\$\[\]#!]/g,function(e){return"!"+e.charCodeAt(0).toString(16).toUpperCase()})}},1208:function(e,t,r){"use strict";t["a"]=i;var n=r(160);function i(e){var t="";if(0===e)t="a-";else if(e>0){while(e>0){var r=e%n["a"].length;t=n["a"].charAt(r)+t;e-=r;e/=n["a"].length}var i=n["a"].charAt(t.length+37);t=i+t}else{e=-e;while(e>0){var r=e%n["a"].length;t=n["a"].charAt(n["a"].length-1-r)+t;e-=r;e/=n["a"].length}var i=n["a"].charAt(37-t.length);t=i+t}return t}},1209:function(e,t,r){"use strict";t["a"]=o;var n=r(160);var i=r(581);function o(e){return e.replace(/[^z]z*$/,function(e){var t=n["a"].indexOf(e.charAt(0));if(-1===t)throw new Error("Unexpected character '"+e.charAt(0)+"'.");return n["a"].charAt(t+1)+Object(i["a"])("-",e.length-1)})}},1210:function(e,t,r){"use strict";t["a"]=a;t["b"]=u;var n=r(160);var i=r(1211);var o=0;function a(e,t){if(void 0===e){e=Date.now();e<=o&&(e=o+1);o=e}e instanceof Date&&(e=e.getTime());var r=new Array(9);for(var a=7;a>=0;--a){r[a]=n["a"].charAt(e%64);e=Math.floor(e/64)}if(0!==e)throw new Error("Unexpected timestamp.");switch(t){case"max":r[8]="zzzzzzzzzzzz";break;case"min":r[8]="------------";break;default:r[8]=Object(i["a"])(n["a"],12)}return r.join("")}function u(){o=0}},1211:function(e,t,r){"use strict";t["a"]=n;function n(e,t){var r=[];t|=0;while(t){var n=Math.random()*e.length|0;r.push(e.charAt(n));t-=1}return r.join("")}},1212:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var i=r(6);var o=r(363);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function f(e,t){var r,f;var c=(f=r=function(t){s(r,t);function r(){a(this,r);return u(this,t.apply(this,arguments))}r.prototype.serialize=function e(){throw new Error("serialize() not implemented on this model")};r.deserialize=function e(t){throw new Error("deserialize() not implemented on this model")};r.query=function t(r){return new o.CollectionQuery({kind:e,collectionKeys:Array.isArray(r)?r:[r]})};n(r,[{key:"kind",get:function t(){return e}}]);return r}((0,i.Record)(t)),r.KIND=e,f);return c}t.default=f},1213:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(363);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(){i(this,e);this.operations=[]}e.prototype.merge=function e(){var t=this;for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];n.forEach(function(e){t.operations=t.operations.concat(e.operations)});return this};e.prototype.filter=function e(t){this.operations=this.operations.filter(function(e){return t(e)});return this};e.prototype.set=function e(t,r){this.operations.push({type:"set",query:t,doc:r});return this};e.prototype.update=function e(t,r){this.operations.push({type:"update",query:t,properties:r});return this};e.prototype.updateProperty=function e(t,r,n){this.operations.push({type:"update_property",query:t,property:r,value:n});return this};e.prototype.delete=function e(t){this.operations.push({type:"delete",query:t});return this};e.prototype.deleteCollection=function e(t){this.operations.push({type:"delete_collection",query:t});return this};e.prototype.toPathMap=function e(){var t=this.operations;var r={};t.forEach(function(e){var t=e.query.path;if("set"===e.type&&e.doc){var n=e.doc.serialize();r[t]=n}else"update"===e.type&&e.properties?Object.keys(e.properties).forEach(function(n){r[t+"/"+n]=e.properties[n]}):"update_property"===e.type?r[t+"/"+e.property]=e.value:"delete"!==e.type&&"delete_collection"!==e.type||(r[t]=null)});return r};return e}();t.default=o},1234:function(e,t,r){"use strict";e.exports=r(1235)()?Map:r(1236)},1235:function(e,t,r){"use strict";e.exports=function(){var e,t,r;if("function"!==typeof Map)return false;try{e=new Map([["raz","one"],["dwa","two"],["trzy","three"]])}catch(e){return false}if("[object Map]"!==String(e))return false;if(3!==e.size)return false;if("function"!==typeof e.clear)return false;if("function"!==typeof e.delete)return false;if("function"!==typeof e.entries)return false;if("function"!==typeof e.forEach)return false;if("function"!==typeof e.get)return false;if("function"!==typeof e.has)return false;if("function"!==typeof e.keys)return false;if("function"!==typeof e.set)return false;if("function"!==typeof e.values)return false;t=e.entries();r=t.next();if(false!==r.done)return false;if(!r.value)return false;if("raz"!==r.value[0])return false;if("one"!==r.value[1])return false;return true}},1236:function(e,t,r){"use strict";var n=r(597),i=r(1237),o=r(261),a=r(97),u=r(85),s=r(133),f=r(1255),c=r(164),l=r(604),d=r(1261),p=r(1274),h=r(1277),v=Function.prototype.call,y=Object.defineProperties,g=Object.getPrototypeOf,_;e.exports=_=function(){var e=arguments[0],t,r,n;if(!(this instanceof _))throw new TypeError("Constructor requires 'new'");n=h&&o&&Map!==_?o(new Map,g(this)):this;null!=e&&l(e);y(n,{__mapKeysData__:s("c",t=[]),__mapValuesData__:s("c",r=[])});if(!e)return n;d(e,function(e){var n=u(e)[0];e=e[1];if(-1!==i.call(t,n))return;t.push(n);r.push(e)},n);return n};if(h){o&&o(_,Map);_.prototype=Object.create(Map.prototype,{constructor:s(_)})}f(y(_.prototype,{clear:s(function(){if(!this.__mapKeysData__.length)return;n.call(this.__mapKeysData__);n.call(this.__mapValuesData__);this.emit("_clear")}),delete:s(function(e){var t=i.call(this.__mapKeysData__,e);if(-1===t)return false;this.__mapKeysData__.splice(t,1);this.__mapValuesData__.splice(t,1);this.emit("_delete",t,e);return true}),entries:s(function(){return new p(this,"key+value")}),forEach:s(function(e){var t=arguments[1],r,n;a(e);r=this.entries();n=r._next();while(void 0!==n){v.call(e,t,this.__mapValuesData__[n],this.__mapKeysData__[n],this);n=r._next()}}),get:s(function(e){var t=i.call(this.__mapKeysData__,e);if(-1===t)return;return this.__mapValuesData__[t]}),has:s(function(e){return-1!==i.call(this.__mapKeysData__,e)}),keys:s(function(){return new p(this,"key")}),set:s(function(e,t){var r=i.call(this.__mapKeysData__,e),n;if(-1===r){r=this.__mapKeysData__.push(e)-1;n=true}this.__mapValuesData__[r]=t;n&&this.emit("_add",r,e);return this}),size:s.gs(function(){return this.__mapKeysData__.length}),values:s(function(){return new p(this,"value")}),toString:s(function(){return"[object Map]"})}));Object.defineProperty(_.prototype,c.iterator,s(function(){return this.entries()}));Object.defineProperty(_.prototype,c.toStringTag,s("c","Map"))},1237:function(e,t,r){"use strict";var n=r(1238),i=r(599),o=r(85),a=Array.prototype.indexOf,u=Object.prototype.hasOwnProperty,s=Math.abs,f=Math.floor;e.exports=function(e){var t,r,c,l;if(!n(e))return a.apply(this,arguments);r=i(o(this).length);c=arguments[1];c=isNaN(c)?0:c>=0?f(c):i(this.length)-f(s(c));for(t=c;t<r;++t)if(u.call(this,t)){l=this[t];if(n(l))return t}return-1}},1255:function(e,t,r){"use strict";var n=r(133),i=r(97),o=Function.prototype.apply,a=Function.prototype.call,u=Object.create,s=Object.defineProperty,f=Object.defineProperties,c=Object.prototype.hasOwnProperty,l={configurable:true,enumerable:false,writable:true},d,p,h,v,y,g,_;d=function(e,t){var r;i(t);if(c.call(this,"__ee__"))r=this.__ee__;else{r=l.value=u(null);s(this,"__ee__",l);l.value=null}r[e]?"object"===typeof r[e]?r[e].push(t):r[e]=[r[e],t]:r[e]=t;return this};p=function(e,t){var r,n;i(t);n=this;d.call(this,e,r=function(){h.call(n,e,r);o.call(t,this,arguments)});r.__eeOnceListener__=t;return this};h=function(e,t){var r,n,o,a;i(t);if(!c.call(this,"__ee__"))return this;r=this.__ee__;if(!r[e])return this;n=r[e];if("object"===typeof n)for(a=0;o=n[a];++a)o!==t&&o.__eeOnceListener__!==t||(2===n.length?r[e]=n[a?0:1]:n.splice(a,1));else n!==t&&n.__eeOnceListener__!==t||delete r[e];return this};v=function(e){var t,r,n,i,u;if(!c.call(this,"__ee__"))return;i=this.__ee__[e];if(!i)return;if("object"===typeof i){r=arguments.length;u=new Array(r-1);for(t=1;t<r;++t)u[t-1]=arguments[t];i=i.slice();for(t=0;n=i[t];++t)o.call(n,this,u)}else switch(arguments.length){case 1:a.call(i,this);break;case 2:a.call(i,this,arguments[1]);break;case 3:a.call(i,this,arguments[1],arguments[2]);break;default:r=arguments.length;u=new Array(r-1);for(t=1;t<r;++t)u[t-1]=arguments[t];o.call(i,this,u)}};y={on:d,once:p,off:h,emit:v};g={on:n(d),once:n(p),off:n(h),emit:n(v)};_=f({},g);e.exports=t=function(e){return null==e?u(_):f(Object(e),g)};t.methods=y},1261:function(e,t,r){"use strict";var n=r(262),i=r(97),o=r(263),a=r(1262),u=Array.isArray,s=Function.prototype.call,f=Array.prototype.some;e.exports=function(e,t){var r,c=arguments[2],l,d,p,h,v,y,g;u(e)||n(e)?r="array":o(e)?r="string":e=a(e);i(t);d=function(){p=true};if("array"===r){f.call(e,function(e){s.call(t,c,e,d);if(p)return true});return}if("string"===r){v=e.length;for(h=0;h<v;++h){y=e[h];if(h+1<v){g=y.charCodeAt(0);g>=55296&&g<=56319&&(y+=e[++h])}s.call(t,c,y,d);if(p)break}return}l=e.next();while(!l.done){s.call(t,c,l.value,d);if(p)return;l=e.next()}}},1274:function(e,t,r){"use strict";var n=r(261),i=r(133),o=r(371),a=r(164).toStringTag,u=r(1275),s=Object.defineProperties,f=o.prototype._unBind,c;c=e.exports=function(e,t){if(!(this instanceof c))return new c(e,t);o.call(this,e.__mapKeysData__,e);t&&u[t]||(t="key+value");s(this,{__kind__:i("",t),__values__:i("w",e.__mapValuesData__)})};n&&n(c,o);c.prototype=Object.create(o.prototype,{constructor:i(c),_resolve:i(function(e){if("value"===this.__kind__)return this.__values__[e];if("key"===this.__kind__)return this.__list__[e];return[this.__list__[e],this.__values__[e]]}),_unBind:i(function(){this.__values__=null;f.call(this)}),toString:i(function(){return"[object Map Iterator]"})});Object.defineProperty(c.prototype,a,i("c","Map Iterator"))},1275:function(e,t,r){"use strict";e.exports=r(1276)("key","value","key+value")},1277:function(e,t,r){"use strict";e.exports=function(){if("undefined"===typeof Map)return false;return"[object Map]"===Object.prototype.toString.call(new Map)}()},133:function(e,t,r){"use strict";var n=r(370),i=r(602),o=r(1252),a=r(603),u;u=e.exports=function(e,t){var r,o,u,s,f;if(arguments.length<2||"string"!==typeof e){s=t;t=e;e=null}else s=arguments[2];if(null==e){r=u=true;o=false}else{r=a.call(e,"c");o=a.call(e,"e");u=a.call(e,"w")}f={value:t,configurable:r,enumerable:o,writable:u};return s?n(i(s),f):f};u.gs=function(e,t,r){var u,s,f,c;if("string"!==typeof e){f=r;r=t;t=e;e=null}else f=arguments[3];if(null==t)t=void 0;else if(o(t)){if(null==r)r=void 0;else if(!o(r)){f=r;r=void 0}}else{f=t;t=r=void 0}if(null==e){u=true;s=false}else{u=a.call(e,"c");s=a.call(e,"e")}c={get:t,set:r,configurable:u,enumerable:s};return f?n(i(f),c):c}},1368:function(e,t){var r=/[a-zA-Z0-9_\u0392-\u03c9\u00c0-\u00ff\u0600-\u06ff]+|[\u4e00-\u9fff\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g;e.exports=function(e){var t=e.match(r);var n=0;if(!t)return 0;for(var i=0;i<t.length;i++)t[i].charCodeAt(0)>=19968?n+=t[i].length:n+=1;return n}},1370:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.diffNodes=void 0;var n=r(6);r(4);var i=r(138);var o=c(i);var a=r(1371);var u=c(a);var s=r(277);var f=c(s);function c(e){return e&&e.__esModule?e:{default:e}}var l={getIdentifier:h,isVariant:y,isEqual:g,getChildren:p,getThreshold:v};function d(e,t){return o.default.computeDiff(e,t,l).changes}function p(e){if("text"==e.object)return _(e);if("block"==e.object||"inline"==e.object)return e.nodes;return(0,n.List)()}function h(e){if("block"===e.object||"inline"===e.object)return e.key;return null}function v(e){return 0}function y(e,t){if("leaf"==e.object)return g(e,t);if("text"==e.object)return true;if(e.object!=t.object)return false;if(e.isVoid)return g(e,t);if(f.default.Heading.isHeading(e)&&f.default.Heading.isHeading(t))return true;if(f.default.List.isList(e)&&f.default.List.isList(t))return true;return e.type===t.type}function g(e,t){switch(e.object){case"inline":case"block":return e.type==t.type&&(0,n.is)((0,n.fromJS)(e.data.toJS()),(0,n.fromJS)(t.data.toJS()));case"leaf":return(0,n.is)(e,t);case"text":return true;default:throw new Error("Invalid object for isEqual: "+e.object)}}function _(e){var t=e.getLeaves().reduce(function(e,t){var r=(0,u.default)(t.text);r.forEach(function(r){if(!r)return;e.push(t.set("text",r))});return e},[]);return(0,n.List)(t)}t.diffNodes=d},138:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var i,o;var a=r(162);var u=f(a);var s=r(6);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p={IDENTICAL:"identical",REMOVED:"removed",ADDED:"added",MODIFIED:"modified"};var h={isVariant:function e(t,r){return t==r},isEqual:function e(t,r){return t==r},getChildren:function e(t){return(0,s.List)()},getThreshold:function e(t,r){return.3}};var v=(o=i=function(e){d(t,e);function t(){c(this,t);return l(this,e.apply(this,arguments))}t.prototype.isChildrenModified=function e(){return!this.children.isEmpty()};t.prototype.findByID=function e(t){if(this.uid===t)return this;var r=void 0;this.children.find(function(e){r=e.findByID(t);return Boolean(r)});return r};t.prototype.getMostRecent=function e(){var t=void 0;switch(this.type){case p.IDENTICAL:case p.MODIFIED:case p.ADDED:t=this.modified;break;case p.REMOVED:t=this.original;break;default:}if(t)return t;throw new Error("Invalid diff")};t.prototype.serialize=function e(){var r={};r.type=this.type;this.uid&&(r.uid=this.uid);this.movedFrom&&(r.movedFrom=this.movedFrom.toArray());this.movedTo&&(r.movedTo=this.movedTo.toArray());(this.isSelfModified||this.type==p.MODIFIED)&&(r.isSelfModified=this.isSelfModified);this.children.size>0&&(r.children=t.serialize(this.children));return r};t.setChange=function e(r,n,i){if(0==n.size)return r;var o=n.first();var a=n.slice(1);var u=r.get(o);if(!u)return r;return 0==a.size?r.set(o,i):r.set(o,u.merge({children:t.setChange(u.children,a,i)}))};t.getChange=function e(r,n){if(0==n.size)return null;var i=n.first();var o=n.slice(1);var a=r.get(i);if(!a)return null;return o.size>0?t.getChange(a.children,o):a};t.serialize=function e(t){return t.map(function(e){return e.serialize()}).toArray()};n(t,[{key:"position",get:function e(){return this.modifiedPosition||this.originalPosition||(0,s.List)()}},{key:"isMove",get:function e(){return Boolean(this.movedFrom||this.movedTo)}},{key:"score",get:function e(){var t=this.type,r=this.children;if(t==p.ADDED||t==p.REMOVED)return 0;if(t==p.IDENTICAL)return 1;return(this.isSelfModified?.5:1)*y(r)}}]);return t}((0,s.Record)({type:p.IDENTICAL,uid:null,originalPosition:null,original:null,modifiedPosition:null,modified:null,children:(0,s.List)(),isSelfModified:false,movedFrom:null,movedTo:null})),i.TYPES=p,i.computeDiff=E,o);function y(e){if(0==e.size)return 1;var t=e.reduce(function(e,t){return e+t.score},0);return t/e.size}function g(e,t,r){var n=[];for(var i=0;i<e;i+=1){n[i]=new Array(t);if(null!=r)for(var o=0;o<t;o+=1)n[i][o]=r}return n}function _(e,t,r,n,i,o,a,u){if(0===n&&0===i)return[];var s=t[n-1];var f=r[i-1];var c=s&&u.getIdentifier?u.getIdentifier(s):null;var l=f&&u.getIdentifier?u.getIdentifier(f):null;var d=o.push(n-1);var h=a.push(i-1);var y=s&&f&&e[n]&&e[n][i]&&c==l?e[n][i].result:null;if(n>0&&i>0&&y){var g=!u.isEqual(s,f);var m=g||1!=y.score?new v({type:p.MODIFIED,uid:c,original:s,originalPosition:d,modified:f,modifiedPosition:h,isSelfModified:g,children:y.children}):new v({type:p.IDENTICAL,uid:c,original:s,originalPosition:d,modified:s,modifiedPosition:h});return _(e,t,r,n-1,i-1,o,a,u).concat([m])}if(i>0&&(0===n||e[n][i-1].value>=e[n-1][i].value))return _(e,t,r,n,i-1,o,a,u).concat([new v({type:p.ADDED,uid:l,modified:f,modifiedPosition:h})]);if(n>0&&(0===i||e[n][i-1].value<e[n-1][i].value))return _(e,t,r,n-1,i,o,a,u).concat([new v({type:p.REMOVED,uid:c,original:s,originalPosition:d})]);throw new Error("Invalid LCS matrix")}function m(e,t,r){var n=e.length||0;var i=t.length||0;var o=g(n+1,i+1,{value:0});for(var a=0;a<n;a+=1)for(var u=0;u<i;u+=1){var s=r({value:e[a],index:a},{value:t[u],index:u});o[a+1][u+1]=s?{result:s,value:o[a][u].value+1}:{value:Math.max(o[a+1][u].value,o[a][u+1].value)}}return o}function b(e,t,r,n){if(!n.isVariant(e.value,t.value))return false;var i=P({children:n.getChildren(e.value),position:r.original.push(e.index)},{children:n.getChildren(t.value),position:r.modified.push(t.index)},n);var o=y(i);if(o<n.getThreshold(e.value,t.value))return false;return{score:o,children:i}}function P(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;var n=e.children.toArray();var i=t.children.toArray();if(0==n.length&&0==i.length)return(0,s.List)();var o=m(n,i,function(n,i){return b(n,i,{modified:t.position,original:e.position},r)});var a=_(o,n,i,n.length,i.length,e.position,t.position,r);return(0,s.List)(a)}function E(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;var n=P({children:e,position:(0,s.List)()},{children:t,position:(0,s.List)()},r);var i=w(n);return{changes:O(n,i,r),index:i}}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,s.List)();var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.forEach(function(e,n){var i=e.type==p.REMOVED?"original":"modified";var o=e.uid;if(!o)return;var a=t.push(n);r[o]=r[o]||{uid:o};r[o][i]=a;w(e.children,a,r)});return r}function O(e,t,r){return(0,u.default)(t).reduce(function(e,t){var n=t.uid,i=t.modified,o=t.original;if(!i||!o||i.equals(o))return e;var a=v.getChange(e,o);var u=v.getChange(e,i);if(!u||!a)throw new Error("Missing original or modified in diffs");var s=!r.isEqual(a.original,u.modified);var f=v.setChange(e,i,u.merge({isSelfModified:s,original:a.original,movedFrom:o}));f=v.setChange(f,o,a.merge({isSelfModified:s,modified:u.modified,movedTo:i}));return f},e)}t.default=v},1521:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var i=r(6);var o=r(25);var a=l(o);var u=r(213);var s=l(u);var f=r(138);var c=l(f);function l(e){return e&&e.__esModule?e:{default:e}}var d={added:s.default.DIFF_ADDED,removed:s.default.DIFF_REMOVED,modified:s.default.DIFF_MODIFIED,identical:void 0};function p(e){return n.Value.create({document:n.Document.create({nodes:h(e)})})}function h(e){return e.map(function(e){var t=e.getMostRecent().object;switch(t){case"block":return v(e);case"inline":return y(e);case"text":return b(e);default:throw new Error("Unknown object "+t)}})}function v(e){var t=e.getMostRecent();var r=m(t,e);if(e.type===c.default.TYPES.IDENTICAL)return e.modified;if(e.type===c.default.TYPES.MODIFIED&&!e.isSelfModified&&t.type!==a.default.CODE_TAB)return r;switch(t.type){case a.default.TABLE_ROW:case a.default.TABLE_CELL:case a.default.CODE_LINE:return _(r,e.type);case a.default.CODE_TAB:if(e.type===c.default.TYPES.MODIFIED)return _(r,e.type);return _(r.set("nodes",r.nodes.map(function(t){return _(t,e.type)})),e.type);case a.default.LIST_ITEM:if(e.type===c.default.TYPES.MODIFIED)return r;return E(r,e.type);default:break}return g(r,e.type)}function y(e){var t=e.getMostRecent();var r=m(t,e);if(e.type===c.default.TYPES.IDENTICAL)return e.modified;if(e.type===c.default.TYPES.MODIFIED&&!e.isSelfModified)return r;return E(r,e.type)}function g(e,t){return n.Block.create({type:a.default.DIFF_BLOCK,data:n.Data.create({type:t}),nodes:(0,i.List)([e])})}function _(e,t){return e.set("data",e.data.merge({diff:t}))}function m(e,t){return e.set("nodes",t.isChildrenModified()?h(t.children):e.nodes)}function b(e){switch(e.type){case c.default.TYPES.IDENTICAL:return e.modified;case c.default.TYPES.ADDED:case c.default.TYPES.REMOVED:return w(e.getMostRecent(),e.type);case c.default.TYPES.MODIFIED:return n.Text.create({leaves:e.children.map(P)});default:throw new Error("Invalid diff")}}function P(e){var t=e.getMostRecent();if(e.type===c.default.TYPES.IDENTICAL)return t;return t.set("marks",t.marks.add(n.Mark.create({type:d[e.type]})))}function E(e,t){return e.mapDescendants(function(e){if("text"===e.object)return w(e,t);return e})}function w(e,t){return e.addMark(0,e.length,n.Mark.create({type:d[t]})).set("key",t+"-"+e.key)}t.default=p},1522:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.mergeVersions=t.diffVersions=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var i=r(6);var o=r(368);var a=d(o);var u=r(138);var s=d(u);var f=r(708);var c=d(f);var l=r(707);function d(e){return e&&e.__esModule?e:{default:e}}var p={getIdentifier:function e(t){return t.uid},isVariant:function e(t,r){return t.uid==r.uid},isEqual:function e(t,r){return(0,i.is)(t,r)},getChildren:function e(t){return(0,i.List)()},getThreshold:function e(t,r){return.3}};var h=n({},p,{setChildren:function e(t,r){return t},mergeLeafs:function e(t,r,n,i,o,u){var s=t?t.page:a.default.create({uid:r.uid});return r.merge({title:(0,f.mergeLeafsProperty)("title",t,r,n),page:(0,l.mergePages)(s,r.page,n.page)})}});function v(e,t){return s.default.computeDiff(e.toList(),t.toList(),p).changes}function y(e,t,r){var n=(0,c.default)(e.toList(),t.toList(),r.toList(),h);return(0,i.OrderedMap)(n.map(function(e){return[e.uid,e]}))}t.diffVersions=v;t.mergeVersions=y},160:function(e,t,r){"use strict";r.d(t,"a",function(){return n});var n="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz"},164:function(e,t,r){"use strict";e.exports=r(1256)()?Symbol:r(1257)},261:function(e,t,r){"use strict";e.exports=r(600)()?Object.setPrototypeOf:r(601)},27:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CollectionQuery=t.DocumentQuery=t.DatabaseUpdate=t.DatabaseModel=void 0;var n=r(1201);Object.keys(n).forEach(function(e){if("default"===e||"__esModule"===e)return;Object.defineProperty(t,e,{enumerable:true,get:function t(){return n[e]}})});var i=r(1212);var o=f(i);var a=r(1213);var u=f(a);var s=r(363);function f(e){return e&&e.__esModule?e:{default:e}}t.DatabaseModel=o.default;t.DatabaseUpdate=u.default;t.DocumentQuery=s.DocumentQuery;t.CollectionQuery=s.CollectionQuery},363:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.DocumentQuery=t.CollectionQuery=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var o,a,u,s;var f=r(28);var c=d(f);var l=r(6);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=function(e){v(t,e);function t(){p(this,t);return h(this,e.apply(this,arguments))}return t}((0,l.Record)({optimistic:true,waitFetched:true,placeholder:true,ignoreErrors:false,background:false}));var g=(a=o=function(e){v(t,e);function t(){p(this,t);return h(this,e.apply(this,arguments))}t.prototype.serialize=function e(){return{kind:this.kind,collection:this.collectionKeys,filters:this.filters.toJS()}};t.prototype.isDocumentQuery=function e(){return false};t.prototype.isCollectionQuery=function e(){return true};t.prototype.where=function e(t,r){(0,c.default)(this.filters.isEmpty(),"Only one filter is supported with the RTDB, it will be supported with Firestore");return this.merge({filters:this.filters.set(t,r)})};t.prototype.doc=function e(t){return new _({kind:this.kind,collectionKeys:this.collectionKeys,documentKey:t,options:this.options})};t.prototype.setOptions=function e(t){return this.merge({options:this.options.merge(t)})};t.prototype.matchDocument=function e(t){if(t.kind!==this.kind)return false;if(this.filters.isEmpty())return true;var r=t.serialize();return this.filters.every(function(e,t){return r[t]==e})};i(t,[{key:"path",get:function e(){return this.collectionKeys.join("/")}},{key:"cacheKey",get:function e(){var t=this.filters.entrySeq().sortBy(function(e){var t=e[0];return t}).reduce(function(e,t){var r=t[0],n=t[1];return e+"@"+r+"="+n},"");return this.kind+"://"+this.path+","+t}}]);return t}((0,l.Record)({kind:"",collectionKeys:[],options:new y,filters:new l.Map})),o.deserialize=m,a);var _=(s=u=function(e){v(t,e);function t(){p(this,t);return h(this,e.apply(this,arguments))}t.prototype.serialize=function e(){return n({},this.parent().serialize(),{doc:this.documentKey})};t.prototype.isDocumentQuery=function e(){return true};t.prototype.isCollectionQuery=function e(){return false};t.prototype.parent=function e(){return new g({kind:this.kind,collectionKeys:this.collectionKeys})};t.prototype.collection=function e(t,r){return new g({kind:t,collectionKeys:this.collectionKeys.concat([this.documentKey]).concat(Array.isArray(r)?r:[r]),options:this.options})};t.prototype.setOptions=function e(t){return this.merge({options:this.options.merge(t)})};t.prototype.defaultsTo=function e(t){return this.merge({defaultValue:t}).setOptions({waitFetched:false})};i(t,[{key:"path",get:function e(){return this.collectionKeys.concat([this.documentKey]).join("/")}},{key:"cacheKey",get:function e(){return this.kind+"://"+this.path}}]);return t}((0,l.Record)({kind:"",collectionKeys:[],documentKey:"",options:new y,defaultValue:null})),u.deserialize=m,s);function m(e){var t=new g({kind:e.kind,collectionKeys:e.collection,documentKey:e.doc});return e.doc?t.doc(e.doc):t}t.CollectionQuery=g;t.DocumentQuery=_},368:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var o,a;var u=r(28);var s=P(u);var f=r(369);var c=P(f);var l=r(163);var d=P(l);var p=r(6);var h=r(596);var v=P(h);var y=r(605);var g=P(y);var _=r(388);var m=P(_);var b=r(27);function P(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var M="document";var D="link";var I="group";var L=(a=o=function(e){O(t,e);function t(){E(this,t);return w(this,e.apply(this,arguments))}t.isValidTitle=function e(r){return r.length>0&&r.length<t.TITLE_LIMIT};t.isValidHref=function e(t){return(0,d.default)(t)};t.create=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r instanceof t)return r;var n=r.kind;null==n&&(n=r.href&&!r.documentURL?D:M);if(n===M)return t.createDocument(r);if(n===I)return t.createGroup(r);if(n===D)return t.createLink(r);throw new Error('Cannot create Page of unknown kind "'+n+'"')};t.createDocument=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r instanceof t)return r;(0,s.default)(!r.href,'Page of kind "'+M+'" must not have a href');return new t({pages:(0,p.List)(r.pages||[]).map(function(e){return t.create(e)}),isPathUntouched:null!=r.isPathUntouched&&r.isPathUntouched,kind:M,uid:r.uid||(0,b.genKey)(),title:t.normalizeTitle(r.title||""),description:t.normalizeDescription(r.description||""),createdAt:new Date(r.createdAt||Date.now()),lastModifiedAt:new Date(r.lastModifiedAt||Date.now()),modifiedBy:(0,p.OrderedSet)(r.modifiedBy||[]),github:r.github?m.default.create(r.github):null,path:t.normalizePath(r.path||r.title||""),documentURL:r.documentURL||null,stats:g.default.create(r.stats||{})})};t.createLink=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r instanceof t)return r;(0,s.default)(!r.documentURL,'Page of kind "'+D+'" must not have a documentURL');(0,s.default)(0===(0,p.List)(r.pages||[]).size,'Page of kind "'+D+'" must not have children pages');return new t({kind:D,uid:r.uid||(0,b.genKey)(),title:t.normalizeTitle(r.title||""),href:r.href,createdAt:new Date(r.createdAt||Date.now()),lastModifiedAt:new Date(r.lastModifiedAt||Date.now()),modifiedBy:(0,p.OrderedSet)(r.modifiedBy||[]),github:r.github?m.default.create(r.github):null})};t.createGroup=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r instanceof t)return r;(0,s.default)(!r.href,'Page of kind "'+I+'" must not have a href');(0,s.default)(!r.documentURL,'Page of kind "'+I+'" must not have a documentURL');return new t({pages:(0,p.List)(r.pages||[]).map(function(e){return t.create(e)}),isPathUntouched:null!=r.isPathUntouched&&r.isPathUntouched,kind:I,uid:r.uid||(0,b.genKey)(),title:t.normalizeTitle(r.title||""),description:t.normalizeDescription(r.description||""),createdAt:new Date(r.createdAt||Date.now()),lastModifiedAt:new Date(r.lastModifiedAt||Date.now()),modifiedBy:(0,p.OrderedSet)(r.modifiedBy||[]),github:r.github?m.default.create(r.github):null,path:t.normalizePath(r.path||r.title||"","")})};t.createUntitled=function e(r){var n=t.create({title:"Untitled",isPathUntouched:true});return n.merge({path:r.getNewPath(n.path)})};t.deserializeTree=function e(r){var i=function e(t,r){return n({},t,{pages:(t.pages||[]).map(function(e){return r[e]}).map(function(t){return e(t,r)})})};return t.deserialize(i(r.pages[r.entryPage],r.pages))};t.deserialize=function e(r){return t.create(n({},r,{pages:(r.pages||[]).map(function(e){return t.deserialize(e)}),github:"document"===r.kind&&r.github?m.default.deserialize(r.github):null,stats:r.stats?g.default.deserialize(r.stats):null}))};t.prototype.serializeTree=function e(){return{entryPage:this.uid,pages:this.toFlatMap().map(function(e){return e.serialize()}).toObject()}};t.prototype.serialize=function e(){return{uid:this.uid,kind:this.kind,title:this.title,path:this.path,href:this.href,description:this.description,documentURL:this.documentURL,createdAt:this.createdAt.getTime(),lastModifiedAt:this.lastModifiedAt.getTime(),modifiedBy:this.modifiedBy.toArray(),github:this.isDocument&&this.github?this.github.serialize():null,stats:this.stats?this.stats.serialize():null,pages:this.pages.isEmpty()?null:this.pages.map(function(e){return e.uid}).toArray()}};t.prototype.regenerateUID=function e(){return this.merge({uid:(0,b.genKey)()})};t.prototype.toJSON=function e(){var t=this.toObject();t.pages=t.pages.toArray().map(function(e){return e.toJSON()});return t};t.prototype.compare=function e(t){return this.uid===t.uid&&this.title===t.title&&this.description===t.description&&this.path===t.path&&this.href===t.href&&this.documentURL===t.documentURL};t.prototype.toFlatMap=function e(){var t;return this.pages.reduce(function(e,t){return e.merge(t.toFlatMap())},(0,p.OrderedMap)((t={},t[this.uid]=this,t)))};t.prototype.toFlatArray=function e(){return this.toFlatMap().toArray()};t.prototype.toGitHubPathsMap=function e(){return this.toFlatMap().filter(function(e){return!!e.github}).mapEntries(function(e){var t=e[0],r=e[1];return[r.github.filePath,t]}).toMap()};t.prototype.getParentMap=function e(){var t=this.toFlatMap();var r={};t.forEach(function(e){return e.pages.forEach(function(t){r[t.uid]=e.uid})});return(0,p.Map)(r)};t.prototype.getURLMap=function e(){var t=this;var r=this.toFlatMap();var n={};r.forEach(function(e){if(e.isGroup||e.isLink)return;var r=t.getURLOf(e);"string"==typeof r&&(n[r]=e.uid)});return(0,p.Map)(n)};t.prototype.getByID=function e(t){return this.findPage(function(e){var r=e.uid;return r===t})};t.prototype.findPage=function e(t){if(t(this))return this;return this.toFlatMap().find(function(e){return t(e)})||null};t.prototype.findClosestDocumentPage=function e(t,r){var n=this.getFlatIndex(t);var i=this.getPageAtFlatIndex(n+r);if(!i)return null;if("document"===i.kind)return i;return this.findClosestDocumentPage(i,r)};t.prototype.getByURL=function e(t){var r=t.replace(/^\//,"").split("/");if(!r[0])return this;var n=r[0];var i=r.slice(1).join("/");var o=this.pages.find(function(e){return e.path===n});if(!o)return null;return o.getByURL(i)};t.prototype.getChildAt=function e(t){var r=this.pages;return r.get(t)};t.prototype.getIndexOf=function e(t){return this.pages.findIndex(function(e){return e.uid==t.uid})};t.prototype.getChild=function e(t){var r=this.pages;return r.find(function(e){return e.path===t})};t.prototype.getNewPath=function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;var i="-"+n;var o=n>0?""+r.slice(0,t.PATH_LIMIT-i.length)+i:r;if(this.getChild(o))return this.getNewPath(r,n+1);return o};t.prototype.getParentsOf=function e(t){var r=this.toFlatMap();var n=this.getParentMap();if(!r.get(t.uid))return null;var i=r.get(n.get(t.uid));var o=new p.List;while(i){o=o.unshift(i);i=r.get(n.get(i.uid))}return o};t.prototype.getParentOf=function e(t){var r=this.getParentsOf(t);return r?r.last():null};t.prototype.getFlatIndex=function e(t){return this.toFlatMap().toList().indexOf(t)};t.prototype.getPageAtFlatIndex=function e(t){var r=this.toFlatMap().toList();if(t<0||t>=r.size)return null;return r.get(t)};t.prototype.getURLOf=function e(t){if(t.isLink)throw new Error('Cannot .getURLOf() a page with kind "'+t.kind+'"');var r=this.getParentsOf(t);if(!r)return null;return r.push(t).shift().map(function(e){return e.path}).join("/")};t.prototype.getURLOfParentOf=function e(t){var r=this.getParentsOf(t);if(!r)return null;return r.shift().map(function(e){return e.path}).join("/")};t.prototype.getURLRelativeTo=function e(t){if(this.isLink)throw new Error('Cannot .getURLRelativeTo() a page with kind "'+this.kind+'"');if(!this.path)throw new Error('Missing path for page with kind "'+this.kind+'"');if(!this.path)throw new Error("Missing path to getURLRelativeTo() for page "+this.uid+' of kind "'+this.kind+'"');if(t)return t+"/"+this.path;return this.path};t.prototype.hasChildPage=function e(t){return this.hasChildPageWith(t,function(e,t){return e.uid==t.uid})};t.prototype.hasChildPageWith=function e(t,r){return this.pages.some(function(e){return r(e,t)})};t.prototype.hasPage=function e(t){return Boolean(this.getByID(t.uid))};t.prototype.markAsModifiedBy=function e(t){return this.merge({lastModifiedAt:new Date,modifiedBy:(0,p.OrderedSet)([t.uid]).concat(this.modifiedBy),stats:this.stats&&this.stats.incrementRevisions()})};t.prototype.setPage=function e(t){return this.updatePage(t,function(e){return t})};t.prototype.updatePage=function e(t,r){var n="string"==typeof t?t:t.uid;var i=false;var o=function e(t){if(i)return t;if(t.uid===n){i=true;return r(t)}return t.merge({pages:t.pages.map(e)})};return o(this)};t.prototype.updateChildPage=function e(t){return this.set("pages",this.pages.map(function(e){return e.uid===t.uid?t:e}))};t.prototype.updatePagePath=function e(r,n){var i=r.uid;return this.updatePage(i,function(e){return e.merge({path:t.normalizePath(n),isPathUntouched:false})})};t.prototype.updatePageTitle=function e(r,n){var i=t.normalizeTitle(n);if(!i)return this;var o=t.normalizePath(i);var a=this.getParentOf(r);return this.updatePage(r.uid,function(e){var t=e.path;e.isLink?t=null:e.isPathUntouched&&e.path!=o&&a&&(t=a.getNewPath(o));return e.merge({title:i,path:t})})};t.prototype.updatePageDescription=function e(r,n){return this.updatePage(r.uid,function(e){return e.merge({description:t.normalizeDescription(n)})})};t.prototype.removePage=function e(t){var r=this.pages;return this.merge({pages:r.map(function(e){return e.uid==t.uid?null:e.removePage(t)}).filter(Boolean)})};t.prototype.insertChildPage=function e(t,r){return this.merge({pages:this.pages.insert(t,r.merge({path:r.isLink?null:this.getNewPath(r.path)}))})};t.prototype.createChildPage=function e(t){return this.insertChildPage(this.pages.size,t)};t.prototype.setPages=function e(t){return this.merge({pages:(0,p.List)()}).insertPages(0,t)};t.prototype.insertPages=function e(t,r){var n=this.pages.size-t;return r.reduce(function(e,t){return e.insertChildPage(e.pages.size-n,t)},this)};t.prototype.insertPage=function e(t,r,n){var i=this.pages;if(this.uid==t.uid)return this.insertChildPage(r,n);return this.merge({pages:i.map(function(e){return e.insertPage(t,r,n)})})};t.prototype.createPage=function e(t,r){return this.insertPage(t,t.pages.size,r)};t.prototype.unwrapPageChildren=function e(t){var r=this.getParentOf(t);if(!r)return this;var n=this.pages.findIndex(function(e){return e.uid===t.uid});var i=r.merge({pages:this.pages.slice(0,n).concat(t.pages).concat(this.pages.slice(n+1))});return this.setPage(i)};t.prototype.movePage=function e(t,r,n){var i=t;r.hasPage(i)||(i=i.merge({path:i.isLink?null:r.getNewPath(i.path)}));if(i.hasPage(r))return this.unwrapPageChildren(i).insertPage(r,n,i.merge({pages:(0,p.List)()}));return this.removePage(i).insertPage(r,n,i)};t.prototype.movePageBefore=function e(t,r){var n=this.getParentOf(r);if(!n)return this;var i=n.getIndexOf(t);var o=n.getIndexOf(r);var a=i>=0&&o>i?o-1:o;return this.movePage(t,n,a)};t.prototype.mapPages=function e(t){return this.toFlatMap().reduce(function(e,r){return e.updatePage(r,t)},this)};t.normalizePath=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined";var n=(0,c.default)(t,{tone:false,custom:{".":".","+":"+"},separateNumbers:false}).slice(0,100);return n||r};t.normalizeURL=function e(r){return r.split("/").map(function(e){return t.normalizePath(e,"")}).join("/")};t.normalizeTitle=function e(r){return T(r).trim().slice(0,t.TITLE_LIMIT)};t.normalizeDescription=function e(r){return T(r).trim().slice(0,t.DESCRIPTION_LIMIT)};t.getParentURL=function e(t){return t.split("/").slice(0,-1).join("/")};i(t,[{key:"isLink",get:function e(){return this.kind===D}},{key:"isDocument",get:function e(){return this.kind===M}},{key:"isGroup",get:function e(){return this.kind===I}}]);return t}((0,p.Record)({uid:"",title:"",kind:M,description:"",path:null,href:null,documentURL:null,createdAt:new Date,lastModifiedAt:new Date,pages:(0,p.List)(),modifiedBy:(0,p.OrderedSet)(),github:null,isPathUntouched:false,stats:null})),o.PATH_LIMIT=100,o.TITLE_LIMIT=100,o.DESCRIPTION_LIMIT=200,o.KIND_DOCUMENT=M,o.KIND_LINK=D,o.KIND_GROUP=I,a);function T(e){return e.replace(/(\r\n|\r|\n)/g," ")}(0,v.default)(L.prototype,["toFlatMap","getParentMap"],{takesArguments:false});(0,v.default)(L.prototype,["getByURL","getURLOf"],{takesArguments:true});t.default=L},369:function(e,t,r){"use strict";const n=r(1226);const i=r(1228);const o=r(1232);function a(e){e=e||[];return Array.isArray(e)?e:Object.keys(e)}e.exports=function(e,t){const r="string"===typeof t?{separator:t}:t||{};e=e.replace(/(\S)['\u2018\u2019\u201A\u201B\u2032\u2035\u0301](\S)/g,"$1$2");false!==r.separateNumbers&&(e=e.replace(/([^\d\s])([0-9]+)([^\d\s])/g,"$1 $2 $3"));let u=false;const s=r.lang||"";if(s.toLowerCase().startsWith("ja")||o.containsKana(e)){e=o.fromKana(e);e=e.replace(/([^A-Za-z0-9\- ]+)/g,"")}else if(s.toLowerCase().startsWith("zh")||/[\u4e00-\u9fa5]+/.test(e)){const t="boolean"!==typeof r.tone||r.tone;u=t;e=i(e,{style:t?i.STYLE_TONE2:i.STYLE_NORMAL}).join(" ");const n=a(r.custom).map(function(e){return`\\${e}`}).join("");const o=new RegExp(`([^0-9A-Za-z ${n}]+)`,"g");e=e.replace(o,"");e=e.replace(/([^1-4]) ([A-Za-z]) /g,"$1$2")}const f=r.replacement||r.separator;const c=n(e,{lang:s||"en",separator:"string"===typeof f?f:"-",maintainCase:r.maintainCase||false,custom:r.custom||{}});return u?c.replace(/([^0-9])-([0-9])/g,"$1$2"):c}},371:function(e,t,r){"use strict";var n=r(597),i=r(370),o=r(97),a=r(85),u=r(133),s=r(1264),f=r(164),c=Object.defineProperty,l=Object.defineProperties,d;e.exports=d=function(e,t){if(!(this instanceof d))return new d(e,t);l(this,{__list__:u("w",a(e)),__context__:u("w",t),__nextIndex__:u("w",0)});if(!t)return;o(t.on);t.on("_add",this._onAdd);t.on("_delete",this._onDelete);t.on("_clear",this._onClear)};l(d.prototype,i({constructor:u(d),_next:u(function(){var e;if(!this.__list__)return;if(this.__redo__){e=this.__redo__.shift();if(void 0!==e)return e}if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}),next:u(function(){return this._createResult(this._next())}),_createResult:u(function(e){if(void 0===e)return{done:true,value:void 0};return{done:false,value:this._resolve(e)}}),_resolve:u(function(e){return this.__list__[e]}),_unBind:u(function(){this.__list__=null;delete this.__redo__;if(!this.__context__)return;this.__context__.off("_add",this._onAdd);this.__context__.off("_delete",this._onDelete);this.__context__.off("_clear",this._onClear);this.__context__=null}),toString:u(function(){return"[object Iterator]"})},s({_onAdd:u(function(e){if(e>=this.__nextIndex__)return;++this.__nextIndex__;if(!this.__redo__){c(this,"__redo__",u("c",[e]));return}this.__redo__.forEach(function(t,r){t>=e&&(this.__redo__[r]=++t)},this);this.__redo__.push(e)}),_onDelete:u(function(e){var t;if(e>=this.__nextIndex__)return;--this.__nextIndex__;if(!this.__redo__)return;t=this.__redo__.indexOf(e);-1!==t&&this.__redo__.splice(t,1);this.__redo__.forEach(function(t,r){t>e&&(this.__redo__[r]=--t)},this)}),_onClear:u(function(){this.__redo__&&n.call(this.__redo__);this.__nextIndex__=0})})));c(d.prototype,f.iterator,u(function(){return this}));c(d.prototype,f.toStringTag,u("","Iterator"))},388:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(6);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(e){a(t,e);function t(){i(this,t);return o(this,e.apply(this,arguments))}t.create=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r instanceof t)return r;return new t(r)};t.deserialize=function e(r){return t.create(r)};t.prototype.serialize=function e(){return{sha:this.sha,filePath:this.filePath}};return t}((0,n.Record)({sha:"",filePath:""}));t.default=u},579:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1202);r.d(t,"date",function(){return n["a"]});r.d(t,"decode",function(){return n["b"]});r.d(t,"decodeLexicographic",function(){return n["c"]});r.d(t,"decrement",function(){return n["d"]});r.d(t,"encode",function(){return n["e"]});r.d(t,"encodeLexicographic",function(){return n["f"]});r.d(t,"increment",function(){return n["g"]});r.d(t,"key",function(){return n["h"]});r.d(t,"resetLastTimestamp",function(){return n["j"]});r.d(t,"milliseconds",function(){return n["i"]})},580:function(e,t,r){"use strict";t["a"]=i;var n=r(160);function i(e){var t=0;for(var r=0;r<8;++r){var i=n["a"].indexOf(e.charAt(r));if(-1===i)throw new Error("Unexpected character '"+e.charAt(r)+"'.");t=64*t+i}return t}},581:function(e,t,r){"use strict";t["a"]=n;function n(e,t){var r="";if("function"===typeof e.repeat)r=e.repeat(t);else if(t>0){while(t>1){1&t&&(r+=e);t>>=1;e+=e}r+=e}return r}},596:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1234);var i=o(n);function o(e){return e&&e.__esModule?e:{default:e}}var a={};var u={};var s=void 0;function f(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n=r.takesArguments,o=void 0===n||n;var a=true;var f=false;var d=void 0;try{var p=function t(){var r=v.value;var n=e[r];if(!n)throw new Error('Object does not have a property named "'+r+'".');e[r]=function(){this.__cache||(this.__cache=new i.default);var e=void 0;var t=[];for(var a=arguments.length,f=Array(a),d=0;d<a;d++)f[d]=arguments[d];if(o){t=[r].concat(f);e=c(this.__cache,t)}else e=this.__cache.get(r);if(e!==s)return e===u?void 0:e;var p=n.apply(this,f);var h=void 0===p?u:p;o?this.__cache=l(this.__cache,t,h):this.__cache.set(r,h);return p}};for(var h=t[Symbol.iterator](),v;!(a=(v=h.next()).done);a=true)p()}catch(e){f=true;d=e}finally{try{!a&&h.return&&h.return()}finally{if(f)throw d}}}function c(e,t){var r=true;var n=false;var i=void 0;try{for(var o=t[Symbol.iterator](),u;!(r=(u=o.next()).done);r=true){var f=u.value;e=e.get(f);if(e===s)return s}}catch(e){n=true;i=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw i}}return e.get(a)}function l(e,t,r){var n=e;var o=void 0;var u=true;var f=false;var c=void 0;try{for(var l=t[Symbol.iterator](),d;!(u=(d=l.next()).done);u=true){var p=d.value;o=n.get(p);if(o===s){o=new i.default;n.set(p,o)}n=o}}catch(e){f=true;c=e}finally{try{!u&&l.return&&l.return()}finally{if(f)throw c}}o.set(a,r);return e}t.default=f},597:function(e,t,r){"use strict";var n=r(85);e.exports=function(){n(this).length=0;return this}},604:function(e,t,r){"use strict";var n=r(1260);e.exports=function(e){if(!n(e))throw new TypeError(e+" is not iterable");return e}},605:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var o,a;var u=r(6);r(4);var s=r(1368);var f=d(s);var c=r(25);var l=d(c);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=(a=o=function(e){v(t,e);function t(){p(this,t);return h(this,e.apply(this,arguments))}t.create=function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r instanceof t)return r;return new t(n({},r))};t.deserialize=function e(r){return t.create(n({},r))};t.prototype.serialize=function e(){return{words:this.words,images:this.images,codeLines:this.codeLines,revisions:this.revisions}};t.createFromDocument=function e(r){return t.create().updateFromDocument(r)};t.prototype.updateFromDocument=function e(t){var r=[l.default.HEADING_1,l.default.HEADING_2,l.default.HEADING_3,l.default.PARAGRAPH,l.default.LIST_ITEM];var n=t.getBlocks().reduce(function(e,t){if(r.indexOf(t.type)>=0)return e+(0,f.default)(t.getText());return e},0);return this.merge({words:n,images:t.getBlocksByType(l.default.IMAGE).count(),codeLines:t.getBlocksByType(l.default.CODE_LINE).count()})};t.prototype.incrementRevisions=function e(){return this.merge({revisions:this.revisions+1})};i(t,[{key:"estimatedReadingTime",get:function e(){var r=0;for(var n=0;n<this.images;n+=1){var i=t.TIME_PER_IMAGE_MAX-n;r+=i>t.TIME_PER_IMAGE_MIN?i:t.TIME_PER_IMAGE_MIN}var o=this.words*t.TIME_PER_WORD;var a=r;var u=this.codeLines*t.TIME_PER_CODE_LINE;return o+a+u}}]);return t}((0,u.Record)({words:0,images:0,codeLines:0,revisions:0})),o.TIME_PER_WORD=60/275,o.TIME_PER_CODE_LINE=2,o.TIME_PER_IMAGE_MAX=12,o.TIME_PER_IMAGE_MIN=3,a);t.default=y},653:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var i,o;var a=r(44);var u=l(a);var s=r(6);var f=r(138);var c=l(f);function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=(0,u.default)("patch");var y={MOVE:"move",REMOVE:"remove",ADD:"add",UPDATE:"update"};var g=(o=i=function(e){h(t,e);function t(){d(this,t);return p(this,e.apply(this,arguments))}t.createFromDiffs=function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,s.List)();var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;return r.reduce(function(e,r,o){var a=_(r);var u=n.push(r.uid);var s=e;var f=t.createFromDiffs(r.children,u,i);s=s.merge(f);if(!a)return s;var c=new t({type:a,uid:r.uid,before:r.original,value:r.modified,path:n,index:o,isSelfModified:a==y.MOVE&&r.isSelfModified,movedFrom:a==y.MOVE?m(r.movedFrom,i):null});return s.set(c.uid,c)},(0,s.OrderedMap)())};t.applyPatches=function e(r,n,i){return n.reduce(function(e,r){return t.applyPatch(e,r,i)},r)};t.applyPatch=function e(t,r,n){v('apply patch "'+r.type+'" for "'+r.uid+'" at root/'+r.path.join("/"));switch(r.type){case y.UPDATE:return w(t,r,n);case y.ADD:return b(t,r,n);case y.REMOVE:return P(t,r,n);case y.MOVE:return E(t,r,n);default:throw new Error('Invalid patch type "'+r.type+'"')}};n(t,[{key:"isDirectMove",get:function e(){return this.type==y.MOVE&&!this.isSelfModified}}]);return t}((0,s.Record)({type:y.ADD,uid:null,before:null,value:null,index:0,path:null,movedFrom:null,isSelfModified:false})),i.TYPES=y,o);function _(e){switch(e.type){case c.default.TYPES.MODIFIED:return e.isSelfModified?y.UPDATE:null;case c.default.TYPES.ADDED:return e.movedFrom?y.MOVE:y.ADD;case c.default.TYPES.REMOVED:return e.movedTo?null:y.REMOVE;case c.default.TYPES.IDENTICAL:return null;default:throw new Error("Invalid diff type "+e.type)}}function m(e,t){if(0==e.size)return(0,s.List)();var r=t.get(e.first());if(!r)throw new Error("Error with position in diffs tree");return(0,s.List)([r.uid]).concat(m(e.rest(),r.children))}function b(e,t,r){var n=O(e,t.path,r);return M(e,t.path,n.insert(t.index,t.value),r)}function P(e,t,r){var n=O(e,t.path,r);var i=n.findIndex(function(e){return t.uid==r.getIdentifier(e)});if(i<0)throw new Error('Invalid REMOVE patch, item "'+t.uid+'" not found');return M(e,t.path,n.delete(i),r)}function E(e,t,r){var n=t.merge({type:y.REMOVE,path:t.movedFrom.butLast()});var i=t.merge({type:y.ADD});var o=P(e,n,r);var a=b(o,i,r);return a}function w(e,t,r){var n=O(e,t.path,r);var i=n.findIndex(function(e){return t.uid==r.getIdentifier(e)});if(i<0)throw new Error('Invalid UPDATE patch, item "'+t.uid+'" not found');var o=r.getChildren(n.get(i));var a=r.setChildren(t.value,o);return M(e,t.path,n.set(i,a),r)}function O(e,t,r){if(0==t.size)return e;var n=t.first();var i=t.rest();var o=e.find(function(e){return r.getIdentifier(e)==n});return O(r.getChildren(o),i,r)}function M(e,t,r,n){if(0==t.size)return r;var i=t.first();var o=t.rest();var a=e.findIndex(function(e){return n.getIdentifier(e)==i});var u=a>=0?e.get(a):null;if(!u)throw new Error("Item does not exist: "+i);var s=n.getChildren(u);var f=M(s,o,r,n);var c=n.setChildren(u,f);return e.set(a,c)}t.default=g},707:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.diffPages=t.mergePages=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var i=r(6);var o=r(138);var a=f(o);var u=r(708);var s=f(u);function f(e){return e&&e.__esModule?e:{default:e}}var c={getIdentifier:function e(t){return t.uid},isVariant:function e(t,r){return t.uid==r.uid},isEqual:function e(t,r){return t.compare(r)},getChildren:function e(t){return t.pages},getThreshold:function e(t,r){return 0}};var l=n({},c,{setChildren:function e(t,r){return t.merge({pages:r})},mergeLeafs:function e(t,r,n){return r.merge({title:(0,u.mergeLeafsProperty)("title",t,r,n),description:(0,u.mergeLeafsProperty)("description",t,r,n),documentURL:(0,u.mergeLeafsProperty)("documentURL",t,r,n),href:(0,u.mergeLeafsProperty)("href",t,r,n),path:(0,u.mergeLeafsProperty)("path",t,r,n)})}});function d(e,t){var r=a.default.computeDiff((0,i.List)([e]),(0,i.List)([t.merge({uid:e.uid})]),c),n=r.changes;return n.get(0)}function p(e,t,r){var n=(0,s.default)((0,i.List)([e]),(0,i.List)([t.merge({uid:e.uid})]),(0,i.List)([r.merge({uid:e.uid})]),l);return n.first()}t.mergePages=p;t.diffPages=d},708:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.mergeLeafsProperty=void 0;var n=r(6);var i=r(138);var o=s(i);var a=r(653);var u=s(a);function s(e){return e&&e.__esModule?e:{default:e}}function f(e,t,r,n){var i=o.default.computeDiff(e,t,n),a=i.changes;var s=o.default.computeDiff(e,r,n),f=s.changes;var c=u.default.createFromDiffs(a);var d=u.default.createFromDiffs(f);var p=l(c,d,n.mergeLeafs);return u.default.applyPatches(e,p,n)}function c(e,t,r,n){return t&&t[e]==r[e]?n[e]:r[e]}function l(e,t,r){var i=(0,n.Set)(e.keySeq());var o=(0,n.Set)(t.keySeq());var a=(0,n.OrderedMap)(i.intersect(o).toList().map(function(n){var i=e.get(n);var o=t.get(n);var a=d(i,o,r);return[n,a]}));var s=(0,n.OrderedMap)().merge(e).merge(t).merge(a);var f=s.map(function(e){if(e.type==u.default.TYPES.REMOVE)return e.path.push(e.uid);if(e.type==u.default.TYPES.MOVE)return e.movedFrom;return false}).filter(Boolean);return s.filterNot(function(e){var t=f.some(function(t){return e.path.isSuperset(t)});return t})}function d(e,t,r){if(e.isDirectMove&&t.isDirectMove)return e;if(e.type==u.default.TYPES.REMOVE&&t.type==u.default.TYPES.REMOVE)return e;if(e.isDirectMove&&t.type==u.default.TYPES.UPDATE)return e.merge({isSelfModified:true,value:t.value});if(t.isDirectMove&&e.type==u.default.TYPES.UPDATE)return t.merge({isSelfModified:true,value:e.value});var n=e.before||t.before;var i=r(n,e.value,t.value);return e.merge({value:i})}t.default=f;t.mergeLeafsProperty=c},720:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n={free:{price:0,membersIncluded:2,priceByMemberMonthly:0,members:2,privateSpaces:1,publicSpaces:1},v2_startup:{price:35,membersIncluded:5,priceByMemberMonthly:7,members:Infinity,privateSpaces:Infinity,publicSpaces:Infinity},v2_business:{price:300,membersIncluded:20,priceByMemberMonthly:15,members:Infinity,privateSpaces:Infinity,publicSpaces:Infinity}};var i=["free","organization","plus","pro","small","medium","large","v2_startup","v2_business"];var o=["organization","pro","plus","small","medium","large"];t.PLANS=i;t.LEGACY_PLANS=o;t.BILLING_SPEC=n},85:function(e,t,r){"use strict";var n=r(206);e.exports=function(e){if(!n(e))throw new TypeError("Cannot use null or undefined");return e}},97:function(e,t,r){"use strict";e.exports=function(e){if("function"!==typeof e)throw new TypeError(e+" is not a function");return e}}});