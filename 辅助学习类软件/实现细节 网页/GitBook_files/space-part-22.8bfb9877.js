webpackJsonp([29],{2235:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.BlockHeading=void 0;var r=n(2236);var o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}t.BlockHeading=o.default},2244:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.BlockParagraph=void 0;var r=n(2245);var o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}t.BlockParagraph=o.default},2246:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TableCellPlaceholder=t.BlockTableCell=t.BlockTableRow=t.BlockTable=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o,i,a,l,s,u,c,f,d,p,h,v,m;var y=n(0);var b=I(y);var g=n(5);var w=n(12);var E=n(2);var _=n(3);var O=n(1);var T=n(14);var S=n(7);var k=n(31);var C=n(861);var M=n(313);function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function P(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R="#ebeef1";var L="rgba(235, 238, 241, 0.4) !important";var D="#f8f8f8";var B={modified:O.colors.DIFF_BG_MODIFIED,added:O.colors.DIFF_BG_ADDED,removed:O.colors.DIFF_BG_REMOVED,identical:"transparent"};var A=(0,w.injectIntl)(o=(a=i=function(e){P(t,e);function t(){var n,r,o;x(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return o=(n=(r=j(this,e.call.apply(e,[this].concat(a))),r),r.onInsertColumn=function(e){e.preventDefault();e.stopPropagation();var t=r.props.editor;_.Edition.onChange(t,function(e){return _.Edition.Table.plugin.changes.insertColumn(e)})},r.onRemoveColumn=function(e){e.preventDefault();e.stopPropagation();var t=r.props.editor;_.Edition.onChange(t,function(e){return _.Edition.Table.plugin.changes.removeColumn(e)})},r.onInsertRow=function(e){e.preventDefault();e.stopPropagation();var t=r.props.editor;_.Edition.onChange(t,function(e){return _.Edition.Table.plugin.changes.insertRow(e)})},r.onRemoveRow=function(e){e.preventDefault();e.stopPropagation();var t=r.props.editor;_.Edition.onChange(t,function(e){return _.Edition.Table.plugin.changes.removeRow(e)})},r.onRemove=function(e){e.preventDefault();e.stopPropagation();var t=r.props.editor;_.Edition.onChange(t,function(e){return _.Edition.Table.plugin.changes.removeTable(e)})},n),j(r,o)}t.prototype.render=function e(){var n=this.props.intl;var r=t.STYLES;return b.createElement("div",{contentEditable:false,className:(0,E.css)(r.tableControls)},b.createElement(C.HoveringMenu,{above:false},b.createElement(C.HoveringMenu.Button,{onMouseDown:this.onInsertColumn,label:n.formatMessage({id:"TableControls.insertColumn",defaultMessage:"Insert column"})},b.createElement(S.IconTableColumnAfter,null)),b.createElement(C.HoveringMenu.Button,{onMouseDown:this.onInsertRow,label:n.formatMessage({id:"TableControls.insertRow",defaultMessage:"Insert row"})},b.createElement(S.IconTableRowAfter,null)),b.createElement(C.HoveringMenu.Button,{onMouseDown:this.onRemoveColumn},"Remove column"),b.createElement(C.HoveringMenu.Button,{onMouseDown:this.onRemoveRow},"Remove row"),b.createElement(C.HoveringMenu.Button,{onMouseDown:this.onRemove},"Remove")))};return t}(b.Component),i.STYLES=E.StyleSheet.create({tableControls:{position:"absolute",top:"100%",left:"50%",transform:"translateX(-50%)",marginTop:O.boxes.PADDING_SMALL,zIndex:1}}),a))||o;var z=(s=l=function(e){P(t,e);function t(){x(this,t);return j(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=this.props,r=n.children,o=n.attributes,i=n.editor,a=n.readOnly,l=n.value,s=n.node;var u=t.STYLES;var c=l.selection.hasEdgeIn(s);return b.createElement(M.ContextTable.Provider,{value:true},b.createElement("div",{className:(0,E.css)(u.tableWrapper)},b.createElement("div",{className:(0,E.css)(u.tableScroll)},b.createElement("table",{className:(0,E.css)(u.table)},b.createElement("tbody",o,r))),!a&&c&&l.selection.isCollapsed?b.createElement(A,{editor:i}):null))};return t}(b.Component),l.STYLES=E.StyleSheet.create({tableWrapper:{overflow:"visible",position:"relative"},tableScroll:{overflow:"auto",position:"relative"},table:{marginBottom:O.boxes.SPACING_V_NORMAL,width:"100%",borderCollapse:"collapse",borderTop:"1px solid "+R}}),s);var N=(c=u=function(e){P(t,e);function t(){x(this,t);return j(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=this.props,o=n.node,i=n.children,a=n.attributes;var l=t.STYLES;var s=o.data.get("diff");var u=s?{backgroundColor:B[s]}:{};return b.createElement("tr",r({className:(0,E.css)(l.tableRow)},a,{style:u}),i)};return t}(b.Component),u.STYLES=E.StyleSheet.create({tableRow:{border:"none",borderBottom:"1px solid "+R,borderRight:"1px solid "+R,":first-child":{background:L,fontWeight:O.font.WEIGHT_BOLD},":nth-child(odd)":{background:D}}}),c);var F=(d=f=function(e){P(t,e);function t(){x(this,t);return j(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=this.props,o=n.node,i=n.children,a=n.attributes;var l=t.STYLES;var s=o.data.get("diff");var u=s?{backgroundColor:B[s]}:{};return b.createElement("td",r({className:(0,E.css)(l.tableCell),style:u},a),i)};return t}(b.Component),f.STYLES=E.StyleSheet.create({tableCell:{border:"1px solid "+R,borderTop:"none",borderBottom:"none",borderRight:"none",padding:1.5*O.boxes.PADDING_SMALL}}),d);var H=(p=(0,g.connect)(),p(h=(m=v=function(e){P(t,e);function t(){var n,r,o;x(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return o=(n=(r=j(this,e.call.apply(e,[this].concat(a))),r),r.onInsertImage=function(){r.fileUploader&&T.FileUploader.promptFile(r.fileUploader)},r.onFiles=function(e){var t=r.props,n=t.dispatch,o=t.editor,i=t.paragraph;_.Asset.createFromFile(e[0]).then(function(e){n((0,k.createAsset)(e));_.Edition.onChange(o,function(t){return t.replaceNodeByKey(i.key,_.Edition.Image.createImage({assetID:e.uid}))})})},n),j(r,o)}t.prototype.render=function e(){var n=this;var r=t.STYLES;return b.createElement(O.Text,{styles:r.tableCellPlaceholder,contentEditable:false},"Write or"," ",b.createElement(O.Text,{role:"button",onClick:this.onInsertImage,styles:r.insertImage},"add image"),b.createElement(T.FileUploader,{ref:function e(t){n.fileUploader=t},onFiles:this.onFiles}))};return t}(b.Component),v.STYLES=E.StyleSheet.create({tableCellPlaceholder:{position:"relative",top:0,left:"0.5em",bottom:0,right:0,userSelect:"none",pointerEvents:"none",color:O.colors.GREY_BASE,animationName:O.animations.fadeIn,animationDuration:"1s",animationFillMode:"both"},insertImage:{pointerEvents:"auto",cursor:"pointer",borderBottom:"1px solid"}}),m))||h);t.BlockTable=z;t.BlockTableRow=N;t.BlockTableCell=F;t.TableCellPlaceholder=H},2256:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.InlineImage=t.BlockImage=void 0;var r=n(2257);var o=l(r);var i=n(2309);var a=l(i);function l(e){return e&&e.__esModule?e:{default:e}}t.BlockImage=o.default;t.InlineImage=a.default},2258:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o,i;var a=n(0);var l=T(a);var s=n(17);var u=O(s);n(4);n(40);var c=n(2);var f=n(1);var d=n(3);var p=n(885);var h=O(p);var v=n(2920);var m=O(v);var y=n(2921);var b=O(y);var g=n(2922);var w=O(g);var E=n(2927);var _=O(E);function O(e){return e&&e.__esModule?e:{default:e}}function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function C(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var M=(i=o=function(e){C(t,e);function t(){var n,r,o;S(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return o=(n=(r=k(this,e.call.apply(e,[this].concat(a))),r),r.onChange=function(e){var t=r.props,n=t.editor,o=t.node;var i=o.data.merge(e);d.Edition.onChange(n,function(e){return e.setNodeByKey(o.key,{data:i})})},n),k(r,o)}t.prototype.render=function e(){var n=this.props,o=n.editor,i=n.readOnly,a=n.node,s=n.isSelected,u=n.value,f=n.attributes;var d=this.context.inTable;var p=t.STYLES;var v=a.data.toJS();var m=t.COMPONENTS[v.type];var y="image"===v.type?{justifyContent:w.default.JUSTIFY[v.align]}:{};var b=!i&&u.selection.hasEdgeIn(a);return l.createElement("figure",r({className:(0,c.css)(p.blockEmbed,d&&p.noMargin)},f),l.createElement("div",{contentEditable:false},l.createElement(m,{inTable:d,readOnly:i,selected:s,data:v}),!d&&(v.caption||b)&&l.createElement(h.default,r({node:a,editor:o,readOnly:i,placeholder:"Enter a caption (optional)"},y))))};return t}(l.Component),o.BlockControls=_.default,o.contextTypes={inTable:u.default.bool},o.COMPONENTS={rich:b.default,video:b.default,image:w.default,link:m.default},o.STYLES=c.StyleSheet.create({blockEmbed:{margin:f.spacing.S400+"px auto"},noMargin:{margin:0}}),i);t.default=M},2259:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(865);var o=w(r);var i=n(871);var a=w(i);var l=n(872);var s=w(l);var u=n(873);var c=w(u);var f=n(882);var d=w(f);var p=n(0);var h=w(p);var v=n(17);var m=w(v);var y=n(56);var b=w(y);var g=n(2300);function w(e){return e&&e.__esModule?e:{default:e}}var E=function(e){(0,d.default)(t,e);function t(){var e;var n,r,i;(0,a.default)(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return i=(n=(r=(0,c.default)(this,(e=t.__proto__||(0,o.default)(t)).call.apply(e,[this].concat(s))),r),r.updateIframe=function(e){if(e.src)return;var t=e.content||e.children;if(!t)return;var n=r.refs.frame;if(!n)return;var o=n.contentDocument;if(!o)return;if("string"===typeof t){o.open();o.write(t);o.close()}else{o.open();o.write('<div id="iframe-root"></div>');o.close();b.default.render(t,o.getElementById("iframe-root"))}},r.injectIframeResizerUrl=function(){if(!r.props.iframeResizerUrl)return;var e=r.refs.frame;if(!e)return;var t=e.contentDocument;if(!t)return;var n=null;["head","HEAD","body","BODY","div","DIV"].forEach(function(e){if(n)return;var r=t.getElementsByTagName(e);if(!(r&&r.length))return;n=r[0]});if(!n){console.error("Unable to inject iframe resizer script");return}var o=document.createElement("script");o.type="text/javascript";o.src=r.props.iframeResizerUrl;n.appendChild(o)},r.onLoad=function(){r.injectIframeResizerUrl()},r.resizeIframe=function(e){var t=r.refs.frame;if(!t)return;e.iframeResizerEnable&&(0,g.iframeResizer)(e.iframeResizerOptions,t)},n),(0,c.default)(r,i)}(0,s.default)(t,[{key:"componentDidMount",value:function e(){this.updateIframe(this.props);this.resizeIframe(this.props)}},{key:"componentWillReceiveProps",value:function e(t){this.updateIframe(t);this.resizeIframe(t)}},{key:"render",value:function e(){var t=this.props,n=t.src,r=t.id,o=t.frameBorder,i=t.className,a=t.style;return h.default.createElement("iframe",{ref:"frame",src:n,id:r,frameBorder:o,className:i,style:a,onLoad:this.onLoad})}}]);return t}(h.default.Component);E.propTypes={content:m.default.oneOfType([m.default.string,m.default.element]),src:m.default.string,iframeResizerEnable:m.default.bool,iframeResizerOptions:m.default.object,iframeResizerUrl:m.default.oneOfType([m.default.string,m.default.bool]),id:m.default.string,frameBorder:m.default.number,className:m.default.string,style:m.default.object};E.defaultProps={iframeResizerEnable:true,iframeResizerOptions:{},iframeResizerUrl:"https://cdnjs.cloudflare.com/ajax/libs/iframe-resizer/3.5.8/iframeResizer.contentWindow.min.js",frameBorder:0,style:{width:"100%",minHeight:20}};t.default=E},2300:function(e,t,n){"use strict";e.exports=n(2301)},2301:function(e,t,n){t.iframeResizer=n(2302);t.iframeResizerContentWindow=n(2303)},2302:function(e,t,n){var r,o,i;(function(n){"use strict";if("undefined"===typeof window)return;var a=0,l=false,s=false,u="message",c=u.length,f="[iFrameSizer]",d=f.length,p=null,h=window.requestAnimationFrame,v={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},m={},y=null,b="Host Page",g={autoResize:true,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:true,inPageLinks:false,enablePublicMethods:true,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:false,maxHeight:Infinity,maxWidth:Infinity,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:false,sizeHeight:true,sizeWidth:false,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){M("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return true}};function w(e,t,n){"addEventListener"in window?e.addEventListener(t,n,false):"attachEvent"in window&&e.attachEvent("on"+t,n)}function E(e,t,n){"removeEventListener"in window?e.removeEventListener(t,n,false):"detachEvent"in window&&e.detachEvent("on"+t,n)}function _(){var e=["moz","webkit","o","ms"],t;for(t=0;t<e.length&&!h;t+=1)h=window[e[t]+"RequestAnimationFrame"];h||k("setup","RequestAnimationFrame not supported")}function O(e){var t="Host page: "+e;window.top!==window.self&&(t=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+e:"Nested host page: "+e);return t}function T(e){return f+"["+O(e)+"]"}function S(e){return m[e]?m[e].log:l}function k(e,t){I("log",e,t,S(e))}function C(e,t){I("info",e,t,S(e))}function M(e,t){I("warn",e,t,true)}function I(e,t,n,r){true===r&&"object"===typeof window.console&&console[e](T(t),n)}function x(e){function t(){function e(){A(K);L(G);I("resizedCallback",K)}r("Height");r("Width");z(e,K,"init")}function n(){var e=V.substr(d).split(":");return{iframe:m[e[0]].iframe,id:e[0],height:e[1],width:e[2],type:e[3]}}function r(e){var t=Number(m[G]["max"+e]),n=Number(m[G]["min"+e]),r=e.toLowerCase(),o=Number(K[r]);k(G,"Checking "+r+" is in range "+n+"-"+t);if(o<n){o=n;k(G,"Set "+r+" to min value")}if(o>t){o=t;k(G,"Set "+r+" to max value")}K[r]=""+o}function o(){function t(){function e(){var e=0,t=false;k(G,"Checking connection is from allowed list of origins: "+r);for(;e<r.length;e++)if(r[e]===n){t=true;break}return t}function t(){var e=m[G].remoteHost;k(G,"Checking connection is from: "+e);return n===e}return r.constructor===Array?e():t()}var n=e.origin,r=m[G].checkOrigin;if(r&&""+n!=="null"&&!t())throw new Error("Unexpected message received from: "+n+" for "+K.iframe.id+". Message was: "+e.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return true}function i(){return f===(""+V).substr(0,d)&&V.substr(d).split(":")[0]in m}function a(){var e=K.type in{true:1,false:1,undefined:1};e&&k(G,"Ignoring init message from meta parent page");return e}function l(e){return V.substr(V.indexOf(":")+c+e)}function s(e){k(G,"MessageCallback passed: {iframe: "+K.iframe.id+", message: "+e+"}");I("messageCallback",{iframe:K.iframe,message:JSON.parse(e)});k(G,"--")}function u(){var e=document.body.getBoundingClientRect(),t=K.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:t.height,iframeWidth:t.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(t.top-e.top,10),offsetLeft:parseInt(t.left-e.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset})}function h(e,t){function n(){N("Send Page Info","pageInfo:"+u(),e,t)}U(n,32)}function v(){function e(e,n){function o(){m[r]?h(m[r].iframe,r):t()}["scroll","resize"].forEach(function(t){k(r,e+t+" listener for sendPageInfo");n(window,t,o)})}function t(){e("Remove ",E)}function n(){e("Add ",w)}var r=G;n();m[r].stopPageInfo=t}function y(){if(m[G]&&m[G].stopPageInfo){m[G].stopPageInfo();delete m[G].stopPageInfo}}function g(){var e=true;if(null===K.iframe){M(G,"IFrame ("+K.id+") not found");e=false}return e}function _(e){var t=e.getBoundingClientRect();R(G);return{x:Math.floor(Number(t.left)+Number(p.x)),y:Math.floor(Number(t.top)+Number(p.y))}}function O(e){function t(){p=i;T();k(G,"--")}function n(){return{x:Number(K.width)+o.x,y:Number(K.height)+o.y}}function r(){window.parentIFrame?window.parentIFrame["scrollTo"+(e?"Offset":"")](i.x,i.y):M(G,"Unable to scroll to requested position, window.parentIFrame not found")}var o=e?_(K.iframe):{x:0,y:0},i=n();k(G,"Reposition requested from iFrame (offset x:"+o.x+" y:"+o.y+")");window.top!==window.self?r():t()}function T(){false!==I("scrollCallback",p)?L(G):D()}function S(e){function t(){var e=_(i);k(G,"Moving to in page link (#"+r+") at x: "+e.x+" y: "+e.y);p={x:e.x,y:e.y};T();k(G,"--")}function n(){window.parentIFrame?window.parentIFrame.moveToAnchor(r):k(G,"In page link #"+r+" not found and window.parentIFrame not found")}var r=e.split("#")[1]||"",o=decodeURIComponent(r),i=document.getElementById(o)||document.getElementsByName(o)[0];i?t():window.top!==window.self?n():k(G,"In page link #"+r+" not found")}function I(e,t){return j(G,e,t)}function x(){m[G].firstRun&&Y();switch(K.type){case"close":P(K.iframe);break;case"message":s(l(6));break;case"scrollTo":O(false);break;case"scrollToOffset":O(true);break;case"pageInfo":h(m[G].iframe,G);v();break;case"pageInfoStop":y();break;case"inPageLink":S(l(9));break;case"reset":B(K);break;case"init":t();I("initCallback",K.iframe);break;default:t()}}function H(e){var t=true;if(!m[e]){t=false;M(K.type+" No settings for "+e+". Message was: "+V)}return t}function W(){for(var e in m)N("iFrame requested init",F(e),document.getElementById(e),e)}function Y(){m[G].firstRun=false}function Z(){clearTimeout(m[G].msgTimeout);m[G].warningTimeout=0}var V=e.data,K={},G=null;if("[iFrameResizerChild]Ready"===V)W();else if(i()){K=n();G=b=K.id;m[G].loaded=true;if(!a()&&H(G)){k(G,"Received: "+V);g()&&o()&&x()}}else C(G,"Ignored: "+V)}function j(e,t,n){var r=null,o=null;if(m[e]){r=m[e][t];if("function"!==typeof r)throw new TypeError(t+" on iFrame["+e+"] is not a function");o=r(n)}return o}function P(e){var t=e.id;k(t,"Removing iFrame: "+t);e.parentNode&&e.parentNode.removeChild(e);j(t,"closedCallback",t);k(t,"--");delete m[t]}function R(e){if(null===p){p={x:window.pageXOffset!==n?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==n?window.pageYOffset:document.documentElement.scrollTop};k(e,"Get page position: "+p.x+","+p.y)}}function L(e){if(null!==p){window.scrollTo(p.x,p.y);k(e,"Set page position: "+p.x+","+p.y);D()}}function D(){p=null}function B(e){function t(){A(e);N("reset","reset",e.iframe,e.id)}k(e.id,"Size reset requested by "+("init"===e.type?"host page":"iFrame"));R(e.id);z(t,e,"reset")}function A(e){function t(t){e.iframe.style[t]=e[t]+"px";k(e.id,"IFrame ("+o+") "+t+" set to "+e[t]+"px")}function n(t){if(!s&&"0"===e[t]){s=true;k(o,"Hidden iFrame detected, creating visibility listener");W()}}function r(e){t(e);n(e)}var o=e.iframe.id;if(m[o]){m[o].sizeHeight&&r("height");m[o].sizeWidth&&r("width")}}function z(e,t,n){if(n!==t.type&&h){k(t.id,"Requesting animation frame");h(e)}else e()}function N(e,t,n,r,o){function i(){var o=m[r].targetOrigin;k(r,"["+e+"] Sending msg to iframe["+r+"] ("+t+") targetOrigin: "+o);n.contentWindow.postMessage(f+t,o)}function a(){M(r,"["+e+"] IFrame("+r+") not found")}function l(){n&&"contentWindow"in n&&null!==n.contentWindow?i():a()}function s(){function e(){if(m[r]&&!m[r].loaded&&!u){u=true;M(r,"IFrame has not responded within "+m[r].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ingored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning.")}}!o||!m[r].warningTimeout||(m[r].msgTimeout=setTimeout(e,m[r].warningTimeout))}var u=false;r=r||n.id;if(m[r]){l();s()}}function F(e){return e+":"+m[e].bodyMarginV1+":"+m[e].sizeWidth+":"+m[e].log+":"+m[e].interval+":"+m[e].enablePublicMethods+":"+m[e].autoResize+":"+m[e].bodyMargin+":"+m[e].heightCalculationMethod+":"+m[e].bodyBackground+":"+m[e].bodyPadding+":"+m[e].tolerance+":"+m[e].inPageLinks+":"+m[e].resizeFrom+":"+m[e].widthCalculationMethod}function H(e,t){function r(){function t(t){if(Infinity!==m[O][t]&&0!==m[O][t]){e.style[t]=m[O][t]+"px";k(O,"Set "+t+" = "+m[O][t]+"px")}}function n(e){if(m[O]["min"+e]>m[O]["max"+e])throw new Error("Value for min"+e+" can not be greater than max"+e)}n("Height");n("Width");t("maxHeight");t("minHeight");t("maxWidth");t("minWidth")}function o(){var e=t&&t.id||g.id+a++;null!==document.getElementById(e)&&(e+=a++);return e}function i(n){b=n;if(""===n){e.id=n=o();l=(t||{}).log;b=n;k(n,"Added missing iframe ID: "+n+" ("+e.src+")")}return n}function s(){k(O,"IFrame scrolling "+(m[O].scrolling?"enabled":"disabled")+" for "+O);e.style.overflow=false===m[O].scrolling?"hidden":"auto";switch(m[O].scrolling){case true:e.scrolling="yes";break;case false:e.scrolling="no";break;default:e.scrolling=m[O].scrolling}}function u(){if("number"===typeof m[O].bodyMargin||"0"===m[O].bodyMargin){m[O].bodyMarginV1=m[O].bodyMargin;m[O].bodyMargin=m[O].bodyMargin+"px"}}function c(){var t=m[O].firstRun,n=m[O].heightCalculationMethod in v;!t&&n&&B({iframe:e,height:0,width:0,type:"init"})}function f(){Function.prototype.bind&&(m[O].iframe.iFrameResizer={close:P.bind(null,m[O].iframe),resize:N.bind(null,"Window resize","resize",m[O].iframe),moveToAnchor:function(e){N("Move to anchor","moveToAnchor:"+e,m[O].iframe,O)},sendMessage:function(e){e=JSON.stringify(e);N("Send Message","message:"+e,m[O].iframe,O)}})}function d(t){function r(){N("iFrame.onload",t,e,n,true);c()}w(e,"load",r);N("init",t,e,n,true)}function p(e){if("object"!==typeof e)throw new TypeError("Options is not an object")}function h(e){for(var t in g)g.hasOwnProperty(t)&&(m[O][t]=e.hasOwnProperty(t)?e[t]:g[t])}function y(e){return""===e||"file://"===e?"*":e}function E(t){t=t||{};m[O]={firstRun:true,iframe:e,remoteHost:e.src.split("/").slice(0,3).join("/")};p(t);h(t);m[O].targetOrigin=true===m[O].checkOrigin?y(m[O].remoteHost):"*"}function _(){return O in m&&"iFrameResizer"in e}var O=i(e.id);if(_())M(O,"Ignored iFrame, already setup.");else{E(t);s();r();u();d(F(O));f()}}function U(e,t){null===y&&(y=setTimeout(function(){y=null;e()},t))}function W(){function e(){function e(e){function t(t){return"0px"===m[e].iframe.style[t]}function n(e){return null!==e.offsetParent}n(m[e].iframe)&&(t("height")||t("width"))&&N("Visibility change","resize",m[e].iframe,e)}for(var t in m)e(t)}function t(t){k("window","Mutation observed: "+t[0].target+" "+t[0].type);U(e,16)}function n(){var e=document.querySelector("body"),n={attributes:true,attributeOldValue:false,characterData:true,characterDataOldValue:false,childList:true,subtree:true},o=new r(t);o.observe(e,n)}var r=window.MutationObserver||window.WebKitMutationObserver;r&&n()}function Y(e){function t(){V("Window "+e,"resize")}k("window","Trigger event: "+e);U(t,16)}function Z(){function e(){V("Tab Visable","resize")}if("hidden"!==document.visibilityState){k("document","Trigger event: Visiblity change");U(e,16)}}function V(e,t){function n(e){return"parent"===m[e].resizeFrom&&m[e].autoResize&&!m[e].firstRun}for(var r in m)n(r)&&N(e,t,document.getElementById(r),r)}function K(){w(window,"message",x);w(window,"resize",function(){Y("resize")});w(document,"visibilitychange",Z);w(document,"-webkit-visibilitychange",Z);w(window,"focusin",function(){Y("focus")});w(window,"focus",function(){Y("focus")})}function G(){function e(e,t){function n(){if(!t.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==t.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+t.tagName+">")}if(t){n();H(t,e);r.push(t)}}function t(e){e&&e.enablePublicMethods&&M("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}var r;_();K();return function o(i,a){r=[];t(i);switch(typeof a){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(a||"iframe"),e.bind(n,i));break;case"object":e(i,a);break;default:throw new TypeError("Unexpected data type ("+typeof a+")")}return r}}function q(e){e.fn?e.fn.iFrameResize||(e.fn.iFrameResize=function e(t){function n(e,n){H(n,t)}return this.filter("iframe").each(n).end()}):C("","Unable to bind to jQuery, it is not fully loaded.")}window.jQuery&&q(window.jQuery);true;!(o=[],r=G,i="function"===typeof r?r.apply(t,o):r,i!==n&&(e.exports=i))})()},2303:function(e,t){(function(t){"use strict";if("undefined"===typeof window)return;var n=true,r=10,o="",i=0,a="",l=null,s="",u=false,c={resize:1,click:1},f=128,d=true,p=1,h="bodyOffset",v=h,m=true,y="",b={},g=32,w=null,E=false,_="[iFrameSizer]",O=_.length,T="",S=null,k={max:1,min:1,bodyScroll:1,documentElementScroll:1},C="child",M=true,I=window.parent,x="*",j=0,P=false,R=null,L=16,D=1,B="scroll",A=B,z=window,N=function(){X("MessageCallback function not defined")},F=function(){},H=function(){},U={height:function(){X("Custom height calculation function not defined");return document.documentElement.offsetHeight},width:function(){X("Custom width calculation function not defined");return document.body.scrollWidth}},W={};function Y(e,t,n){"addEventListener"in window?e.addEventListener(t,n,false):"attachEvent"in window&&e.attachEvent("on"+t,n)}function Z(e,t,n){"removeEventListener"in window?e.removeEventListener(t,n,false):"detachEvent"in window&&e.detachEvent("on"+t,n)}function V(e){return e.charAt(0).toUpperCase()+e.slice(1)}function K(e){var t,n,r,o=null,i=0,a=function(){i=G();o=null;r=e.apply(t,n);o||(t=n=null)};return function(){var l=G();i||(i=l);var s=L-(l-i);t=this;n=arguments;if(s<=0||s>L){if(o){clearTimeout(o);o=null}i=l;r=e.apply(t,n);o||(t=n=null)}else o||(o=setTimeout(a,s));return r}}var G=Date.now||function(){return(new Date).getTime()};function q(e){return _+"["+T+"] "+e}function J(e){E&&"object"===typeof window.console&&console.log(q(e))}function X(e){"object"===typeof window.console&&console.warn(q(e))}function Q(){$();J("Initialising iFrame ("+location.href+")");ee();re();ne("background",o);ne("padding",s);me();se();ue();oe();be();ce();b=ye();Pe("init","Init message from host page");F()}function $(){function e(e){return"true"===e}var r=y.substr(O).split(":");T=r[0];i=t!==r[1]?Number(r[1]):i;u=t!==r[2]?e(r[2]):u;E=t!==r[3]?e(r[3]):E;g=t!==r[4]?Number(r[4]):g;n=t!==r[6]?e(r[6]):n;a=r[7];v=t!==r[8]?r[8]:v;o=r[9];s=r[10];j=t!==r[11]?Number(r[11]):j;b.enable=t!==r[12]&&e(r[12]);C=t!==r[13]?r[13]:C;A=t!==r[14]?r[14]:A}function ee(){function e(){var e=window.iFrameResizer;J("Reading data from page: "+JSON.stringify(e));N="messageCallback"in e?e.messageCallback:N;F="readyCallback"in e?e.readyCallback:F;x="targetOrigin"in e?e.targetOrigin:x;v="heightCalculationMethod"in e?e.heightCalculationMethod:v;A="widthCalculationMethod"in e?e.widthCalculationMethod:A}function t(e,t){if("function"===typeof e){J("Setup custom "+t+"CalcMethod");U[t]=e;e="custom"}return e}if("iFrameResizer"in window&&Object===window.iFrameResizer.constructor){e();v=t(v,"height");A=t(A,"width")}J("TargetOrigin for parent set to: "+x)}function te(e,t){if(-1!==t.indexOf("-")){X("Negative CSS value ignored for "+e);t=""}return t}function ne(e,n){if(t!==n&&""!==n&&"null"!==n){document.body.style[e]=n;J("Body "+e+' set to "'+n+'"')}}function re(){t===a&&(a=i+"px");ne("margin",te("margin",a))}function oe(){document.documentElement.style.height="";document.body.style.height="";J('HTML & body height set to "auto"')}function ie(e){var t={add:function(t){function n(){Pe(e.eventName,e.eventType)}W[t]=n;Y(window,t,n)},remove:function(e){var t=W[e];delete W[e];Z(window,e,t)}};if(e.eventNames&&Array.prototype.map){e.eventName=e.eventNames[0];e.eventNames.map(t[e.method])}else t[e.method](e.eventName);J(V(e.method)+" event listener: "+e.eventType)}function ae(e){ie({method:e,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]});ie({method:e,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]});ie({method:e,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]});ie({method:e,eventType:"Input",eventName:"input"});ie({method:e,eventType:"Mouse Up",eventName:"mouseup"});ie({method:e,eventType:"Mouse Down",eventName:"mousedown"});ie({method:e,eventType:"Orientation Change",eventName:"orientationchange"});ie({method:e,eventType:"Print",eventName:["afterprint","beforeprint"]});ie({method:e,eventType:"Ready State Change",eventName:"readystatechange"});ie({method:e,eventType:"Touch Start",eventName:"touchstart"});ie({method:e,eventType:"Touch End",eventName:"touchend"});ie({method:e,eventType:"Touch Cancel",eventName:"touchcancel"});ie({method:e,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]});ie({method:e,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]});ie({method:e,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]});"child"===C&&ie({method:e,eventType:"IFrame Resized",eventName:"resize"})}function le(e,t,n,r){if(t!==e){if(!(e in n)){X(e+" is not a valid option for "+r+"CalculationMethod.");e=t}J(r+' calculation method set to "'+e+'"')}return e}function se(){v=le(v,h,Me,"height")}function ue(){A=le(A,B,Ie,"width")}function ce(){if(true===n){ae("add");Ee()}else J("Auto Resize disabled")}function fe(){J("Disable outgoing messages");M=false}function de(){J("Remove event listener: Message");Z(window,"message",Ae)}function pe(){null!==l&&l.disconnect()}function he(){ae("remove");pe();clearInterval(w)}function ve(){fe();de();true===n&&he()}function me(){var e=document.createElement("div");e.style.clear="both";e.style.display="block";document.body.appendChild(e)}function ye(){function e(){return{x:window.pageXOffset!==t?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==t?window.pageYOffset:document.documentElement.scrollTop}}function n(t){var n=t.getBoundingClientRect(),r=e();return{x:parseInt(n.left,10)+parseInt(r.x,10),y:parseInt(n.top,10)+parseInt(r.y,10)}}function r(e){function r(e){var t=n(e);J("Moving to in page link (#"+o+") at x: "+t.x+" y: "+t.y);Be(t.y,t.x,"scrollToOffset")}var o=e.split("#")[1]||e,i=decodeURIComponent(o),a=document.getElementById(i)||document.getElementsByName(i)[0];if(t!==a)r(a);else{J("In page link (#"+o+") not found in iFrame, so sending to parent");Be(0,0,"inPageLink","#"+o)}}function o(){""!==location.hash&&"#"!==location.hash&&r(location.href)}function i(){function e(e){function t(e){e.preventDefault();r(this.getAttribute("href"))}"#"!==e.getAttribute("href")&&Y(e,"click",t)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),e)}function a(){Y(window,"hashchange",o)}function l(){setTimeout(o,f)}function s(){if(Array.prototype.forEach&&document.querySelectorAll){J("Setting up location.hash handlers");i();a();l()}else X("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}b.enable?s():J("In page linking not enabled");return{findTarget:r}}function be(){J("Enable public methods");z.parentIFrame={autoResize:function e(t){if(true===t&&false===n){n=true;ce()}else if(false===t&&true===n){n=false;he()}return n},close:function e(){Be(0,0,"close");ve()},getId:function e(){return T},getPageInfo:function e(t){if("function"===typeof t){H=t;Be(0,0,"pageInfo")}else{H=function(){};Be(0,0,"pageInfoStop")}},moveToAnchor:function e(t){b.findTarget(t)},reset:function e(){De("parentIFrame.reset")},scrollTo:function e(t,n){Be(n,t,"scrollTo")},scrollToOffset:function e(t,n){Be(n,t,"scrollToOffset")},sendMessage:function e(t,n){Be(0,0,"message",JSON.stringify(t),n)},setHeightCalculationMethod:function e(t){v=t;se()},setWidthCalculationMethod:function e(t){A=t;ue()},setTargetOrigin:function e(t){J("Set targetOrigin: "+t);x=t},size:function e(t,n){var r=(t||"")+(n?","+n:"");Pe("size","parentIFrame.size("+r+")",t,n)}}}function ge(){if(0!==g){J("setInterval: "+g+"ms");w=setInterval(function(){Pe("interval","setInterval: "+g)},Math.abs(g))}}function we(){function e(e){function t(e){if(false===e.complete){J("Attach listeners to "+e.src);e.addEventListener("load",i,false);e.addEventListener("error",a,false);u.push(e)}}"attributes"===e.type&&"src"===e.attributeName?t(e.target):"childList"===e.type&&Array.prototype.forEach.call(e.target.querySelectorAll("img"),t)}function n(e){u.splice(u.indexOf(e),1)}function r(e){J("Remove listeners from "+e.src);e.removeEventListener("load",i,false);e.removeEventListener("error",a,false);n(e)}function o(e,n,o){r(e.target);Pe(n,o+": "+e.target.src,t,t)}function i(e){o(e,"imageLoad","Image loaded")}function a(e){o(e,"imageLoadFailed","Image load failed")}function l(t){Pe("mutationObserver","mutationObserver: "+t[0].target+" "+t[0].type);t.forEach(e)}function s(){var e=document.querySelector("body"),t={attributes:true,attributeOldValue:false,characterData:true,characterDataOldValue:false,childList:true,subtree:true};f=new c(l);J("Create body MutationObserver");f.observe(e,t);return f}var u=[],c=window.MutationObserver||window.WebKitMutationObserver,f=s();return{disconnect:function(){if("disconnect"in f){J("Disconnect body MutationObserver");f.disconnect();u.forEach(r)}}}}function Ee(){var e=0>g;if(window.MutationObserver||window.WebKitMutationObserver)e?ge():l=we();else{J("MutationObserver not supported in this browser!");ge()}}function _e(e,t){function n(e){var n=/^\d+(px)?$/i;if(n.test(e))return parseInt(e,r);var o=t.style.left,i=t.runtimeStyle.left;t.runtimeStyle.left=t.currentStyle.left;t.style.left=e||0;e=t.style.pixelLeft;t.style.left=o;t.runtimeStyle.left=i;return e}var o=0;t=t||document.body;if("defaultView"in document&&"getComputedStyle"in document.defaultView){o=document.defaultView.getComputedStyle(t,null);o=null!==o?o[e]:0}else o=n(t.currentStyle[e]);return parseInt(o,r)}function Oe(e){if(e>L/2){L=2*e;J("Event throttle increased to "+L+"ms")}}function Te(e,t){var n=t.length,r=0,o=0,i=V(e),a=G();for(var l=0;l<n;l++){r=t[l].getBoundingClientRect()[e]+_e("margin"+i,t[l]);r>o&&(o=r)}a=G()-a;J("Parsed "+n+" HTML elements");J("Element position calculated in "+a+"ms");Oe(a);return o}function Se(e){return[e.bodyOffset(),e.bodyScroll(),e.documentElementOffset(),e.documentElementScroll()]}function ke(e,t){function n(){X("No tagged elements ("+t+") found on page");return document.querySelectorAll("body *")}var r=document.querySelectorAll("["+t+"]");0===r.length&&n();return Te(e,r)}function Ce(){return document.querySelectorAll("body *")}var Me={bodyOffset:function e(){return document.body.offsetHeight+_e("marginTop")+_e("marginBottom")},offset:function(){return Me.bodyOffset()},bodyScroll:function e(){return document.body.scrollHeight},custom:function e(){return U.height()},documentElementOffset:function e(){return document.documentElement.offsetHeight},documentElementScroll:function e(){return document.documentElement.scrollHeight},max:function e(){return Math.max.apply(null,Se(Me))},min:function e(){return Math.min.apply(null,Se(Me))},grow:function e(){return Me.max()},lowestElement:function e(){return Math.max(Me.bodyOffset(),Te("bottom",Ce()))},taggedElement:function e(){return ke("bottom","data-iframe-height")}},Ie={bodyScroll:function e(){return document.body.scrollWidth},bodyOffset:function e(){return document.body.offsetWidth},custom:function e(){return U.width()},documentElementScroll:function e(){return document.documentElement.scrollWidth},documentElementOffset:function e(){return document.documentElement.offsetWidth},scroll:function e(){return Math.max(Ie.bodyScroll(),Ie.documentElementScroll())},max:function e(){return Math.max.apply(null,Se(Ie))},min:function e(){return Math.min.apply(null,Se(Ie))},rightMostElement:function e(){return Te("right",Ce())},taggedElement:function e(){return ke("right","data-iframe-width")}};function xe(e,n,r,o){function i(){p=d;D=h;Be(p,D,e)}function a(){function e(e,t){var n=Math.abs(e-t)<=j;return!n}d=t!==r?r:Me[v]();h=t!==o?o:Ie[A]();return e(p,d)||u&&e(D,h)}function l(){return!(e in{init:1,interval:1,size:1})}function s(){return v in k||u&&A in k}function c(){J("No change in size detected")}function f(){l()&&s()?De(n):e in{interval:1}||c()}var d,h;if(a()||"init"===e){Re();i()}else f()}var je=K(xe);function Pe(e,t,n,r){function o(){e in{reset:1,resetPage:1,init:1}||J("Trigger event: "+t)}function i(){return P&&e in c}if(i())J("Trigger event cancelled: "+e);else{o();je(e,t,n,r)}}function Re(){if(!P){P=true;J("Trigger event lock on")}clearTimeout(R);R=setTimeout(function(){P=false;J("Trigger event lock off");J("--")},f)}function Le(e){p=Me[v]();D=Ie[A]();Be(p,D,e)}function De(e){var t=v;v=h;J("Reset trigger event: "+e);Re();Le("reset");v=t}function Be(e,n,r,o,i){function a(){t===i?i=x:J("Message targetOrigin: "+i)}function l(){var a=e+":"+n,l=T+":"+a+":"+r+(t!==o?":"+o:"");J("Sending message to host page ("+l+")");I.postMessage(_+l,i)}if(true===M){a();l()}}function Ae(t){var n={init:function e(){function r(){y=t.data;I=t.source;Q();d=false;setTimeout(function(){m=false},f)}if(document.body)r();else{J("Waiting for page ready");Y(window,"readystatechange",n.initFromParent)}},reset:function e(){if(m)J("Page reset ignored by init");else{J("Page size reset by host page");Le("resetPage")}},resize:function e(){Pe("resizeParent","Parent window requested size check")},moveToAnchor:function e(){b.findTarget(i())},inPageLink:function e(){this.moveToAnchor()},pageInfo:function e(){var t=i();J("PageInfoFromParent called from parent: "+t);H(JSON.parse(t));J(" --")},message:function e(){var t=i();J("MessageCallback called from parent: "+t);N(JSON.parse(t));J(" --")}};function r(){return _===(""+t.data).substr(0,O)}function o(){return t.data.split("]")[1].split(":")[0]}function i(){return t.data.substr(t.data.indexOf(":")+1)}function a(){return!("undefined"!==typeof e&&e.exports)&&"iFrameResize"in window}function l(){return t.data.split(":")[2]in{true:1,false:1}}function s(){var e=o();e in n?n[e]():a()||l()||X("Unexpected message ("+t.data+")")}function u(){false===d?s():l()?n.init():J('Ignored message of type "'+o()+'". Received before initialization.')}r()&&u()}function ze(){"loading"!==document.readyState&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}Y(window,"message",Ae);ze()})()},2304:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(2305);var o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}t.default=o.default},2305:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}return function(t,n,r){n&&e(t.prototype,n);r&&e(t,r);return t}}();var i=n(0);var a=m(i);var l=n(17);var s=n(321);var u=m(s);var c=n(489);var f=n(884);var d=n(2306);var p=m(d);var h=n(2307);var v=m(h);function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=function e(t){return null!==t&&void 0!==t};var E=0;var _=-1;var O=function(e){g(t,e);function t(e){y(this,t);var n=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={isMaxDimension:false,isZoomed:false,src:e.image.src};n._handleZoom=n._handleZoom.bind(n);n._handleUnzoom=n._handleUnzoom.bind(n);n._handleLoad=n._handleLoad.bind(n);n._handleKeyDown=n._handleKeyDown.bind(n);return n}o(t,[{key:"componentWillReceiveProps",value:function e(t){if(!w(this.props.isZoomed)&&w(t.isZoomed))throw new Error(u.default.errors.uncontrolled);if(w(this.props.isZoomed)&&!w(t.isZoomed))throw new Error(u.default.errors.controlled);this.props.isZoomed&&!t.isZoomed&&(this.isClosing=true);var n=this.props.image.src;var r=t.image.src;n!==r&&this.setState({src:r})}},{key:"componentDidUpdate",value:function e(t,n){var r=w(t.isZoomed)?t.isZoomed:n.isZoomed;var o=w(this.props.isZoomed)?this.props.isZoomed:this.state.isZoomed;r!==o&&!o&&this.portalInstance&&this.portalInstance.unzoom({force:true})}},{key:"render",value:function e(){var t=this;var n=this.props.image;var o=this.state,i=o.isMaxDimension,l=o.src;var s=r({},!i&&{tabIndex:E},n,{src:l,style:this._getImageStyle()},!i&&{onMouseDown:this._preventFocus,onClick:this._handleZoom,onKeyDown:this._handleKeyDown});var u=w(this.props.isZoomed)?this.props.isZoomed:this.state.isZoomed;return[a.default.createElement("img",r({key:"image",ref:function e(n){t.image=n},onLoad:this._handleLoad},s)),u||this.isClosing?a.default.createElement(p.default,{key:"portal",ref:function e(n){t.portalInstance=n},controlledEventFn:this._getControlledEventFn(),allowAccessibilityClose:this._allowTabNavigation()},a.default.createElement(v.default,{defaultStyles:this.props.defaultStyles,image:this.image,shouldRespectMaxDimension:this.props.shouldRespectMaxDimension,zoomImage:this.props.zoomImage,zoomMargin:this.props.zoomMargin,onUnzoom:this._handleUnzoom})):null]}},{key:"_checkShouldDisableComponent",value:function e(){this.setState({isMaxDimension:this.props.shouldRespectMaxDimension&&!this.props.zoomImage&&(0,c.isMaxDimension)(this.image)})}},{key:"_getImageStyle",value:function e(){var t=this.state.isZoomed||this.props.isZoomed||this.isClosing;var n=r({},t&&{visibility:"hidden"});return r({},u.default.styles.image,n,this.props.defaultStyles.image,this.props.image.style,this.state.isMaxDimension&&{cursor:"inherit"})}},{key:"_handleLoad",value:function e(){this._checkShouldDisableComponent()}},{key:"_handleKeyDown",value:function e(t){if((0,f.isEnterOrSpaceBarKey)(t)){t.preventDefault();this._handleZoom(t)}}},{key:"_preventFocus",value:function e(t){t.preventDefault()}},{key:"_handleZoom",value:function e(t){!w(this.props.isZoomed)&&this.props.shouldHandleZoom(t)?this.setState({isZoomed:true},this.props.onZoom):this.props.onZoom()}},{key:"_handleUnzoom",value:function e(t,n){var o=this;return function(){var e=r({isZoomed:false},o.props.shouldReplaceImage&&{src:t});delete o.isClosing;o.setState(e,o.props.onUnzoom);n&&o._allowTabNavigation()&&o.image.focus()}}},{key:"_getControlledEventFn",value:function e(){return w(this.props.isZoomed)?this.props.onUnzoom:null}},{key:"_allowTabNavigation",value:function e(){return this.image.tabIndex!==_}}],[{key:"defaultProps",get:function e(){return{shouldReplaceImage:true,shouldRespectMaxDimension:false,zoomMargin:40,defaultStyles:{zoomContainer:{},overlay:{},image:{},zoomImage:{}},shouldHandleZoom:function e(){return true},onZoom:function e(){},onUnzoom:function e(){}}}}]);return t}(i.Component);t.default=O;O.propTypes={image:(0,l.shape)({src:l.string.isRequired,alt:l.string,className:l.string,style:l.object}).isRequired,zoomImage:(0,l.shape)({src:l.string,alt:l.string,className:l.string,style:l.object}),defaultStyles:l.object,isZoomed:l.bool,shouldHandleZoom:l.func,shouldReplaceImage:l.bool,shouldRespectMaxDimension:l.bool,onZoom:l.func,onUnzoom:l.func}},2306:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}return function(t,n,r){n&&e(t.prototype,n);r&&e(t,r);return t}}();var o=n(0);var i=d(o);var a=n(56);var l=n(17);var s=n(321);var u=d(s);var c=n(489);var f=n(884);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){v(t,e);function t(){p(this,t);var e=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.portal=(0,c.createPortalContainer)("div");e.unzoom=e.unzoom.bind(e);e._handleScroll=e._handleScroll.bind(e);e._handleKeyDown=e._handleKeyDown.bind(e);e._handleResize=e._handleResize.bind(e);e._handleTouchStart=e._handleTouchStart.bind(e);e._handleTouchMove=e._handleTouchMove.bind(e);e._handleTouchEnd=e._handleTouchEnd.bind(e);return e}r(t,[{key:"componentDidMount",value:function e(){var t=this;this.pageYOffset=window.pageYOffset;this.loadTimeout=setTimeout(function(){window.addEventListener("scroll",t._handleScroll);window.addEventListener("keydown",t._handleKeyDown);window.addEventListener("ontouchstart",t._handleTouchStart);window.addEventListener("ontouchmove",t._handleTouchMove);window.addEventListener("ontouchend",t._handleTouchEnd);window.addEventListener("ontouchcancel",t._handleTouchEnd);window.addEventListener("resize",t._handleResize)},u.default.transitionDuration)}},{key:"componentWillUnmount",value:function e(){clearTimeout(this.loadTimeout);window.removeEventListener("scroll",this._handleScroll);window.removeEventListener("keydown",this._handleKeyDown);window.removeEventListener("ontouchstart",this._handleTouchStart);window.removeEventListener("ontouchmove",this._handleTouchMove);window.removeEventListener("ontouchend",this._handleTouchEnd);window.removeEventListener("ontouchcancel",this._handleTouchEnd);window.removeEventListener("resize",this._handleResize);(0,c.removePortalContainer)(this.portal)}},{key:"render",value:function e(){return this.portal?(0,a.createPortal)(i.default.createElement("div",{onClick:this.unzoom},this._cloneChild()),this.portal):null}},{key:"unzoom",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.force,r=t.allowRefocus;if(this.props.controlledEventFn&&!n)return this.props.controlledEventFn();return this.child.unzoom(r)}},{key:"_cloneChild",value:function e(){var t=this;return i.default.cloneElement(i.default.Children.only(this.props.children),{ref:function e(n){t.child=n}})}},{key:"_handleKeyDown",value:function e(t){if((0,f.isTabKey)(t)){t.preventDefault();return}var n=this.props.allowAccessibilityClose;var r=n&&(0,f.isEnterOrSpaceBarKey)(t);var o=(0,f.isEscapeKey)(t);r&&t.preventDefault();(r||o)&&this.unzoom({allowRefocus:true})}},{key:"_handleResize",value:function e(){this.forceUpdate()}},{key:"_handleScroll",value:function e(){this.forceUpdate();var t=Math.abs(window.pageYOffset-this.pageYOffset);t>10&&this.unzoom()}},{key:"_handleTouchStart",value:function e(t){this.yTouchPosition=t.touches[0].clientY}},{key:"_handleTouchMove",value:function e(t){this.forceUpdate();var n=Math.abs(t.touches[0].clientY-this.yTouchPosition);n>10&&this.unzoom()}},{key:"_handleTouchEnd",value:function e(){delete this.yTouchPosition}}]);return t}(o.Component);t.default=m;m.propTypes={children:l.element.isRequired,getControlledEventFn:l.func}},2307:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}return function(t,n,r){n&&e(t.prototype,n);r&&e(t,r);return t}}();var i=n(0);var a=p(i);var l=n(17);var s=n(321);var u=p(s);var c=n(489);var f=n(2308);var d=p(f);function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){var n={};for(var r in e){if(t.indexOf(r)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,r))continue;n[r]=e[r]}return n}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=function(e){y(t,e);function t(e){v(this,t);var n=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={hasLoaded:false,isZoomed:true,src:n.props.image.currentSrc||n.props.image.src,tmpSrc:null};n.unzoom=n.unzoom.bind(n);n._handleImageLoad=n._handleImageLoad.bind(n);return n}o(t,[{key:"componentDidMount",value:function e(){var t=this.props.zoomImage,n=t.src,r=t.srcSet;this.setState({hasLoaded:true});(n||r)&&(0,c.fetchImage)(this.props.zoomImage,this._handleImageLoad)}},{key:"componentDidUpdate",value:function e(t,n){var r=this;!n.tmpSrc&&this.state.tmpSrc&&setTimeout(function(){r.setState({src:r.state.tmpSrc,tmpSrc:null})},100)}},{key:"render",value:function e(){var t=this.props,n=t.defaultStyles,o=t.zoomImage,i=this.state,l=i.tmpSrc,s=i.isZoomed,u=i.src;var c=this._getZoomImageStyle();return a.default.createElement("div",{style:this._getZoomContainerStyle()},a.default.createElement(d.default,{isVisible:s,defaultStyles:n}),a.default.createElement("img",r({},o,{src:u,style:c})),a.default.createElement(g,r({},o,{src:l,style:c})))}},{key:"unzoom",value:function e(t){var n=this.props.onUnzoom(this.state.src,t);this.setState({isZoomed:false},function(){return setTimeout(n,u.default.transitionDuration)})}},{key:"_handleImageLoad",value:function e(t){this.state.isZoomed&&this.setState({tmpSrc:t.currentSrc||t.src})}},{key:"_getZoomContainerStyle",value:function e(){return r({},u.default.styles.zoomContainer,this.props.defaultStyles.zoomContainer)}},{key:"_getZoomImageStyle",value:function e(){var t=this.props,n=t.image,o=t.shouldRespectMaxDimension,i=t.src,a=t.zoomMargin;var l=n.getBoundingClientRect();var s=l.top,f=l.left;var d=n.width,p=n.height,h=n.naturalWidth,v=n.naturalHeight;var m={top:s,left:f,width:d,height:p};if(!this.state.hasLoaded||!this.state.isZoomed)return r({},u.default.styles.zoomImage,this.props.defaultStyles.zoomImage,this.props.style,m);var y=window.innerWidth/2;var b=window.innerHeight/2;var g=l.left+d/2;var w=l.top+p/2;var E=y-g;var _=b-w;var O=o&&!i?(0,c.getMaxDimensionScale)({width:d,height:p,naturalWidth:h,naturalHeight:v,zoomMargin:a}):(0,c.getScale)({width:d,height:p,zoomMargin:a});var T={transform:"translate3d("+E+"px, "+_+"px, 0) scale("+O+")"};return r({},u.default.styles.zoomImage,this.props.defaultStyles.zoomImage,this.props.style,m,T)}}],[{key:"defaultProps",get:function e(){return{zoomImage:{}}}}]);return t}(i.Component);t.default=b;b.propTypes={defaultStyles:l.object.isRequired,image:l.object.isRequired,shouldRespectMaxDimension:l.bool,zoomImage:(0,l.shape)({src:l.string,alt:l.string,className:l.string,style:l.object}).isRequired,zoomMargin:l.number.isRequired,onUnzoom:l.func.isRequired};var g=function e(t){var n=t.src,o=t.style,i=h(t,["src","style"]);return n?a.default.createElement("img",r({},i,{src:n,style:E(o)})):null};var w={position:"fixed",visibility:"hidden"};var E=function e(t){return r({},t,w)}},2308:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;"value"in r&&(r.writable=true);Object.defineProperty(e,r.key,r)}}return function(t,n,r){n&&e(t.prototype,n);r&&e(t,r);return t}}();var i=n(0);var a=c(i);var l=n(17);var s=n(321);var u=c(s);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){p(t,e);function t(e){f(this,t);var n=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={isVisible:false};return n}o(t,[{key:"componentDidMount",value:function e(){this.setState({isVisible:true})}},{key:"componentWillReceiveProps",value:function e(t){t.isVisible||this.setState({isVisible:false})}},{key:"shouldComponentUpdate",value:function e(t){return this.props.isVisible!==t.isVisible||this.state.isVisible!==t.isVisible}},{key:"render",value:function e(){return a.default.createElement("div",{style:this._getStyle()})}},{key:"_getStyle",value:function e(){var t=1&this.state.isVisible;return r({},u.default.styles.overlay,{opacity:t},this.props.defaultStyles.overlay)}}]);return t}(i.Component);t.default=h;h.propTypes={isVisible:l.bool.isRequired,defaultStyles:l.object.isRequired}},2310:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.BlockQuote=void 0;var r=n(2311);var o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}t.BlockQuote=o.default},2312:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.BlockList=void 0;var r=n(2313);var o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}t.BlockList=o.default},2314:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.BlockCodeLine=t.BlockCodeTab=t.BlockCode=void 0;var r=n(2315);var o=u(r);var i=n(2367);var a=u(i);var l=n(2368);var s=u(l);function u(e){return e&&e.__esModule?e:{default:e}}t.BlockCode=o.default;t.BlockCodeTab=a.default;t.BlockCodeLine=s.default},2369:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.HintIcon=t.BlockHint=void 0;var r=n(2370);var o=l(r);var i=n(2930);var a=l(i);function l(e){return e&&e.__esModule?e:{default:e}}t.BlockHint=o.default;t.HintIcon=a.default},2371:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.BlockDiff=void 0;var r=n(2372);var o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}t.BlockDiff=o.default},2372:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o=n(0);var i=f(o);var a=n(4);var l=c(a);var s=n(2);var u=n(1);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=4;var m=s.StyleSheet.create({blockDiff:{paddingLeft:15,marginLeft:-15-v,borderLeft:v+"px solid",borderColor:"transparent"}});var y={modified:u.colors.DIFF_MODIFIED,added:u.colors.DIFF_ADDED,removed:u.colors.DIFF_REMOVED,identical:"transparent"};var b=function(e){h(t,e);function t(){d(this,t);return p(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,n=t.node,o=t.children,a=t.attributes;return i.default.createElement("div",r({className:(0,s.css)(m.blockDiff),style:{borderColor:y[n.data.get("type")]}},a),o)};return t}(i.default.Component);t.default=b},2373:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.InlineLink=void 0;var r=n(2374);var o=i(r);function i(e){return e&&e.__esModule?e:{default:e}}t.InlineLink=o.default},2374:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o,i;var a=n(0);var l=b(a);var s=n(163);var u=y(s);var c=n(2);var f=n(6);var d=n(3);var p=n(1);var h=n(19);var v=n(862);var m=y(v);function y(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=c.StyleSheet.create({link:{textDecoration:"none",":hover":{textDecoration:"underline"}},defaultCursor:{cursor:"initial"},brokenLink:{textDecoration:"line-through"}});var O=(i=o=function(e){E(t,e);function t(){var n,r,o;g(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return o=(n=(r=w(this,e.call.apply(e,[this].concat(a))),r),r.state={inputFocused:false},r.update=function(e){var t=r.props,n=t.node,o=t.editor;d.Edition.onChange(o,function(t){return d.Edition.Link.updateLink(t,n.key,e)})},r.remove=function(){var e=r.props,t=e.node,n=e.editor;d.Edition.onChange(n,function(e){return e.unwrapInlineByKey(t.key,d.DOC_INLINES.LINK)})},r.onClick=function(e){if(!r.props.readOnly){e.stopPropagation();e.preventDefault()}},r.onInputFocus=function(){r.setState({inputFocused:true})},r.onInputBlur=function(){r.setState({inputFocused:false})},n),w(r,o)}t.prototype.render=function e(){var t=this;var n=this.props,o=n.page,i=n.version,a=n.value,s=n.readOnly,d=n.node,v=n.children,y=n.attributes;var b=this.state.inputFocused;var g=d.data.toObject(),w=g.href,E=g.pageID,O=g.anchor;var T=false;var S=void 0;if(E){var k=i.page.getByID(E);if(k){var C=i.page.getURLOf(k);S=l.createElement("span",null,l.createElement(h.ContentLink,r({toPage:C,toAnchor:O,className:(0,c.css)(_.link,!s&&_.defaultCursor),onClick:this.onClick},y),v))}else{T=true;S=l.createElement(p.Link,r({className:(0,c.css)(_.link,_.defaultCursor,_.brokenLink),onClick:this.onClick},y),v)}}else{var M=(0,u.default)(w);S=l.createElement(p.Link,r({href:w,target:(0,u.default)(w)?"_blank":void 0,rel:M?"noopener noreferrer":void 0,className:(0,c.css)(_.link,!s&&_.defaultCursor),onClick:this.onClick},y),v)}if(s)return S;var I=b||a.isCollapsed&&a.inlines.includes(d);return l.createElement(p.Popover.ManualPortal,{closeOnEsc:true,closeOnOutsideClick:true,fixed:false,anchor:S,isOpen:I},l.createElement(p.Popover,{position:"north"},l.createElement(m.default,{ref:function e(n){t.edit=n},page:o,version:i,linkData:T?(0,f.Map)():d.data,onChange:this.update,onRemove:this.remove,onFocus:this.onInputFocus,onBlur:this.onInputBlur})))};return t}(l.Component),o.defaultProps={children:null},i);t.default=O},2375:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.MarkModified=t.MarkRemoved=t.MarkAdded=t.MarkCode=t.MarkDel=t.MarkItalic=t.MarkBold=void 0;var r=n(2376);t.MarkBold=r.MarkBold;t.MarkItalic=r.MarkItalic;t.MarkDel=r.MarkDel;t.MarkCode=r.MarkCode;t.MarkAdded=r.MarkAdded;t.MarkRemoved=r.MarkRemoved;t.MarkModified=r.MarkModified},2376:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.MarkModified=t.MarkRemoved=t.MarkAdded=t.MarkCode=t.MarkDel=t.MarkItalic=t.MarkBold=void 0;var r=n(0);var o=s(r);var i=n(2);var a=n(1);var l=n(3);function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}var u=i.StyleSheet.create({bold:{fontWeight:a.font.WEIGHT_BOLDER},code:{boxDecorationBreak:"clone",display:"inline-block",fontFamily:a.font.FAMILY_CODE,fontSize:a.font.SIZE_CODE,borderRadius:a.boxes.RADIUS_NORMAL,backgroundColor:a.colors.BG_CODE,padding:"3px 6px",margin:"0 1px",":after":{letterSpacing:"-1em",content:'"\\00a0"'}},codeBold:{fontWeight:700},codeInHeading:{fontWeight:700,fontSize:"inherit"},added:{color:a.colors.DIFF_ADDED,paddingLeft:"0.1em",paddingRight:"0.1em"},removed:{color:a.colors.DIFF_REMOVED,textDecoration:"line-through",paddingLeft:"0.1em",paddingRight:"0.1em"},modified:{paddingBottom:"0.1em",borderBottom:"1px dotted "+a.colors.DIFF_MODIFIED}});var c=function e(t){return o.createElement("strong",{className:(0,i.css)(u.bold)},t.children)};var f=function e(t){return o.createElement("em",null,t.children)};var d=function e(t){return o.createElement("del",null,t.children)};var p=function e(t){var n=t.marks.some(function(e){return e.type==l.DOC_MARKS.BOLD});var r=l.Edition.Heading.isHeading(t.value.document.getParent(t.node.key));return o.createElement("code",{spellCheck:false,className:(0,i.css)(u.code,n&&u.codeBold,r&&u.codeInHeading)},t.children)};var h=function e(t){return o.createElement("span",{className:(0,i.css)(u.added)},t.children)};var v=function e(t){return o.createElement("span",{className:(0,i.css)(u.removed)},t.children)};var m=function e(t){return o.createElement("span",{className:(0,i.css)(u.modified)},t.children)};t.MarkBold=c;t.MarkItalic=f;t.MarkDel=d;t.MarkCode=p;t.MarkAdded=h;t.MarkRemoved=v;t.MarkModified=m},2394:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TabsContainer=t.BlockTabsItem=t.BlockTabs=void 0;var r=n(2395);var o=u(r);var i=n(2403);var a=u(i);var l=n(893);var s=u(l);function u(e){return e&&e.__esModule?e:{default:e}}t.BlockTabs=o.default;t.BlockTabsItem=a.default;t.TabsContainer=s.default},2395:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o,i;var a=n(0);var l=y(a);var s=n(232);var u=n(2);var c=n(3);var f=n(1);var d=n(2396);var p=m(d);var h=n(893);var v=m(h);function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=(i=o=function(e){w(t,e);function t(){var n,r,o;b(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return o=(n=(r=g(this,e.call.apply(e,[this].concat(a))),r),r.onSelectTab=function(e){var t=r.props,n=t.editor,o=t.readOnly,i=t.node,a=t.tabs;o||c.Edition.onChange(n,function(e){return e.blur()});a.selectTab(i,e)},r.onUpdateTabTitle=function(e,t){var n=r.props.editor;t?c.Edition.onChange(n,function(n){return n.setNodeByKey(e.key,{data:e.data.merge({title:t})})}):c.Edition.onChange(n,function(t){return t.removeNodeByKey(e.key)})},r.onDeleteTab=function(e){var t=r.props.editor;c.Edition.onChange(t,function(t){return t.removeNodeByKey(e.key)})},r.onCreateTab=function(e){var t=r.props,n=t.editor,o=t.node;var i=c.Edition.Tabs.createTabsItem("");c.Edition.onChange(n,function(t){return t.insertNodeByKey(o.key,e,i)})},r.onSortEnd=function(e){var t=e.oldIndex,n=e.newIndex;var o=r.props,i=o.editor,a=o.node;var l=a.nodes.get(t);c.Edition.onChange(i,function(e){return e.moveNodeByKey(l.key,a.key,n)})},n),g(r,o)}t.prototype.render=function e(){var n=t.STYLES;var o=this.props,i=o.node,a=o.children,s=o.readOnly,u=o.attributes,c=o.activeTab;var d=i.nodes.findIndex(function(e){return e.key===c.key});return l.createElement(f.View,r({},u,{styles:[n.tabs]}),l.createElement(p.default,{node:i,readOnly:s,onCreateTab:this.onCreateTab,activeTab:c.key,onSelectTab:this.onSelectTab,onUpdateTabTitle:this.onUpdateTabTitle,onDeleteTab:this.onDeleteTab,axis:"x",lockAxis:"x",helperClass:"draggingElement",onSortEnd:this.onSortEnd,lockToContainerEdges:true,useDragHandle:true}),l.Children.map(a,function(e,t){return l.createElement(f.View,{key:e.key,styles:[n.tabItemContent,t===d&&n.tabItemContentActive]},e)}))};return t}(l.Component),o.STYLES=u.StyleSheet.create({tabs:{margin:f.spacing.S400+"px 0px"},tabItemContent:{display:"none",border:"1px solid "+f.colors.BORDER_NORMAL,padding:f.spacing.S300,paddingBottom:0,borderRadius:f.boxes.RADIUS_NORMAL+"px",borderTopLeftRadius:"0px"},tabItemContentActive:{display:"block"}}),i);t.default=function(e){return l.createElement(s.Subscribe,{to:[v.default]},function(t){var n=t.getSelectedTabFor(e.value,e.node,{readOnly:e.readOnly});return l.createElement(E,r({},e,{tabs:t,activeTab:n}))})}},2396:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o,i,a;var l=n(0);var s=b(l);var u=n(6);var c=n(2);var f=n(47);var d=n(1);var p=n(2397);var h=y(p);var v=n(2398);var m=y(v);function y(e){return e&&e.__esModule?e:{default:e}}function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e,t){if(e.nodes.size!==t.nodes.size)return true;var n=e.nodes.some(function(e,n){var r=t.nodes.get(n);return r.key!==e.key||r.data.get("title")!==e.data.get("title")});return n}var O=(0,f.SortableContainer)(o=(a=i=function(e){E(t,e);function t(){g(this,t);return w(this,e.apply(this,arguments))}t.prototype.componentWillReceiveProps=function e(t){var n=this.props.node.nodes;var r=t.node.nodes;if(r===n)return;var o=(0,u.Set)(r).subtract(n);if(1!==o.size)return;this.lastCreatedTab=o.first()};t.prototype.shouldComponentUpdate=function e(t){var n=this.props;if(n.node!==t.node&&_(n.node,t.node))return true;if(n.onCreateTab!==t.onCreateTab||n.activeTab!==t.activeTab||n.onSelectTab!==t.onSelectTab||n.onDeleteTab!==t.onDeleteTab||n.onUpdateTabTitle!==t.onUpdateTabTitle||n.readOnly!==t.readOnly)return true;return false};t.prototype.render=function e(){var n=this;var o=this.props,i=o.node,a=o.onCreateTab,l=o.activeTab,u=o.onSelectTab,c=o.onDeleteTab,f=o.onUpdateTabTitle,p=o.readOnly;var v=t.STYLES;return s.createElement(d.View,{styles:v.tabsHeader},s.createElement(d.View,{styles:v.tabsHeaderContainer,contentEditable:false},s.createElement(d.View,{styles:[v.tabsHeaderContent,!p&&v.tabsHeaderContentGreyBg]},i.nodes.map(function(e,t){var o={key:e.key,node:e,isActive:e.key===l,onSelect:u};return p?s.createElement(h.default,o):s.createElement(m.default,r({index:t,nodeIndex:t,onUpdateTitle:f,onDeleteTab:c,onCreateTab:a,autoFocus:n.lastCreatedTab===e},o))}))))};return t}(s.Component),i.STYLES=c.StyleSheet.create({tabsHeader:{position:"relative",display:"flex",width:"100%",height:"100%",alignItems:"center",whiteSpace:"nowrap",marginBottom:-1},tabsHeaderContainer:{maxWidth:"100%",display:"flex"},tabsHeaderContent:{maxWidth:"100%",display:"flex",borderTopRightRadius:d.boxes.RADIUS_NORMAL,borderTopLeftRadius:d.boxes.RADIUS_NORMAL,pointerEvents:"auto"},tabsHeaderContentGreyBg:{backgroundColor:d.colors.GREY_LIGHT}}),a))||o;t.default=O},2397:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var i=n(0);var a=d(i);var l=n(2);var s=n(1);var u=n(490);var c=f(u);function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=(o=r=function(e){v(t,e);function t(){var n,r,o;p(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return o=(n=(r=h(this,e.call.apply(e,[this].concat(a))),r),r.selectInput=function(){r.input&&r.input.select()},r.onSelectTab=function(){var e=r.props,t=e.onSelect,n=e.node;t(n)},n),h(r,o)}t.prototype.render=function e(){var n=this.props,r=n.node,o=n.isActive;var i=t.STYLES;return a.createElement(c.default,{isActive:o,onClick:this.onSelectTab},a.createElement(s.View,{styles:i.wrapperTabsItemTitle},r.data.get("title")||"Untitled"))};return t}(a.Component),r.STYLES=l.StyleSheet.create({wrapperTabsItemTitle:{maxWidth:"100%",minWidth:0,textOverflow:"ellipsis",overflow:"hidden"}}),o);t.default=m},2398:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,i;var a=n(0);var l=w(a);var s=n(2);var u=n(47);var c=n(1);var f=n(2399);var d=g(f);var p=n(2400);var h=g(p);var v=n(2401);var m=g(v);var y=n(490);var b=g(y);function g(e){return e&&e.__esModule?e:{default:e}}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var T=(0,u.SortableElement)(r=(i=o=function(e){O(t,e);function t(){var n,r,o;E(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return o=(n=(r=_(this,e.call.apply(e,[this].concat(a))),r),r.state={hovered:"none"},r.selectInput=function(){r.input&&r.input.select()},r.onClickNewTab=function(){var e=r.props,t=e.onCreateTab,n=e.nodeIndex;var o=r.state.hovered;t("right"===o?n+1:n)},r.onMouseEnterLeft=function(){r.setState({hovered:"left"})},r.onMouseEnterRight=function(){r.setState({hovered:"right"})},r.onMouseLeave=function(){r.setState({hovered:"none"})},r.onSelectTab=function(){var e=r.props,t=e.onSelect,n=e.node;t(n)},n),_(r,o)}t.prototype.componentDidMount=function e(){if(this.props.autoFocus){this.selectInput();this.onSelectTab()}};t.prototype.render=function e(){var n=this;var r=this.state.hovered;var o=this.props,i=o.node,a=o.isActive,s=o.onDeleteTab,u=o.onUpdateTitle;var f=t.STYLES;return l.createElement(b.default,{isActive:a,onClick:this.onSelectTab,onMouseLeave:this.onMouseLeave},l.createElement(m.default,{visible:r,onDeleteTab:s,node:i}),l.createElement(c.View,{styles:[f.detectArea,f.left,"left"===r&&f.clickThrough],onMouseEnter:this.onMouseEnterLeft}),l.createElement(c.View,{styles:[f.detectArea,f.right,"right"===r&&f.clickThrough],onMouseEnter:this.onMouseEnterRight}),"left"===r||"right"===r?l.createElement(h.default,{onClick:this.onClickNewTab,alignButton:r,styles:["left"===r&&f.leftAlign,"right"===r&&f.rightAlign]}):null,l.createElement(d.default,{onClick:this.selectInput,node:i,onUpdateTitle:u,ref:function e(t){n.input=t}}))};return t}(l.Component),o.STYLES=s.StyleSheet.create({containerTabItem:{position:"relative",display:"flex"},detectArea:{position:"absolute",top:0,width:"calc(50% - 2px)",height:"100%",cursor:"pointer"},right:{right:0},left:{left:0},clickThrough:{pointerEvents:"none"},rightAlign:{right:-2},leftAlign:{left:-2}}),i))||r;t.default=T},2399:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var i=n(0);var a=u(i);var l=n(2);var s=n(1);function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=(o=r=function(e){d(t,e);function t(n){c(this,t);var r=f(this,e.call(this,n));r.select=function(){r.input.select()};r.onChange=function(e){var t=e.target.value;r.setState({tabTitle:t})};r.onSubmit=function(){var e=r.props,t=e.node,n=e.onUpdateTitle;var o=r.state.tabTitle;o!==t.data.get("title")&&n(t,o)};r.onKeyDown=function(e){var t=13;if(e.keyCode===t){e.preventDefault();r.input&&r.input.blur()}};r.state={tabTitle:n.node.data.get("title")};return r}t.prototype.render=function e(){var n=this;var r=t.STYLES;var o=this.props.onClick;var i=this.state.tabTitle;return a.createElement(s.AutosizeInput,{className:(0,l.css)(r.wrapperTabsItemTitleInput),inputClassName:(0,l.css)(r.tabsItemTitleInput),value:i,onChange:this.onChange,onSubmit:this.onSubmit,onBlur:this.onSubmit,onKeyDown:this.onKeyDown,onClick:o,placeholder:"Tab Title",ref:function e(t){n.input=t}})};return t}(a.Component),r.STYLES=l.StyleSheet.create({tabsItemTitleInput:{cursor:"pointer",font:"inherit",color:"inherit",border:0,background:"transparent",padding:0,maxWidth:"100%",minWidth:0,textOverflow:"ellipsis",overflow:"hidden",":hover":{cursor:"text"},":focus":{cursor:"auto"},"::placeholder":{color:s.colors.TEXT_MUTED}},wrapperTabsItemTitleInput:{display:"flex",maxWidth:"100%",minWidth:0,textOverflow:"ellipsis",overflow:"hidden"}}),o);t.default=p},2400:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var i=n(0);var a=p(i);var l=n(2);var s=n(1);var u=n(7);var c=n(315);var f=d(c);function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=(o=r=function(e){m(t,e);function t(){var n,r,o;h(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return o=(n=(r=v(this,e.call.apply(e,[this].concat(a))),r),r.state={hovered:false},r.onEnter=function(){r.setState({hovered:true})},r.onLeave=function(){r.setState({hovered:false})},n),v(r,o)}t.prototype.render=function e(){var n=this.state.hovered;var r=this.props,o=r.styles,i=r.onClick;var l=t.STYLES;return a.createElement(s.View,{styles:[l.newTabAdd,n&&l.blueBg,o],onMouseEnter:this.onEnter,onMouseLeave:this.onLeave,onClick:i},a.createElement(f.default,{small:true,active:n},a.createElement(u.IconPlus,null)))};return t}(a.Component),r.STYLES=l.StyleSheet.create({newTabAdd:{userSelect:"none",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",zIndex:s.zIndexes.CONTROLS,backgroundColor:"transparent",transition:"background 0.2s",top:0,height:"100%",width:2,cursor:"pointer",animationName:s.animations.scaleIn,animationDuration:"0.2s",animationFillMode:"forwards"},blueBg:{backgroundColor:s.colors.BLUE_BASE}}),o);t.default=y},2401:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var i=n(0);var a=p(i);var l=n(2);var s=n(7);var u=n(1);var c=n(2402);var f=d(c);function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=(o=r=function(e){m(t,e);function t(){var n,r,o;h(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return o=(n=(r=v(this,e.call.apply(e,[this].concat(a))),r),r.state={clicked:false,hovered:false},r.onClick=function(){var e=r.state.clicked;return e?r.setState({clicked:false}):r.setState({clicked:true})},r.onEnter=function(){r.setState({hovered:true})},r.onLeave=function(){r.setState({hovered:false,clicked:false})},r.onDelete=function(){var e=r.props,t=e.onDeleteTab,n=e.node;t(n)},n),v(r,o)}t.prototype.render=function e(){var n=this.props.visible;var r=this.state,o=r.clicked,i=r.hovered;var l=t.STYLES;return a.createElement(u.View,{styles:[l.tabsItemOptions,"none"!==n&&l.tabsItemOptionsVisible,i&&l.tabsItemOptionsGreyBg,o&&l.tabsItemOptionsBlueBg],onClick:this.onClick,onMouseEnter:this.onEnter,onMouseLeave:this.onLeave},a.createElement(u.Popover.Container,{styles:[l.popoverContainer]},o?a.createElement(f.default,null):a.createElement(s.IconMoreHorizontal,null),a.createElement("div",{className:"draggingHidden"},o&&a.createElement(u.Popover,{position:"north"},a.createElement(u.View,{styles:l.iconDelete,onClick:this.onDelete},a.createElement(s.IconTrashcan,null))))))};return t}(a.Component),r.STYLES=l.StyleSheet.create({tabsItemOptions:{width:"100%",display:"flex",position:"absolute",bottom:"calc(100% + 3px)",left:0,cursor:"pointer",backgroundColor:u.colors.WHITE,borderRadius:u.boxes.RADIUS_SMALL,fontSize:18,justifyContent:"center",zIndex:u.zIndexes.CONTROLS,color:u.colors.GREY_BASE,verticalAlign:"middle",lineHeight:1,opacity:0,transition:"opacity 0.2s"},tabsItemOptionsVisible:{opacity:1,transition:"opacity 0.2s"},tabsItemOptionsGreyBg:{backgroundColor:u.colors.GREY_LIGHTEST,transition:"background-color 0.2s",opacity:1},tabsItemOptionsBlueBg:{cursor:"pointer",backgroundColor:u.colors.BLUE_BASE,transition:"background-color 0.2s",color:u.colors.WHITE,opacity:1},iconDelete:{padding:u.boxes.PADDING_NORMAL,fontSize:u.font.SIZE_MEDIUM,color:u.colors.GREY_BASE,":hover":{cursor:"pointer",color:u.colors.BLACK}},popoverContainer:{flex:"1 0 auto",display:"flex",justifyContent:"center",alignItems:"stretch"}}),o);t.default=y},2402:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,i;var a=n(0);var l=d(a);var s=n(2);var u=n(47);var c=n(7);var f=n(1);function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=(0,u.SortableHandle)(r=(i=o=function(e){v(t,e);function t(){p(this,t);return h(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=t.STYLES;return l.createElement(f.View,{styles:n.grabIcon},l.createElement(c.IconGrabberH,null))};return t}(l.Component),o.STYLES=s.StyleSheet.create({grabIcon:{display:"inline-flex",flex:"1 0 auto",pointerEvents:"auto",justifyContent:"center",fontSize:18,":hover":{cursor:"grab"}}}),i))||r;t.default=m},2403:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(0);var o=i(r);function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(e){s(t,e);function t(){a(this,t);return l(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,n=t.attributes,r=t.children;return o.createElement("div",n,r)};return t}(o.Component);t.default=u},2919:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o,i;var a=n(0);var l=c(a);var s=n(2);var u=n(1);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function f(e,t){var n={};for(var r in e){if(t.indexOf(r)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,r))continue;n[r]=e[r]}return n}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=(i=o=function(e){h(t,e);function t(){d(this,t);return p(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=this.props,o=n.children,i=n.readOnly,a=n.selected,s=n.styles,c=f(n,["children","readOnly","selected","styles"]);var d=t.STYLES;if(i)return l.createElement(u.View,null,l.Children.only(o));return l.createElement(u.View,r({},c,{styles:[d.embedEditLayer,a&&d.embedEditLayerSelected,s]}),o,l.createElement(u.View,{styles:[d.embedEditLayerAfter]}))};return t}(l.Component),o.STYLES=s.StyleSheet.create({embedEditLayer:{position:"relative",":hover":{outline:"3px solid "+u.colors.BLUE_LIGHTER}},embedEditLayerSelected:{outline:"3px solid "+u.colors.BLUE_BASE,":hover":{outline:"3px solid "+u.colors.BLUE_BASE}},embedEditLayerAfter:{position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:1,cursor:"default"},noMargin:{margin:0}}),i);t.default=v},2920:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o,i,a,l,s,u,c,f;var d=n(0);var p=w(d);var h=n(2);var v=n(295);var m=n(1);var y=n(2919);var b=g(y);function g(e){return e&&e.__esModule?e:{default:e}}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var T=(r=m.ColorPalette.connect(["primary"]),r(o=(a=i=function(e){O(t,e);function t(){var n,r,o;E(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return o=(n=(r=_(this,e.call.apply(e,[this].concat(a))),r),r.state={isHovered:false},r.onMouseEnter=function(){return r.setState({isHovered:true})},r.onMouseLeave=function(){return r.setState({isHovered:false})},n),_(r,o)}t.prototype.render=function e(){var n=this.props,r=n.data,o=n.selected,i=n.readOnly,a=n.colorPrimary;var l=this.state.isHovered;var s=r.thumbnail;var u=t.STYLES;return p.createElement(b.default,{selected:o,readOnly:i,styles:[m.tooltip.tooltipped,m.tooltip.delayed],"aria-label":r.url},p.createElement("a",{href:r.url,rel:"noopener noreferrer",target:"_blank",className:(0,h.css)(u.embedLink),style:{borderColor:l?a:void 0},spellCheck:false,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},p.createElement(m.View,{component:"span",styles:[u.embedLinkText,s&&u.embedLinkTextWithThumbmail]},p.createElement(m.Text.UIH400,{styles:u.embedLinkTitle,style:{color:l?a:void 0}},r.title),r.description&&p.createElement(m.Text.TextH400,{component:"span",styles:u.embedLinkDescription},r.description),p.createElement(m.Text.TextH300,{component:"span",styles:u.embedLinkHost},(0,v.parse)(r.url).hostname)),s?p.createElement("span",{className:(0,h.css)(u.embedLinkThumbnail),style:{backgroundImage:"url("+s.url+")"}}):null))};return t}(p.Component),i.STYLES=h.StyleSheet.create({embedLink:(l={border:"1px solid "+m.colors.GREY_LIGHTER,borderRadius:"3px",boxShadow:m.boxes.SHADOW_HIGH,display:"flex",color:"inherit",textDecoration:"none",transition:"color 0.3s, border 0.3s"},l["@media "+m.MEDIA.SMALLER_THAN_MOBILE_LANDSCAPE]={flexDirection:"column-reverse"},l),embedLinkText:(s={flex:"1 1 auto",display:"flex",flexDirection:"column",padding:m.spacing.S300,justifyContent:"space-between",borderRight:"1px solid "+m.colors.GREY_LIGHTER,transition:"color 0.3s, border 0.3s"},s["@media "+m.MEDIA.SMALLER_THAN_MOBILE_LANDSCAPE]={borderRight:"none"},s),embedLinkTextWithThumbmail:(u={height:"160px"},u["@media "+m.MEDIA.SMALLER_THAN_MOBILE_LANDSCAPE]={height:"auto"},u),embedLinkTitle:{flex:"0 0 auto",transition:"color 0.3s, border 0.3s"},embedLinkDescription:(c={flex:"1 1 auto",overflow:"hidden",color:m.colors.GREY_DARK,marginTop:m.spacing.S100},c["@media "+m.MEDIA.SMALLER_THAN_TABLET]={display:"none"},c),embedLinkHost:{flex:"0 0 auto",marginTop:m.spacing.S100,color:m.colors.GREY_BASE},embedLinkThumbnail:(f={display:"block",flex:"0 0 auto",width:"162px",height:"162px",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center center",borderRadius:"0 2px 2px 0"},f["@media "+m.MEDIA.SMALLER_THAN_MOBILE_LANDSCAPE]={width:"100%",borderRadius:"2px 2px 0 0"},f)}),a))||o);t.default=T},2921:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var i=n(0);var a=p(i);var l=n(2259);var s=d(l);var u=n(1);n(3);var c=n(2919);var f=d(c);function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=(o=r=function(e){m(t,e);function t(){h(this,t);return v(this,e.apply(this,arguments))}t.prototype.shouldComponentUpdate=function e(t){var n=this.props.embed;return n.html!==t.embed.html||n.url!==t.embed.url};t.prototype.render=function e(){var n=this.props,r=n.embed,o=n.caption;var i=r.aspectRatio||.4;var l=t.IFRAME_STYLE;return r.url?a.createElement("div",{style:{margin:"0px auto",maxWidth:r.maxWidth,maxHeight:r.maxHeight}},a.createElement("div",{style:{width:"100%",height:r.height,paddingTop:r.height?null:100/i+"%",position:"relative"}},a.createElement("iframe",{title:o||r.url,src:r.url,style:{position:"absolute",top:0,bottom:0,right:0,left:0,width:"100%",height:"100%",border:0}}))):a.createElement(s.default,{content:""+l+r.html,style:{maxWidth:r.maxWidth,maxHeight:r.maxHeight,width:"100%",display:"block",margin:"0px auto"},iframeResizerOptions:{checkOrigin:false,heightCalculationMethod:"max"}})};return t}(a.Component),r.IFRAME_STYLE='<style>body {text-rendering: optimizeLegibility; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; font-family: "ff-tisa-web-pro", Georgia, Cambria, "Times New Roman", Times, serif; font-weight: 400; color: '+u.colors.BLACK+"; font-size: 18px; line-height: 1.4; margin: 0; background-color: white; overflow: hidden;}iframe {max-width: 100%;}</style>",o);var b=function(e){m(t,e);function t(){h(this,t);return v(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,n=t.data,r=t.selected,o=t.readOnly,i=t.highlighted;return a.createElement(f.default,{selected:r,highlighted:i,readOnly:o,styles:[u.tooltip.tooltipped,u.tooltip.delayed],"aria-label":n.url},a.createElement(y,n))};return t}(a.Component);t.default=b},2922:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var i=n(0);var a=f(i);var l=n(1);n(2926);var s=n(883);var u=c(s);function c(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=(o=r=function(e){h(t,e);function t(){d(this,t);return p(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=this.props,r=n.data,o=n.readOnly,i=n.selected,s=n.inTable;if(!r.embed)throw new Error("Missing image from embed image");var c=r.embed;var f=t.JUSTIFY[r.align||"center"];return a.createElement(u.default,{justifyContent:f,src:c.url,readOnly:o,selected:i,inTable:s,"aria-label":c.url,styles:[!o&&l.tooltip.tooltipped,!o&&l.tooltip.delayed]})};return t}(a.Component),r.JUSTIFY={left:"flex-start",center:"center"},o);t.default=v},2926:function(e,t,n){"use strict"},2927:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o,i;var a=n(0);var l=m(a);var s=n(5);n(4);n(40);var u=n(3);var c=n(1);var f=n(7);var d=n(471);var p=n(2923);var h=v(p);function v(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var w=(o=(0,s.connect)(),o(i=function(e){g(t,e);function t(){var n,r,o;y(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return o=(n=(r=b(this,e.call.apply(e,[this].concat(a))),r),r.onDelete=function(){var e=r.props,t=e.editor,n=e.node;u.Edition.onChange(t,function(e){return e.removeNodeByKey(n.key)})},n),b(r,o)}t.prototype.render=function e(){var t=this.props,n=t.editor,o=t.node;return l.createElement(d.BlockBaseControls,r({},this.props,{menu:l.createElement(c.Menu,null,"image"===o.data.get("type")&&l.createElement(l.Fragment,null,l.createElement(h.default,{editor:n,node:o}),l.createElement(c.Menu.Divider,null)),l.createElement(c.Menu.Item,{icon:l.createElement(f.IconTrashcan,null),onMouseDown:this.onDelete},"Delete"))}))};return t}(l.Component))||i);t.default=w},315:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CIRCLE_SIZE_SMALL=t.CIRCLE_SIZE=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o,i;var a=n(0);var l=c(a);var s=n(2);var u=n(1);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function f(e,t){var n={};for(var r in e){if(t.indexOf(r)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,r))continue;n[r]=e[r]}return n}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=30;var m=20;var y=(i=o=function(e){h(t,e);function t(){var n,r,o;d(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return o=(n=(r=p(this,e.call.apply(e,[this].concat(a))),r),r.onClick=function(e){var t=r.props.onClick;if(t){e.preventDefault();e.stopPropagation();t()}},n),p(r,o)}t.prototype.render=function e(){var n=t.STYLES;var o=this.props,i=o.children,a=o.active,s=o.small,c=o.rotated,d=f(o,["children","active","small","rotated"]);delete d.onClick;var p=c?{transform:"rotateZ("+c+"deg)"}:{};return l.createElement(u.View,r({role:"button",tabIndex:-1,styles:[n.controlCircle,a&&n.active,s&&n.small],onClick:this.onClick,style:p},d),i)};return t}(l.Component),o.STYLES=s.StyleSheet.create({controlCircle:{display:"flex",justifyContent:"center",alignItems:"center",borderWidth:1,borderStyle:"solid",borderColor:u.colors.GREY_LIGHT,borderRadius:"50%",height:v,width:v,lineHeight:"18px",fontSize:"18px",pointerEvents:"auto",cursor:"pointer",transition:"all 0.2s",outline:"none",backgroundColor:u.colors.WHITE,color:u.colors.GREY_BASE,":hover":{backgroundColor:u.colors.GREY_LIGHTEST}},active:{backgroundColor:u.colors.BLUE_BASE,borderColor:u.colors.BLUE_BASE,color:u.colors.WHITE,":hover":{backgroundColor:u.colors.BLUE_BASE}},small:{height:m,width:m,borderColor:"transparent"}}),o.defaultProps={onClick:void 0},i);t.default=y;t.CIRCLE_SIZE=v;t.CIRCLE_SIZE_SMALL=m},321:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=300;var o={errors:{controlled:"A component is changing a react-medium-image-zoom component from a controlled component to an uncontrolled one. ImageZoom elements should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled image zoom element for the lifetime of the component.",uncontrolled:"A component is changing a react-medium-image-zoom component from an uncontrolled component to a controlled one. ImageZoom elements should not switch from uncontrolled to controlled (or vice versa). Decide between using a controlled or uncontrolled image zoom element for the lifetime of the component."},styles:{image:{cursor:"zoom-in"},zoomImage:{cursor:"zoom-out",position:"absolute",transition:"transform "+r+"ms",transform:"translate3d(0, 0, 0) scale(1)",transformOrigin:"center center",willChange:"transform, top, left"},zoomContainer:{position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:999},overlay:{position:"absolute",top:0,right:0,bottom:0,left:0,backgroundColor:"#fff",opacity:0,transition:"opacity "+r+"ms"}},transitionDuration:r};t.default=o},489:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=t.createPortalContainer=function e(t){var n=document.createElement(t);document.body.appendChild(n);return n};var o=t.removePortalContainer=function e(t){document.body.removeChild(t)};var i=t.fetchImage=function e(t,n){var r=t.src,o=t.srcSet,i=t.sizes;var a=new Image;var l=function e(){n(a);a.removeEventListener("load",e)};a.addEventListener("load",l);a.src=r;o&&(a.srcset=o);i&&(a.sizes=i)};var a=t.getScale=function e(t){var n=t.width,r=t.height,o=t.zoomMargin;var i=window.innerWidth/(n+o);var a=window.innerHeight/(r+o);return Math.min(i,a)};var l=t.getMaxDimensionScale=function e(t){var n=t.width,r=t.height,o=t.naturalWidth,i=t.naturalHeight,l=t.zoomMargin;var s=a({width:o,height:i,zoomMargin:l});var u=o>i?o/n:i/r;return s>1?u:s*u};var s=t.isMaxDimension=function e(t){return t.clientWidth>=t.naturalWidth||t.clientHeight>=t.naturalHeight}},860:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TableCellPlaceholder=t.BlockTableCell=t.BlockTableRow=t.BlockTable=void 0;var r=n(2246);t.BlockTable=r.BlockTable;t.BlockTableRow=r.BlockTableRow;t.BlockTableCell=r.BlockTableCell;t.TableCellPlaceholder=r.TableCellPlaceholder},864:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.EmbedLink=t.EmbedImage=t.EmbedIframe=t.EmbedEditLayer=t.ImageFrame=t.CaptionInput=t.BlockEmbed=void 0;var r=n(2258);var o=y(r);var i=n(885);var a=y(i);var l=n(883);var s=y(l);var u=n(2919);var c=y(u);var f=n(2921);var d=y(f);var p=n(2922);var h=y(p);var v=n(2920);var m=y(v);function y(e){return e&&e.__esModule?e:{default:e}}t.BlockEmbed=o.default;t.CaptionInput=a.default;t.ImageFrame=s.default;t.EmbedEditLayer=c.default;t.EmbedIframe=d.default;t.EmbedImage=h.default;t.EmbedLink=m.default},883:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o,i;var a=n(0);var l=h(a);var s=n(2);var u=n(1);var c=n(14);var f=n(2304);var d=p(f);function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function v(e,t){var n={};for(var r in e){if(t.indexOf(r)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,r))continue;n[r]=e[r]}return n}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=(i=o=function(e){b(t,e);function t(){m(this,t);return y(this,e.apply(this,arguments))}t.prototype.render=function e(){var n=t.STYLES;var o=this.props,i=o.children,a=o.readOnly,f=o.inTable,p=o.justifyContent,h=o.styles,m=o.selected,y=v(o,["children","readOnly","inTable","justifyContent","styles","selected"]);return l.createElement(c.CDNUrl,{url:this.props.src},function(e){var t={src:e,className:(0,s.css)(n.frameImgTag)};return l.createElement(u.View,{styles:[n.frameWrapper],style:{justifyContent:p}},l.createElement(u.View,r({styles:[n.imageFrame,!a&&n.hoverable,m&&n.selected,f&&n.noPadding,f&&n.noMargin,h]},y),a?l.createElement(d.default,{image:t,shouldRespectMaxDimension:true}):l.createElement("img",r({alt:""},t)),i))})};return t}(l.Component),o.defaultProps={styles:[],selected:false,readOnly:true,inTable:false,justifyContent:"center"},o.STYLES=s.StyleSheet.create({frameImgTag:{display:"block",maxWidth:"100%",maxHeight:"60vh",margin:"0px auto"},imageFrame:{transition:"outline 0.2s",outline:"solid 3px transparent"},hoverable:{":hover":{outline:"solid 3px "+u.colors.BLUE_LIGHTER}},selected:{outline:"solid 3px "+u.colors.BLUE_BASE,":hover":{outline:"solid 3px "+u.colors.BLUE_BASE}},frameWrapper:{display:"flex"},noMargin:{margin:0},noPadding:{padding:0}}),i);t.default=g},884:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r={keys:["Enter"],keyCode:13};var o={keys:["Tab"],keyCode:9};var i={keys:[" "],keyCode:32};var a={keys:["Escape","Esc"],keyCode:27};var l=function e(t){var n=t.keyCode,r=t.keys;return function(e){return e.keyCode?e.keyCode===n:-1!==r.indexOf(e.key)}};var s=t.isEnterOrSpaceBarKey=function e(t){return l(r)(t)||c(t)};var u=t.isTabKey=l(o);var c=t.isSpaceBarKey=l(i);var f=t.isEscapeKey=l(a)},885:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r,o;var i=n(0);var a=d(i);var l=n(4);var s=d(l);n(40);var u=n(2);var c=n(1);var f=n(3);function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e;return t}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=(o=r=function(e){v(t,e);function t(n){p(this,t);var r=h(this,e.call(this,n));r.onBlur=function(){var e=r.props,t=e.node,n=e.editor;var o=r.state.value;var i=t.data.get("caption","");o!==i&&f.Edition.onChange(n,function(e){return e.setNodeByKey(t.key,{data:t.data.merge({caption:o})})})};r.onChange=function(e){r.setState({value:e.target.value})};r.onKeyDown=function(e){var t=r.props,n=t.editor,o=t.node;var i=r.state.value;if("Enter"!==e.key)return;f.Edition.onChange(n,function(e){var t=e.value.document;var n=t.getParent(o.key);var r=n.nodes.findIndex(function(e){return e.key===o.key});var a=o.data.get("caption","");var l=s.Block.create({type:f.DOC_BLOCKS.PARAGRAPH,nodes:[s.Text.create("")]});i!==a&&e.setNodeByKey(o.key,{data:o.data.merge({caption:i})});return e.insertNodeByKey(n.key,r+1,l).moveToRangeOf(l).focus()})};r.onClick=function(e){e.stopPropagation()};r.state={value:n.node.data.get("caption","")};return r}t.prototype.componentWillReceiveProps=function e(t){var n=this.props.node.data.get("caption","");var r=t.node.data.get("caption","");n!==r&&this.setState({value:r})};t.prototype.render=function e(){var n=this;var r=t.STYLES;var o=this.props,i=o.readOnly,l=o.placeholder,s=o.justifyContent;var f=this.state.value;if(i&&!f)return null;return a.createElement("figcaption",{className:(0,u.css)(r.caption),style:{justifyContent:s}},a.createElement(c.Text.TextH400,{style:{maxWidth:"100%"}},i?f:a.createElement(c.AutosizeInput,{ref:function e(t){n.inputRef=t},value:f,onClick:this.onClick,onChange:this.onChange,onBlur:this.onBlur,onKeyDown:this.onKeyDown,placeholder:l,style:{display:"inline-flex",maxWidth:"100%"},inputClassName:(0,u.css)(r.captionInput)})))};return t}(a.Component),r.defaultProps={justifyContent:"center"},r.STYLES=u.StyleSheet.create({caption:{padding:c.spacing.S100+"px 0",margin:0,display:"flex",color:c.colors.GREY_BASE,width:"100%",wordBreak:"normal",overflow:"hidden"},captionInput:{border:"none",outline:"none",maxWidth:"100%",padding:0,color:c.colors.GREY_BASE,textAlign:"left","::placeholder":{color:c.colors.GREY_BASE}}}),o);t.default=m},893:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(6);var o=n(232);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=5;var u="lastTabsSelectedByUser";var c=function(e){l(t,e);function t(){i(this,t);var n=a(this,e.call(this));n.state={activeKeys:(0,r.Map)(),activeTitles:n.readActiveTitles()};return n}t.prototype.readActiveTitles=function e(){try{var t=window.localStorage.getItem(u);if(null!==t){var n=JSON.parse(t);return(0,r.OrderedSet)(n)}}catch(e){}return(0,r.OrderedSet)()};t.prototype.writeActiveTitles=function e(t){try{window.localStorage.setItem(u,JSON.stringify(t.toArray()))}catch(e){}};t.prototype.selectTab=function e(t,n){var r=this.state,o=r.activeKeys,i=r.activeTitles;var a=n.data.get("title");this.setState({activeKeys:o.set(t.key,n.key),activeTitles:a?i.delete(a).add(a).slice(-s):i});this.writeActiveTitles(this.state.activeTitles)};t.prototype.getSelectedTabFor=function e(t,n,r){var o=r.readOnly;return!o&&this.getEditSelectedTab(t,n)||this.getSelectedTabByUser(n)||o&&this.getMatchingTabByTitle(n)||n.nodes.first()};t.prototype.getEditSelectedTab=function e(t,n){if(!t.selection.isFocused)return;return n.nodes.find(function(e){return t.selection.hasAnchorIn(e)||t.selection.hasFocusIn(e)})};t.prototype.getSelectedTabByUser=function e(t){var n=this.state.activeKeys;var r=n.get(t.key);return r?t.nodes.find(function(e){return e.key==r}):void 0};t.prototype.getMatchingTabByTitle=function e(t){var n=this.state.activeTitles.toList();return t.nodes.map(function(e){var t=e.data.get("title");return{node:e,score:n.indexOf(t)}}).filter(function(e){var t=e.score;return t>=0}).sortBy(function(e){var t=e.score;return-t}).map(function(e){var t=e.node;return t}).first()};t.prototype.isTabSelected=function e(t,n,r){var o=r.readOnly;var i=t.document;var a=i.getParent(n.key);if(!a)return false;return this.getSelectedTabFor(t,a,{readOnly:o}).key==n.key};return t}(o.Container);t.default=c}});