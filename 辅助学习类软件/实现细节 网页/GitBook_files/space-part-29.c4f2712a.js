webpackJsonp([16],{132:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.TeamMembership=t.Team=t.MigrationBook=t.MigrationStatus=t.OrgUsage=t.BillingAddress=t.BillingCard=t.BillingConfig=t.SAMLIdP=t.SlackChannel=t.SlackIntegration=t.DocumentStats=t.Version=t.SpaceLink=t.Config=t.GitHubCommitState=t.BlobMetadata=t.Asset=t.SectionSearchResult=t.PageSearchResult=t.UserSearchResult=t.AuthUser=t.GitHubFileState=t.Page=t.PageRedirect=t.UserMembership=t.Invite=t.CustomDomain=t.OrgSpace=t.OrgBaseDomain=t.GitHubSyncTask=t.GitHubSyncStatus=t.GitHubConfig=t.UserPageRating=t.PageRating=t.Membership=t.Draft=t.Revision=t.User=t.Space=t.Organization=t.deserialize=t.assertUid=void 0;var n;var a=r(27);Object.keys(a).forEach(function(e){if("default"===e||"__esModule"===e)return;Object.defineProperty(t,e,{enumerable:true,get:function t(){return a[e]}})});var o=r(582);var i=Re(o);var l=r(368);var u=Re(l);var s=r(1369);var c=Re(s);var f=r(388);var p=Re(f);var d=r(647);var v=Re(d);var m=r(648);var h=Re(m);var g=r(709);var y=Re(g);var b=r(1523);var E=Re(b);var S=r(1542);var _=Re(S);var P=r(1543);var O=Re(P);var w=r(1544);var C=Re(w);var M=r(583);var T=Re(M);var D=r(593);var I=Re(D);var A=r(1545);var j=Re(A);var R=r(389);var L=Re(R);var k=r(716);var x=Re(k);var B=r(717);var N=Re(B);var F=r(367);var H=Re(F);var G=r(595);var V=Re(G);var U=r(715);var Y=Re(U);var W=r(650);var z=Re(W);var K=r(651);var q=Re(K);var $=r(1546);var Q=Re($);var X=r(366);var J=Re(X);var Z=r(713);var ee=Re(Z);var te=r(714);var re=Re(te);var ne=r(1547);var ae=Re(ne);var oe=r(1548);var ie=Re(oe);var le=r(649);var ue=Re(le);var se=r(605);var ce=Re(se);var fe=r(1549);var pe=Re(fe);var de=r(719);var ve=Re(de);var me=r(1550);var he=Re(me);var ge=r(1551);var ye=Re(ge);var be=r(722);var Ee=Re(be);var Se=r(721);var _e=Re(Se);var Pe=r(1552);var Oe=Re(Pe);var we=r(1553);var Ce=Re(we);var Me=r(723);var Te=Re(Me);var De=r(1554);var Ie=Re(De);var Ae=r(594);var je=Re(Ae);function Re(e){return e&&e.__esModule?e:{default:e}}var Le=(n={},n[y.default.KIND]=y.default,n[h.default.KIND]=h.default,n[v.default.KIND]=v.default,n[i.default.KIND]=i.default,n[T.default.KIND]=T.default,n[I.default.KIND]=I.default,n[ie.default.KIND]=ie.default,n[ae.default.KIND]=ae.default,n[j.default.KIND]=j.default,n[x.default.KIND]=x.default,n[V.default.KIND]=V.default,n[Y.default.KIND]=Y.default,n[H.default.KIND]=H.default,n[J.default.KIND]=J.default,n[ee.default.KIND]=ee.default,n[c.default.KIND]=c.default,n[pe.default.KIND]=pe.default,n[he.default.KIND]=he.default,n[ye.default.KIND]=ye.default,n[Oe.default.KIND]=Oe.default,n[Ce.default.KIND]=Ce.default,n[Ie.default.KIND]=Ie.default,n);function ke(e,t){var r=Le[e];if(!r)throw new Error('Model with kind "'+e+'" does not exist');return r.deserialize(t)}function xe(e){return"string"==typeof e?e:e.uid}t.assertUid=xe;t.deserialize=ke;t.Organization=i.default;t.Space=ee.default;t.User=y.default;t.Revision=h.default;t.Draft=v.default;t.Membership=T.default;t.PageRating=ae.default;t.UserPageRating=ie.default;t.GitHubConfig=j.default;t.GitHubSyncStatus=x.default;t.GitHubSyncTask=N.default;t.OrgBaseDomain=V.default;t.OrgSpace=Y.default;t.CustomDomain=H.default;t.Invite=J.default;t.UserMembership=I.default;t.PageRedirect=c.default;t.Page=u.default;t.GitHubFileState=p.default;t.AuthUser=E.default;t.UserSearchResult=_.default;t.PageSearchResult=O.default;t.SectionSearchResult=C.default;t.Asset=z.default;t.BlobMetadata=q.default;t.GitHubCommitState=L.default;t.Config=Q.default;t.SpaceLink=re.default;t.Version=ue.default;t.DocumentStats=ce.default;t.SlackIntegration=pe.default;t.SlackChannel=ve.default;t.SAMLIdP=he.default;t.BillingConfig=ye.default;t.BillingCard=_e.default;t.BillingAddress=Ee.default;t.OrgUsage=Oe.default;t.MigrationStatus=Ce.default;t.MigrationBook=Te.default;t.Team=Ie.default;t.TeamMembership=je.default},1555:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.DocumentsIndex=t.WorkingState=t.WorkingChange=void 0;var n=r(1556);var a=m(n);var o=r(1557);var i=m(o);var l=r(724);var u=m(l);var s=r(725);var c=m(s);var f=r(1559);var p=m(f);var d=r(407);var v=m(d);function m(e){return e&&e.__esModule?e:{default:e}}var h={compare:a.default,merge:u.default,walk:i.default};t.default=h;t.WorkingChange=c.default;t.WorkingState=p.default;t.DocumentsIndex=v.default},161:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n={READER:"reader",WRITER:"writer",REVIEWER:"reviewer",ADMIN:"admin"};t.default=n},1941:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.mockedEditorState=t.mockedDocument=void 0;var n=r(4);var a=l(n);var o=r(3);var i=r(1);function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}var u=0;function s(){u+=1;return""+u}var c=a.Document.create({key:s(),nodes:[a.Block.create({key:s(),type:o.DOC_BLOCKS.HEADING_1,nodes:[a.Text.create({key:s(),leaves:[{text:i.Text.transformStringToPlaceholder("Lorem Ipsum")}]})]}),a.Block.create({key:s(),type:o.DOC_BLOCKS.PARAGRAPH,nodes:[a.Text.create({key:s(),leaves:[{text:i.Text.transformStringToPlaceholder("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.")}]})]}),a.Block.create({key:s(),type:o.DOC_BLOCKS.HEADING_1,nodes:[a.Text.create({key:s(),leaves:[{text:i.Text.transformStringToPlaceholder("Finibus Bonorum et Malorum")}]})]}),a.Block.create({key:s(),type:o.DOC_BLOCKS.PARAGRAPH,nodes:[a.Text.create({key:s(),leaves:[{text:i.Text.transformStringToPlaceholder("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.")}]})]})]});var f=o.Edition.createValue(c);t.mockedDocument=c;t.mockedEditorState=f},1993:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var a;var o=r(0);var i=g(o);var l=r(13);var u=r(1);var s=r(820);var c=g(s);var f=r(303);var p=g(f);var d=r(304);var v=g(d);var m=r(821);var h=g(m);function g(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=(0,h.default)(a=function(e){S(t,e);function t(){b(this,t);return E(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.toRevision,a=t.toDraft,o=t.toPrimary,s=t.toVersion,f=t.toPrimaryVersion,d=t.toRootPage,m=t.toPage,h=t.toComments,g=t.toComment,b=t.unstyled,E=t.contentContext,S=t.toAnchor,_=y(t,["toRevision","toDraft","toPrimary","toVersion","toPrimaryVersion","toRootPage","toPage","toComments","toComment","unstyled","contentContext","toAnchor"]);delete _.history;delete _.match;delete _.location;delete _.staticContext;delete _.contentPath;delete _.navigate;var P={toRevision:r,toDraft:a,toPrimary:o,toVersion:s,toPrimaryVersion:f,toRootPage:d,toPage:m,toComments:h,toComment:g,toAnchor:S};var O=(0,p.default)(E,P);var w=(0,v.default)(O);(0,c.default)(w)||(_.rel="nofollow");if(b)return i.default.createElement(l.Link,n({to:O},_));return i.default.createElement(u.Link,n({component:l.Link,to:O},_))};return t}(i.default.Component))||a;t.default=_},1994:function(e,t,r){"use strict";e.exports=function(e,t){t=t||{};var r=t.cacheKey||function(e){if(1===arguments.length&&(null===e||void 0===e||"function"!==typeof e&&"object"!==typeof e))return e;return JSON.stringify(arguments)};var n=function(){var a=n.__cache__;var o=r.apply(null,arguments);if(a.has(o)){var i=a.get(o);if("number"!==typeof t.maxAge||Date.now()<i.maxAge)return i.data}var l=e.apply(null,arguments);a.set(o,{data:l,maxAge:Date.now()+(t.maxAge||0)});return l};n.displayName=e.displayName||e.name;n.__cache__=t.cache||new Map;return n}},1995:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(304);var a=i(n);var o=r(303);function i(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=(0,a.default)(e);var r=(0,o.toRoute)(t);var n=decodeURI(r);if(n===e)return null;return n}t.default=l},1996:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n;var a=r(0);var o=v(a);var i=r(26);var l=v(i);var u=r(12);var s=r(2);var c=r(14);var f=r(1);var p=r(822);var d=v(p);function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=s.StyleSheet.create({body:{margin:"0px auto",marginTop:50,maxWidth:400,width:"100%",padding:f.boxes.PADDING_NORMAL},pageTitle:{margin:0,padding:0,marginBottom:f.boxes.PADDING_NORMAL,fontSize:f.font.SIZE_XLARGE,fontWeight:f.font.WEIGHT_NORMAL},pageP:{margin:0,padding:0,marginBottom:f.boxes.PADDING_NORMAL,fontSize:f.font.SIZE_MEDIUM},pageHR:{margin:0,padding:0,marginBottom:f.boxes.PADDING_NORMAL,border:"none",borderTop:"1px solid "+f.colors.BORDER_NORMAL}});var b=(0,u.injectIntl)(n=function(e){g(t,e);function t(){m(this,t);return h(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props.intl;return o.default.createElement(c.Static403,null,o.default.createElement("div",{className:(0,s.css)(y.body)},o.default.createElement(l.default,{title:t.formatMessage({id:"NeedLogin.title",defaultMessage:"Sign in required"})}),o.default.createElement("h1",{className:(0,s.css)(y.pageTitle)},o.default.createElement(u.FormattedMessage,{id:"NeedLogin.infoTitle",defaultMessage:"Restricted access"})),o.default.createElement("p",{className:(0,s.css)(y.pageP)},o.default.createElement(u.FormattedMessage,{id:"NeedLogin.info",defaultMessage:"The access to this page is restricted."})),o.default.createElement("p",{className:(0,s.css)(y.pageP)},o.default.createElement(d.default,null,o.default.createElement(u.FormattedMessage,{id:"NeedLogin.signIn",defaultMessage:"Sign in to an account with required permission"})))))};return t}(o.default.Component))||n;t.default=b},1997:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,a,o;var i=r(0);var l=g(i);var u=r(26);var s=h(u);var c=r(12);var f=r(2);r(3);var p=r(14);var d=r(1);var v=r(7);var m=r(458);function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=(0,c.injectIntl)(n=(o=a=function(e){E(t,e);function t(){y(this,t);return b(this,e.apply(this,arguments))}t.prototype.render=function e(){var r=t.STYLES;var n=this.props,a=n.org,o=n.intl;return l.createElement(p.Static403,null,l.createElement(l.Fragment,null,l.createElement(s.default,{title:o.formatMessage({id:"AccessDeniedForSpace.pageTitle",defaultMessage:"Access Denied"})}),l.createElement(d.Modal,null,l.createElement(d.Modal.Header,{styles:[r.header]},l.createElement(d.Modal.Title,{styles:[r.headerTitle]},l.createElement(c.FormattedMessage,{id:"AccessDeniedForSpace.title",defaultMessage:"This space is private"})),l.createElement(d.View,{styles:[r.gitbookLogo]},l.createElement(v.Logo,null))),l.createElement(d.Modal.Body,null,l.createElement(d.View,{styles:[d.View.MARGIN.S200Bottom]},l.createElement(d.Text,null,l.createElement(c.FormattedMessage,{id:"AccessDeniedForSpace.help",defaultMessage:"You are not a member of the {name} organization, or you don't have permissions to access this space.",values:{name:l.createElement("b",null,a.name)}}))),l.createElement(d.View,null,l.createElement(d.Text,null,l.createElement(c.FormattedMessage,{id:"AccessDeniedForSpace.wantIn",defaultMessage:"Want in? Ask an {name}'s administrator to grant you access, or {link}.",values:{name:l.createElement("b",null,a.name),link:l.createElement(m.WebsiteLink,{to:"/login/?token=signout"},l.createElement(c.FormattedMessage,{id:"AccessDeniedForSpace.switchLink",defaultMessage:"log in with another account"}))}})))))))};return t}(l.Component),a.STYLES=f.StyleSheet.create({header:{display:"flex",flexDirection:"row",alignItems:"center"},headerTitle:{flex:1},gitbookLogo:{fontSize:"42px",color:d.colors.BLUE_BASE}}),o))||n;t.default=S},1999:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,a,o,i,l,u,s;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var f=r(0);var p=I(f);var d=r(5);var v=r(2);var m=r(12);var h=r(14);var g=r(1);var y=r(145);var b=D(y);var E=r(19);var S=r(824);var _=I(S);var P=r(2129);var O=D(P);var w=r(2130);var C=D(w);var M=r(2131);var T=D(M);function D(e){return e&&e.__esModule?e:{default:e}}function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function R(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var L=function e(t){return p.createElement(E.WebsiteLink,c({component:"a"},t))};var k=(n=(0,d.connect)(function(e){var t=e.org,r=e.space,n=e.user,a=e.membership,o=e.userCanAdmin,i=e.userCanEdit,l=e.userIsSiteAdmin,u=e.userIsOrgAdmin;return{org:t,space:r,user:n,isMember:Boolean(a),userCanAdmin:o,userCanEdit:i,userIsSiteAdmin:l,userIsOrgAdmin:u}}),a=g.Skeleton.connectToSkeleton(),n(o=a(o=(l=i=function(e){R(t,e);function t(){A(this,t);return j(this,e.apply(this,arguments))}t.prototype.render=function e(){var r=t.STYLES;var n=this.props,a=n.styles,o=n.active,i=n.isModal,l=n.isLoading,u=n.dispatch,s=n.org,c=n.space,f=n.user,d=n.isMember,v=n.userIsSiteAdmin,y=n.userIsOrgAdmin,E=n.userCanAdmin,S=n.userCanEdit;var P=(y||l)&&_.TABS.orgAdmin||(E||l)&&_.TABS.admin||S&&_.TABS.writer||[];return p.createElement(g.ColorPalette.Brand,null,p.createElement(g.PlaceholderPalette.Dark,null,p.createElement(g.TabsPage.Side,{sticky:!i,wrapperStyles:[a],styles:[r.sideBar]},p.createElement(g.Scrollable,{styles:[r.sideScroll]},p.createElement(g.TabsPage.Breadcrumb,{component:L,to:"/",target:"_blank"},(d||v)&&p.createElement(p.Fragment,null,p.createElement(g.TabsPage.Breadcrumb.Item,{title:s.name,component:L,to:"/@"+s.baseDomain+"/spaces",target:"_blank"},s.name),p.createElement(g.TabsPage.Breadcrumb.Item,{title:c.name},c.name))),p.createElement(g.TabsPage.TabSeparator,null),p.createElement(C.default,{user:f,dispatch:u}),p.createElement(g.TabsPage.TabSeparator,null),p.createElement(g.TabsPage.TabsGroup,null,P.map(function(e){var t=e.id,r=e.Icon,n=e.defaultTitle;return p.createElement(g.TabsPage.Tab,{key:t,modal:i,to:t===o?b.default.SETTINGS:b.default.SETTINGS+"/"+t,component:h.ModalLink,active:t===o,icon:p.createElement(r,null)},p.createElement(m.FormattedMessage,{id:"SettingsNavigation."+t,defaultMessage:n}))})),!l&&p.createElement(T.default,{org:s,userID:f.uid})),!i&&p.createElement(g.View,{styles:[r.sideFooter]},p.createElement(O.default,null)))))};return t}(p.Component),i.defaultProps={styles:null},i.STYLES=v.StyleSheet.create({sideBar:{height:"100%",maxHeight:"100%",display:"flex",flexDirection:"column",padding:"0px !important"},sideScroll:(u={flex:"1 1 auto",overflowY:"auto",overflowX:"hidden",padding:g.spacing.S200},u["@media "+g.MEDIA.MOBILE_LANDSCAPE]={paddingRight:g.spacing.S300,paddingLeft:g.spacing.S300},u),sideFooter:(s={padding:g.spacing.S100,paddingRight:g.spacing.S200,paddingLeft:g.spacing.S200},s["@media "+g.MEDIA.MOBILE_LANDSCAPE]={paddingRight:g.spacing.S300,paddingLeft:g.spacing.S300},s)}),l))||o)||o);t.default=k},2001:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,a;var o=r(0);var i=_(o);var l=r(26);var u=S(l);var s=r(5);r(3);var c=r(1);var f=r(2002);var p=S(f);var d=r(2003);var v=S(d);var m=r(2004);var h=S(m);var g=r(2005);var y=S(g);var b=r(2040);var E=S(b);function S(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=(n=(0,s.connect)(function(e){var t=e.space;return{space:t}}),n(a=function(e){w(t,e);function t(){P(this,t);return O(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props.space;var r="Setup your space to reflect your brand's identity";return i.createElement(i.Fragment,null,i.createElement(u.default,null,i.createElement("title",null,"General"),i.createElement("meta",{name:"description",content:r})),i.createElement(c.TabsPage.Header,null,i.createElement(c.TabsPage.Header.Title,null,"Customize Your Space"),i.createElement(c.TabsPage.Header.Desc,null,r)),i.createElement(p.default,{space:t}),i.createElement(v.default,{space:t}),i.createElement(h.default,{space:t}),i.createElement(y.default,{space:t}),i.createElement(E.default,{space:t}))};return t}(i.Component))||a);t.default=C},2002:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,a,o,i,l,u,s;var c=r(0);var f=g(c);var p=r(5);var d=r(2);var v=r(1);var m=r(14);var h=r(10);function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function y(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var i=t[a](o);var l=i.value}catch(e){r(e);return}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}return n("next")})}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=(n=(0,p.connect)(),n(a=(i=o=function(e){S(t,e);function t(){var r=this;var n,a,o;b(this,t);for(var i=arguments.length,l=Array(i),u=0;u<i;u++)l[u]=arguments[u];return o=(n=(a=E(this,e.call.apply(e,[this].concat(l))),a),a.state={loading:false,error:null},a.onSelectFile=function(){a.uploader&&m.FileUploader.promptFile(a.uploader)},a.onFiles=function(){var e=y(regeneratorRuntime.mark(function e(t){var n,o,i;return regeneratorRuntime.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:n=a.props,o=n.dispatch,i=n.space;a.setState({loading:true,error:null});r.prev=2;r.next=5;return o(h.Flux.space.uploadLogo(i,t[0]));case 5:r.next=10;break;case 7:r.prev=7;r.t0=r["catch"](2);a.setState({error:r.t0});case 10:r.prev=10;a.setState({loading:false});return r.finish(10);case 13:case"end":return r.stop()}},e,r,[[2,7,10,13]])}));return function(t){return e.apply(this,arguments)}}(),n),E(a,o)}t.prototype.componentWillReceiveProps=function e(t){if(t.space.logoURL===this.props.space.logoURL)return;this.setState({loading:false})};t.prototype.render=function e(){var r=this;var n=t.STYLES;var a=this.props.space;var o=this.state,i=o.loading,l=o.error;return f.createElement(v.Panel,null,f.createElement(v.Panel.Header,null,f.createElement(v.Panel.Header.Title,null,"Logo")),f.createElement(v.Panel.Body,null,l&&f.createElement(v.Alert,{styles:[v.Alert.STYLES.danger]},"Please upload an image that is less than 5MB."),f.createElement(m.FileUploader,{ref:function e(t){r.uploader=t},onFiles:this.onFiles,accept:"image/*"}),f.createElement("div",{className:(0,d.css)(n.container)},i?f.createElement("div",{className:(0,d.css)(n.logoLoading)},f.createElement(v.Loading,null)):f.createElement("div",{className:(0,d.css)(n.logoWrapper)},f.createElement(m.SpaceAvatar,{space:a,styles:[m.SpaceAvatar.STYLES.sizeXL,n.logo],onClick:this.onSelectFile})),f.createElement("div",{className:(0,d.css)(n.contentWrapper)},f.createElement(v.Button,{kind:"secondary",onClick:this.onSelectFile,disabled:i},"Upload Logo"),f.createElement(v.Form.Hint,null,"Logo appearing on the left side of the header."),f.createElement(v.Form.Hint,null,f.createElement("b",null,"Some tips:")," Use a graphical logo or image rather than text and upload an image that is 132px square or larger.")))))};return t}(f.Component),o.STYLES=d.StyleSheet.create({container:(l={display:"flex",flexDirection:"column"},l["@media "+v.MEDIA.TABLET]={flexDirection:"row"},l),logoWrapper:(u={marginBottom:v.boxes.PADDING_SMALL},u["@media "+v.MEDIA.TABLET]={marginBottom:0},u),logoLoading:{width:94,height:94,fontSize:32,display:"flex",alignItems:"center",justifyContent:"center",color:v.colors.BLUE_BASE},logo:{cursor:"pointer",borderRadius:v.boxes.RADIUS_LARGE},contentWrapper:(s={},s["@media "+v.MEDIA.TABLET]={flex:1,padding:"0px "+v.boxes.PADDING_LARGE+"px"},s)}),i))||a);t.default=_},2003:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,a,o;var i=r(0);var l=f(i);var u=r(5);var s=r(1);var c=r(10);function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=(n=(0,u.connect)(),a=s.Form.withContext({getValueFromProps:function e(t){var r=t.space;return r.name}}),n(o=a(o=function(e){v(t,e);function t(){var r,n,a;p(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=(r=(n=d(this,e.call.apply(e,[this].concat(i))),n),n.onNameChange=function(e){var t=n.props.onChange;var r=e.currentTarget.value;t(r)},n.onSubmit=function(e){var t=n.props,r=t.space,a=t.value,o=t.dispatch;e.preventDefault();o(c.Flux.space.updateName(r,a))},r),d(n,a)}t.prototype.render=function e(){var t=this.props,r=t.value,n=t.hasChanged;return l.createElement(s.ColorPalette.Brand,null,l.createElement(s.Panel,null,l.createElement(s.Panel.Header,null,l.createElement(s.Panel.Header.Title,null,"Name")),l.createElement(s.Form,{onSubmit:this.onSubmit},l.createElement(s.Panel.Body,null,l.createElement(s.Form.Input,{value:r,onChange:this.onNameChange}),l.createElement(s.Form.Hint,null,"Displayed in the header, next to your logo.")),n&&l.createElement(s.Panel.Footer,null,l.createElement(s.Panel.Footer.Controls,null,l.createElement(s.Form.Button,{type:"submit"},"Save Changes"))))))};return t}(l.Component))||o)||o);t.default=m},2004:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,a,o;var i=r(0);var l=p(i);var u=r(5);var s=r(1);var c=r(3);var f=r(10);function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=(n=(0,u.connect)(),a=s.Form.withContext({getValueFromProps:function e(t){var r=t.space;return r.colorPrimary}}),n(o=a(o=function(e){m(t,e);function t(){var r,n,a;d(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=(r=(n=v(this,e.call.apply(e,[this].concat(i))),n),n.onSubmit=function(e){var t=n.props,r=t.space,a=t.value,o=t.dispatch;e.preventDefault();o(f.Flux.space.updateColorPrimary(r,a))},r),v(n,a)}t.prototype.render=function e(){var t=this.props,r=t.value,n=t.hasChanged,a=t.onChange;var o=false===c.Space.validateColor(r)?new Error("Please provide a valid color"):null;return l.createElement(s.ColorPalette.Brand,null,l.createElement(s.Panel,null,l.createElement(s.Panel.Header,null,l.createElement(s.Panel.Header.Title,null,"Primary Color")),l.createElement(s.Form,{onSubmit:this.onSubmit},l.createElement(s.Panel.Body,null,l.createElement(s.Form.Group,{error:o},l.createElement(s.Form.ColorInput,{value:r,onChange:a}),l.createElement(s.Form.Hint,null,"Used to style controls and user interface elements."))),n&&l.createElement(s.Panel.Footer,null,l.createElement(s.Panel.Footer.Controls,null,l.createElement(s.Form.Button,{disabled:!!o,type:"submit"},"Save Changes"))))))};return t}(l.Component))||o)||o);t.default=h},2005:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(2006);Object.defineProperty(t,"default",{enumerable:true,get:function e(){return a(n).default}});function a(e){return e&&e.__esModule?e:{default:e}}},2006:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var a,o,i;var l=r(0);var u=y(l);var s=r(5);var c=r(211);var f=g(c);r(6);var p=r(1);var d=r(3);var v=r(10);var m=r(2007);var h=g(m);function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}var P=(a=(0,s.connect)(),o=p.Form.withContext({getValueFromProps:function e(t){var r=t.space;var n=Array.from({length:d.Space.LINKS_LIMIT-r.links.size}).map(function(){return new d.SpaceLink});return r.links.concat(n)},getPropsFromValue:function e(t){var r=t.value,a=_(t,["value"]);return n({links:r},a)},hasChanged:function e(t,r){if(t.size!==r.size)return true;return r.some(function(e,r){return t.get(r)!==e})}}),a(i=o(i=function(e){S(t,e);function t(){var r,n,a;b(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=(r=(n=E(this,e.call.apply(e,[this].concat(i))),n),n.state={isCollapsed:true,error:null},n.onToggle=function(){n.setState(function(e){var t=e.isCollapsed;return{isCollapsed:!t}})},n.onSubmit=function(e){e.preventDefault();var t=n.props,r=t.space,a=t.links,o=t.dispatch;var i=a.filter(function(e){return e.pageID||e.href||e.title});var l=i.map(function(e){return e.href&&(0,f.default)(e.href)&&!e.href.startsWith("http")?e.merge({href:"https://"+e.href}):e});var u=l.filter(function(e){return!e.isValid});if(u.size>0){n.setState({error:new Error("One or multiple links are invalid")});return}n.setState({error:null},function(){o(v.Flux.space.updateLinks(r,l))})},n.onSortEnd=function(e){var t=n.props,r=t.links,a=t.onChange;var o=e.oldIndex,i=e.newIndex;var l=r.get(o);var u=r.splice(o,1).splice(i,0,l);a(u)},r),E(n,a)}t.prototype.render=function e(){var t=this.props,r=t.links,n=t.onChange,a=t.hasChanged;var o=this.state,i=o.isCollapsed,l=o.error;return u.createElement(p.ColorPalette.Brand,null,u.createElement(p.Panel,null,u.createElement(p.Panel.Header,{onClick:i?this.onToggle:null},u.createElement(p.Panel.Header.Left,null,u.createElement(p.Panel.Header.Title,null,"Header Links")),u.createElement(p.Panel.Header.Right,null,u.createElement(p.Panel.Toggle,{isCollapsed:i,onClick:i?null:this.onToggle}))),!i&&u.createElement(p.Form,{onSubmit:this.onSubmit},u.createElement(p.Panel.Body,null,l&&u.createElement(p.Alert,{styles:[p.Alert.STYLES.danger]},l.message),u.createElement(h.default,{links:r,onChange:n,onSortEnd:this.onSortEnd,useDragHandle:true,lockAxis:"y",lockToContainerEdges:true,lockOffset:[0,0]}),u.createElement(p.Form.Hint,null,"Up to 4 links displayed in the header.")),a&&u.createElement(p.Panel.Footer,null,u.createElement(p.Panel.Footer.Controls,null,u.createElement(p.Form.Button,{type:"submit"},"Save Changes"))))))};return t}(u.Component))||i)||i);t.default=P},2007:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n;var a=r(0);var o=c(a);var i=r(47);r(6);var l=r(3);var u=r(2038);var s=c(u);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=(0,i.SortableContainer)(n=function(e){d(t,e);function t(){var r,n,a;f(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=(r=(n=p(this,e.call.apply(e,[this].concat(i))),n),n.onChangeLink=function(e,t){var r=n.props,a=r.onChange,o=r.links;a(o.set(e,t))},r),p(n,a)}t.prototype.render=function e(){var t=this;var r=this.props.links;return o.default.createElement("div",null,r.map(function(e,r){return o.default.createElement(s.default,{key:r,index:r,link:e,onChange:function e(n){return t.onChangeLink(r,n)}})}))};return t}(o.default.Component))||n;t.default=v},2038:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,a,o,i,l,u;var s=r(0);var c=b(s);var f=r(12);var p=r(47);var d=r(2);var v=r(1);var m=r(7);var h=r(3);var g=r(2039);var y=b(g);function b(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P=d.StyleSheet.create({sortableLink:(n={display:"flex",alignItems:"baseline",marginBottom:v.boxes.PADDING_NORMAL},n["@media "+v.MEDIA.TABLET]={alignItems:"center"},n),sortableLinkGrabber:{cursor:"grab",color:v.colors.TEXT_SECONDARY},sortableLinkInputs:(a={display:"flex",flex:1,flexDirection:"column",padding:"0 "+v.boxes.PADDING_SMALL+"px"},a["@media "+v.MEDIA.TABLET]={flexDirection:"row"},a),sortableLinkTitle:(o={},o["@media "+v.MEDIA.TABLET]={flex:1},o),sortableLinkHref:(i={marginTop:v.boxes.PADDING_SMALL},i["@media "+v.MEDIA.TABLET]={marginTop:0,marginLeft:v.boxes.PADDING_SMALL,flex:1},i),sortableLinkDelete:{cursor:"pointer"},sortableLinkDeleteDisabled:{pointerEvents:"none",visibility:"hidden"}});var O=(0,p.SortableHandle)(l=function(e){_(t,e);function t(){E(this,t);return S(this,e.apply(this,arguments))}t.prototype.render=function e(){return c.default.createElement("div",{className:(0,d.css)(P.sortableLinkGrabber)},c.default.createElement(m.IconGrabberV,null))};return t}(c.default.Component))||l;var w=(0,f.injectIntl)(u=(0,p.SortableElement)(u=function(e){_(t,e);function t(){var r,n,a;E(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=(r=(n=S(this,e.call.apply(e,[this].concat(i))),n),n.onChangeTitle=function(e){var t=n.props,r=t.link,a=t.onChange;a(r.updateTitle(e.currentTarget.value))},n.onDelete=function(){var e=n.props.onChange;e(new h.SpaceLink)},r),S(n,a)}t.prototype.render=function e(){var t=this.props,r=t.intl,n=t.link,a=t.onChange;return c.default.createElement("div",{className:(0,d.css)(P.sortableLink)},c.default.createElement(O,null),c.default.createElement("div",{className:(0,d.css)(P.sortableLinkInputs)},c.default.createElement("div",{className:(0,d.css)(P.sortableLinkTitle)},c.default.createElement(v.Form.Input,{value:n.title,onChange:this.onChangeTitle,placeholder:r.formatMessage({id:"SortableLink.title",defaultMessage:"Link title"})})),c.default.createElement("div",{className:(0,d.css)(P.sortableLinkHref)},c.default.createElement(y.default,{link:n,onChange:a}))),c.default.createElement("div",{role:"button",tabIndex:-1,className:(0,d.css)(P.sortableLinkDelete,!n.title&&!n.href&&!n.pageID&&P.sortableLinkDeleteDisabled),onClick:this.onDelete},c.default.createElement(m.IconTrashcan,null)))};return t}(c.default.Component))||u)||u;t.default=w},2039:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}return function(t,r,n){r&&e(t.prototype,r);n&&e(t,n);return t}}();var a,o,i;var l=r(0);var u=_(l);var s=r(2);var c=r(5);var f=r(12);var p=r(163);var d=_(p);var v=r(3);var m=r(1);var h=r(7);var g=r(10);var y=r(307);var b=_(y);var E=r(460);var S=_(E);function _(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C=s.StyleSheet.create({inputContainer:{position:"relative",width:"100%",marginRight:10},inputIcon:{padding:10},suggestionsContainer:{position:"absolute",top:"100%",zIndex:1,borderTop:"none",borderTopLeftRadius:0,borderTopRightRadius:0,left:"-1px",right:"-1px",width:"auto",marginTop:"-1px",borderColor:m.colors.BLUE_BASE}});var M=(a=(0,c.connect)(function(e){var t=e.space;return{space:t}}),o=g.Connectors.database(function(e){var t=e.space;return{revision:v.Revision.queryByID({spaceID:t.uid,revisionID:t.primaryRevision})}}),a(i=o(i=(0,f.injectIntl)(i=function(e){w(t,e);function t(){P(this,t);var r=O(this,e.call(this));r.onInputChange=function(e){var t=r.props,n=t.link,a=t.onChange;var o=n.updateHref(e.target.value);r.setState({cursor:0},function(){a(o)})};r.onPick=function(e){var t=r.props,n=t.link,a=t.onChange;r.setState({editing:false,cursor:0},function(){r.input&&r.input.blur();a((e instanceof v.Page?n.updatePageID(e.uid):n.updateHref(e.uid)).updateTitle(n.title||e.title))})};r.state={editing:false,cursor:0};return r}t.prototype.render=function e(){var t=this;var r=this.props,n=r.revision,a=r.link,o=r.intl;var i=this.state,l=i.editing,s=i.cursor;var c=this.inputValue;var f=n.primaryVersion;var p=f.page.toFlatArray().filter(function(e){return e.isDocument});return u.default.createElement(m.ColorPalette.Brand,null,u.default.createElement(m.FuzzyFilter,{items:p,fuseConfig:S.default.TREEPAGE,defaultAllItems:false,query:c},function(e){var r=[];(0,d.default)(c)&&(r=[{uid:c,title:c}]);var n=e.slice(0,3).concat(r);return u.default.createElement(m.Form.Input,{inputRef:function e(r){t.input=r},styles:[C.inputContainer],value:c,placeholder:o.formatMessage({id:"LinkAutocomplete.href",defaultMessage:"Enter a page title or URL"}),onFocus:function e(){return t.setState({editing:true})},onBlur:function e(){return t.setState({editing:false})},onKeyDown:m.Completions.onKeyDown({completions:n,cursor:s,onPick:t.onPick,onCursor:function e(r){return t.setState({cursor:r})}}),onChange:t.onInputChange},u.default.createElement(m.Form.InputAddOn,{prefix:true},a.href?u.default.createElement(h.IconLink,null):u.default.createElement(h.IconFile,null)),l&&c&&n.length>0&&u.default.createElement(m.Popover.Card,{styles:[C.suggestionsContainer]},u.default.createElement(m.Completions,{completions:n,onPick:t.onPick,keys:function e(t){var r=t.uid;return r},cursor:s,component:b.default})))}))};n(t,[{key:"inputValue",get:function e(){var t=this.props,r=t.revision,n=t.link;var a=n.href,o=n.pageID;var i=r.primaryVersion;if(a)return a;var l=o?i.page.getByID(o):null;if(l)return l.title;return""}}]);return t}(u.default.Component))||i)||i)||i);t.default=M},2040:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(2041);Object.defineProperty(t,"default",{enumerable:true,get:function e(){return a(n).default}});function a(e){return e&&e.__esModule?e:{default:e}}},2041:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,a;var o=r(0);var i=m(o);var l=r(5);var u=r(1);var s=r(10);var c=r(2042);var f=v(c);var p=r(2043);var d=v(p);function v(e){return e&&e.__esModule?e:{default:e}}function m(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=(n=(0,l.connect)(),n(a=function(e){y(t,e);function t(){var r,n,a;h(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=(r=(n=g(this,e.call.apply(e,[this].concat(i))),n),n.state={visibilitySelected:null},n.onVisibilityChange=function(e){var t=n.props.space;t.visibility!=e&&n.setState({visibilitySelected:e})},n.onConfirm=function(){var e=n.props,t=e.dispatch,r=e.space;var a=n.state.visibilitySelected;a&&t(s.Flux.space.updateVisibility(r,a));n.setState({visibilitySelected:null})},n.onCloseConfirm=function(){n.setState({visibilitySelected:null})},r),g(n,a)}t.prototype.render=function e(){var t=this.props.space;var r=this.state.visibilitySelected;return i.createElement(i.Fragment,null,i.createElement(u.ColorPalette.Brand,null,i.createElement(u.Panel,null,i.createElement(u.Panel.Header,null,i.createElement(u.Panel.Header.Title,null,"Visibility")),i.createElement(u.Panel.Body,null,i.createElement(f.default,{visibility:t.visibility,onChange:this.onVisibilityChange})))),r&&i.createElement(d.default,{visibility:r,onConfirm:this.onConfirm,onClose:this.onCloseConfirm}))};return t}(i.Component))||a);t.default=b},2042:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,a,o,i;var l=r(0);var u=p(l);var s=r(2);var c=r(1);var f=r(7);function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=(a=n=function(e){m(t,e);function t(){d(this,t);return v(this,e.apply(this,arguments))}t.prototype.render=function e(){var r=t.STYLES;var n=this.props,a=n.visibility,o=n.onChange;return u.createElement(c.View,{styles:[r.container]},u.createElement(g,{icon:u.createElement(f.IconGlobe,null),title:"Public",description:"Your public content will be available publicly to anyone.",checked:"public"==a,onSelect:function e(){return o("public")}}),u.createElement(g,{icon:u.createElement(f.IconHide,null),title:"Unlisted",description:"The content will only be visible to those with the link. It won’t be indexed on Google.",checked:"unlisted"==a,onSelect:function e(){return o("unlisted")}}),u.createElement(g,{icon:u.createElement(f.IconLock,null),title:"Private",description:"The content will only be visible to your team and yourself.",checked:"private"==a,onSelect:function e(){return o("private")}}))};return t}(u.Component),n.STYLES=s.StyleSheet.create({container:{display:"grid",gridGap:c.spacing.S300,gridTemplateColumns:"1fr 1fr 1fr"}}),a);var g=(i=o=function(e){m(t,e);function t(){var r,n,a;d(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=(r=(n=v(this,e.call.apply(e,[this].concat(i))),n),n.onStopClick=function(e){e.stopPropagation()},r),v(n,a)}t.prototype.render=function e(){var r=t.STYLES;var n=this.props,a=n.icon,o=n.title,i=n.description,l=n.checked,s=n.onSelect;return u.createElement(c.View,{styles:[r.option]},u.createElement(c.View,{styles:[r.titleWrapper],onClick:s},u.createElement(c.View,{onClick:this.onStopClick},u.createElement(c.Form.Radio,{onChange:s,checked:l})),u.createElement(c.View,{styles:[r.icon]},a),u.createElement(c.View,null,u.createElement(c.Text.UIH400,null,o))),u.createElement(c.View,{styles:[r.description]},u.createElement(c.Text.TextH300,null,i)))};return t}(u.Component),o.STYLES=s.StyleSheet.create({option:{flex:1},titleWrapper:{cursor:"pointer",display:"flex",flexDirection:"row",alignItems:"center"},icon:{color:c.colors.GREY_BASE,marginRight:c.spacing.S100,marginLeft:c.spacing.S200,fontSize:"18px"},description:{marginTop:c.spacing.S100,color:c.colors.GREY_BASE}}),i);t.default=h},2043:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var a=i(n);var o=r(1);function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c={public:{confirm:"PUBLIC",title:"Make this space public",desc:"Make this project visible to anyone, including non organization members and visitors."},unlisted:{confirm:"UNLISTED",title:"Make this space unlisted",desc:"Make this project visible to anyone with the link. The content will not be indexed on Google."},private:{confirm:"PRIVATE",title:"Make this space private",desc:"Make this project only accessible to your organization members, preventing access to any other users."}};var f=function(e){s(t,e);function t(){var r,n,a;l(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return a=(r=(n=u(this,e.call.apply(e,[this].concat(i))),n),n.state={inputValue:""},n.onChange=function(e){n.setState({inputValue:e.target.value})},n.onConfirm=function(){var e=n.props,t=e.visibility,r=e.onConfirm;var a=n.state.inputValue;var o=c[t];o.confirm==a&&r()},r),u(n,a)}t.prototype.render=function e(){var t=this.props,r=t.onClose,n=t.visibility;var i=this.state.inputValue;var l=c[n];return a.createElement(o.Popup,{onClose:r,closeOnEsc:true,closeOnOutsideClick:true},a.createElement(o.Modal,null,a.createElement(o.Modal.Header,null,a.createElement(o.Modal.Title,null,l.title)),a.createElement(o.Modal.Body,null,a.createElement(o.Form.Group,null,l.desc),a.createElement(o.Form.Group,{title:'Please type in "'+l.confirm+'" to confirm'},a.createElement(o.Form.Input,{onChange:this.onChange,value:i}))),a.createElement(o.Modal.Footer,null,a.createElement(o.Button,{kind:"cancel",onClick:r},"Cancel"),a.createElement(o.Button,{disabled:i!==l.confirm,onClick:this.onConfirm},"Yes, I'm sure"))))};return t}(a.Component);t.default=f},2045:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,a;var o=r(0);var i=h(o);var l=r(26);var u=m(l);var s=r(5);r(3);var c=r(1);var f=r(2046);var p=m(f);var d=r(2047);var v=m(d);function m(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function b(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=(n=(0,s.connect)(function(e){var t=e.space,r=e.org;return{space:t,org:r}}),n(a=function(e){b(t,e);function t(){g(this,t);return y(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.space,n=t.org;var a="Domains";var o="Setup domains for more identifiable URLs.";return i.createElement(i.Fragment,null,i.createElement(u.default,null,i.createElement("title",null,a),i.createElement("meta",{name:"description",content:o})),i.createElement(c.TabsPage.Header,null,i.createElement(c.TabsPage.Header.Title,null,a),i.createElement(c.TabsPage.Header.Desc,null,o)),i.createElement(p.default,{space:r,org:n}),i.createElement(v.default,{space:r,org:n}))};return t}(i.Component))||a);t.default=E},2046:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,a;var o=r(0);var i=c(o);var l=r(5);var u=r(10);var s=r(1);r(3);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function f(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var i=t[a](o);var l=i.value}catch(e){r(e);return}if(!i.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}return n("next")})}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=(n=(0,l.connect)(),n(a=function(e){v(t,e);function t(){var r=this;var n,a,o;p(this,t);for(var i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return o=(n=(a=d(this,e.call.apply(e,[this].concat(l))),a),a.onClick=f(regeneratorRuntime.mark(function e(){var t,n,o,i;return regeneratorRuntime.wrap(function e(r){while(1)switch(r.prev=r.next){case 0:t=a.props,n=t.dispatch,o=t.org,i=t.space;r.next=3;return n(u.Flux.auth.redirectToOrg({org:o,pathname:"spaces/"+i.baseName+"/domain"}));case 3:case"end":return r.stop()}},e,r)})),n),d(a,o)}t.prototype.render=function e(){var t=this.props.space;return i.createElement(s.ColorPalette.Brand,null,i.createElement(s.Panel,null,i.createElement(s.Panel.Header,null,i.createElement(s.Panel.Header.Left,null,i.createElement(s.Panel.Header.Title,null,"Custom Domain"),i.createElement(s.Panel.Header.Hint,null,"Setup a custom common for this space."))),t.customDomain?i.createElement(s.Form,null,i.createElement(s.Panel.Body,null,i.createElement(s.Form.Input,{disabled:true,value:t.customDomain},i.createElement(s.Form.InputAddOn,{prefix:true},"https://"))),i.createElement(s.Panel.Footer,null,i.createElement(s.Panel.Footer.Controls,null,i.createElement(s.Form.Button,{kind:"secondary",onClick:this.onClick},"Edit custom domain")))):i.createElement(s.Panel.Body,null,i.createElement(s.Button,{kind:"secondary",onClick:this.onClick},"Add a custom domain"))))};return t}(i.Component))||a);t.default=m},2047:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,a,o,i,l;var u=r(0);var s=v(u);var c=r(5);var f=r(2);var p=r(1);var d=r(10);function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=(n=(0,c.connect)(function(e){var t=e.config;return{config:t}}),a=p.Form.withContext({getValueFromProps:function e(t){var r=t.space;return r.baseName}}),n(o=a(o=(l=i=function(e){g(t,e);function t(){var r,n,a;m(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=(r=(n=h(this,e.call.apply(e,[this].concat(i))),n),n.onBaseNameChange=function(e){var t=n.props.onChange;var r=e.currentTarget.value;t(r)},n.onSubmit=function(e){var t=n.props,r=t.dispatch,a=t.value;var o=n.props.space;e.preventDefault();if(!a)return;r(d.Flux.space.updateBaseName(o,a))},r),h(n,a)}t.prototype.render=function e(){var r=t.STYLES;var n=this.props,a=n.value,o=n.hasChanged,i=n.org,l=n.config;return s.createElement(p.ColorPalette.Brand,null,s.createElement(p.Panel,null,s.createElement(p.Panel.Header,null,s.createElement(p.Panel.Header.Title,null,"GitBook URL")),s.createElement(p.Form,{onSubmit:this.onSubmit},s.createElement(p.Panel.Body,null,s.createElement(p.Form.Input,{value:a,onChange:this.onBaseNameChange},s.createElement(p.Form.InputAddOn,{styles:[r.settingsBaseNameAddOn],prefix:true},i.getSpacesURL(l.domains.spaces)+"/")),s.createElement(p.Form.Hint,null,"You can change your space's URL (web address), but out of courtesy to your teammates and visitors of your space, please don’t do this often :)"),s.createElement(p.Form.Hint,null,"Users accessing the old URLs"," ",s.createElement("b",null,"will not be automatically redirected"),".")),o&&!!a&&s.createElement(p.Panel.Footer,null,s.createElement(p.Panel.Footer.Controls,null,s.createElement(p.Form.Button,{type:"submit"},"Save Changes"))))))};return t}(s.Component),i.STYLES=f.StyleSheet.create({settingsBaseNameAddOn:{whiteSpace:"nowrap"}}),l))||o)||o);t.default=y},2050:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n="\n        query analytics($orgID: String!, $id: String!, $startAt: String, $endAt: String) {\n              space(orgID: $orgID, id: $id) {\n                analytics{\n                  content(startAt: $startAt, endAt: $endAt){\n                    pages {\n                      users\n                      avgTimeOnPage\n                      pageViews\n                      pageID\n                    }\n                  }\n                }\n              }\n            }\n        ";t.default=n},2051:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var a=i(n);var o=r(1);function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(e){s(t,e);function t(){l(this,t);return u(this,e.apply(this,arguments))}t.prototype.render=function e(){return a.createElement(a.Fragment,null,a.createElement(o.Panel,null,a.createElement(o.Panel.Body,{styles:[o.Panel.Body.STYLES.noBorder]},a.createElement(o.PieChart.Placeholder,null))),a.createElement(o.View,{styles:[o.View.PADDING.S200Top]},a.createElement(o.Panel.DataGrid.Placeholder,{columns:4})))};return t}(a.Component);t.default=c},2052:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var a=c(n);var o=r(12);r(6);var i=r(1);var l=r(2053);var u=s(l);function s(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=function(e){d(t,e);function t(){var r,n,a;f(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=(r=(n=p(this,e.call.apply(e,[this].concat(i))),n),n.state={activeSlice:null,hoverSlice:null},n.onClickSlice=function(e){n.setState(function(t){var r=t.activeSlice;return{activeSlice:r&&r.type===e.type?null:e}})},n.onHoverSlice=function(e){n.setState({hoverSlice:e})},r),p(n,a)}t.prototype.render=function e(){var t=this;var r=this.props,n=r.pagesWithRating,l=r.slices;var s=this.state.activeSlice?n.filter(function(e){return e.type===t.state.activeSlice.type}):n;var c=this.state.activeSlice||this.state.hoverSlice;var f=l.reduce(function(e,t){return e+t.value},0);return a.createElement(a.Fragment,null,a.createElement(i.Panel,null,a.createElement(i.Panel.Body,{styles:[i.Panel.Body.STYLES.noBorder]},a.createElement(i.PieChart,null,a.createElement(i.PieChart.Donut,{slices:l,activeSlice:c,onClickSlice:this.onClickSlice,onHoverSlice:this.onHoverSlice},a.createElement(i.PieChart.DonutValue,null,c?c.value:f),a.createElement(i.PieChart.DonutLabel,null,c?a.createElement(o.FormattedMessage,{id:"PagesInsights.outOfTotal",defaultMessage:"/ {value} {value, plural, one {page} other {pages}}",values:{value:c.value}}):a.createElement(o.FormattedMessage,{id:"PagesInsights.unit",defaultMessage:"{value, plural, one {page} other {pages}}",values:{value:f}}))),a.createElement(i.PieChart.Description,null,l.map(function(e){return a.createElement(i.PieChart.DescriptionLine,{key:e.type,onClick:function r(){return t.onClickSlice(e)},onMouseEnter:function r(){return t.onHoverSlice(e)},onMouseLeave:function e(){return t.onHoverSlice(null)},isActive:c&&c.type===e.type},a.createElement(o.FormattedMessage,{id:e.description.id,defaultMessage:e.description.defaultMessage,values:{value:e.value}}))}))))),a.createElement(u.default,{filteredPages:s}))};return t}(a.Component);t.default=v},2053:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,a;var o=r(0);var i=g(o);var l=r(13);r(6);var u=r(12);var s=r(14);var c=r(1);r(308);var f=r(2054);var p=r(2055);var d=h(p);var v=r(2056);var m=h(v);function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S="healthScore";var _="lastUpdated";var P="rating";var O="views";var w=(n={},n[S]=f.sortByHealthScore,n[_]=f.sortByLastUpdated,n[P]=f.sortByRating,n[O]=f.sortByVisits,n);var C=function(e){E(t,e);function t(){var r,n,a;y(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=(r=(n=b(this,e.call.apply(e,[this].concat(i))),n),n.state={query:"",sort:{direction:"desc",prop:_}},n.onSort=function(e){n.setState(function(t){var r=t.sort;return{sort:r.prop===e?{prop:e,direction:"desc"===r.direction?"asc":"desc"}:{prop:e,direction:"desc"}}})},n.onChangeQuery=function(e){n.setState({query:e})},r),b(n,a)}t.prototype.render=function e(){var t=this;var r=this.props.filteredPages;var n=this.state,a=n.sort,o=n.query;return i.createElement(c.Panel,null,i.createElement(c.Panel.DataGrid,{styles:c.View.PADDING.S200Top},i.createElement(c.Panel.DataGrid.Header,null,i.createElement(c.Panel.DataGrid.Search,{onChange:this.onChangeQuery,value:o}),i.createElement(c.Panel.DataGrid.HeaderCell,null),i.createElement(c.Panel.DataGrid.HeaderCell,{onClick:function e(){return t.onSort(_)}},i.createElement(u.FormattedMessage,{id:"RatingTable.lastUpdated",defaultMessage:"Last Updated"}),i.createElement(c.Panel.DataGrid.SortIcon,{activeDirection:a.prop===_?a.direction:null})),i.createElement(c.Panel.DataGrid.HeaderCell,{onClick:function e(){return t.onSort(S)}},i.createElement(u.FormattedMessage,{id:"RatingTable.healthScore",defaultMessage:"Health"}),i.createElement(c.Panel.DataGrid.SortIcon,{activeDirection:a.prop===S?a.direction:null})),i.createElement(c.Panel.DataGrid.HeaderCell,{onClick:function e(){return t.onSort(O)}},i.createElement(u.FormattedMessage,{id:"RatingTable.pageviews",defaultMessage:"Views"}),i.createElement(c.Panel.DataGrid.SortIcon,{activeDirection:a.prop===O?a.direction:null})),i.createElement(c.Panel.DataGrid.HeaderCell,{onClick:function e(){return t.onSort(P)}},i.createElement(u.FormattedMessage,{id:"RatingTable.pagerating",defaultMessage:"User Rating"}),i.createElement(c.Panel.DataGrid.SortIcon,{activeDirection:a.prop===P?a.direction:null}))),i.createElement(c.Panel.DataGrid.Body,null,i.createElement(c.FuzzyFilter,{items:r.toJS(),fuseConfig:{keys:["page.title"],threshold:.3,location:0,distance:100,maxPatternLength:32},query:o,defaultAllItems:true},function(e){var t=w[a.prop];var r=e.slice().sort(t);"asc"===a.direction&&(r=r.reverse());if(0===r.length)return i.createElement(c.Panel.DataGrid.RowBlock,null,i.createElement(u.FormattedMessage,{id:"RatingTable.noResults",defaultMessage:'There are no results for "{query}"',values:{query:o}}));return r.map(function(e,t){return i.createElement(M,{key:""+e.page.uid,page:e,isLast:r.length-1===t})})}))))};return t}(i.Component);var M=(0,u.injectIntl)(a=(0,l.withRouter)(a=function(e){E(t,e);function t(){var r,n,a;y(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=(r=(n=b(this,e.call.apply(e,[this].concat(i))),n),n.onClick=function(){var e=n.props,t=e.history,r=e.page;t.push("/"+r.url)},r),b(n,a)}t.prototype.render=function e(){var t=this.props,r=t.page,n=t.intl,a=t.isLast;return i.createElement(c.Panel.DataGrid.Row,{key:r.page.uid,onClick:this.onClick},i.createElement(c.Panel.DataGrid.Cell,{label:n.formatMessage({id:"RatingTable.title",defaultMessage:"Title"})},r.page.title),i.createElement(c.Panel.DataGrid.Cell,{label:n.formatMessage({id:"RatingTable.contributors",defaultMessage:"Contributors"})},i.createElement(s.UserAvatar.List,{userIDs:r.page.modifiedBy,max:3})),i.createElement(c.Panel.DataGrid.Cell,{label:n.formatMessage({id:"RatingTable.lastUpdated",defaultMessage:"Last Updated"})},i.createElement(u.FormattedRelative,{value:r.page.lastModifiedAt})),i.createElement(c.Panel.DataGrid.Cell,{label:n.formatMessage({id:"RatingTable.healthScore",defaultMessage:"Health"})},i.createElement(m.default,{page:r,isLast:a})),i.createElement(c.Panel.DataGrid.Cell,{label:n.formatMessage({id:"RatingTable.pageviews",defaultMessage:"Views"})},r.pageAnalytic&&r.pageAnalytic.pageViews||0),i.createElement(c.Panel.DataGrid.Cell,{label:n.formatMessage({id:"RatingTable.pagerating",defaultMessage:"User rating"})},i.createElement(d.default,{pageRating:r.pageRating,isLast:a})))};return t}(i.Component))||a)||a;t.default=C},2054:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.sortByHealthScore=n;t.sortByRating=a;t.sortByLastUpdated=o;t.sortByVisits=i;r(308);function n(e,t){if(!e.healthScore)return 1;if(!t.healthScore)return-1;if(e.healthScore===t.healthScore)return t.page.lastModifiedAt-e.page.lastModifiedAt;return t.healthScore-e.healthScore}function a(e,t){var r=e.pageRating&&e.pageRating.averageScore;var n=t.pageRating&&t.pageRating.averageScore;if(!r)return 1;if(!n)return-1;if(r===n)return t.page.lastModifiedAt-e.page.lastModifiedAt;return n-r}function o(e,t){return t.page.lastModifiedAt-e.page.lastModifiedAt}function i(e,t){if(!e.pageAnalytic||!e.pageAnalytic.pageViews)return 1;if(!t.pageAnalytic||!t.pageAnalytic.pageViews)return-1;if(e.pageAnalytic.pageViews===t.pageAnalytic.pageViews)return t.page.lastModifiedAt-e.page.lastModifiedAt;return t.pageAnalytic.pageViews-e.pageAnalytic.pageViews}},2055:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n;var a=r(0);var o=c(a);var i=r(12);var l=r(2);r(3);var u=r(1);var s=r(7);function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=l.StyleSheet.create({ratingStars:{display:"inline-block",clear:"both"},ratingStar:{position:"relative",float:"left",color:u.colors.GOLD,marginRight:2},ratingStarFiller:{position:"absolute",top:0,left:0,height:"100%",width:"100%",overflow:"hidden"},ratingStarFillerSvg:{display:"block",fill:"currentColor"},ratingStarBackground:{display:"block"}});var m=function(e){d(t,e);function t(){f(this,t);return p(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props.fill;return o.createElement("span",{className:(0,l.css)(v.ratingStar)},o.createElement("span",{className:(0,l.css)(v.ratingStarFiller),style:{width:100*t+"%"}},o.createElement(s.IconStar,{styles:[v.ratingStarFillerSvg]})),o.createElement(s.IconStar,{styles:[v.ratingStarBackground]}))};return t}(o.Component);var h=(0,i.injectIntl)(n=function(e){d(t,e);function t(){f(this,t);return p(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.intl,n=t.pageRating,a=t.isLast;if(null==n||null==n.ratersCount||null==n.averageScore)return null;return o.createElement("span",{className:(0,l.css)(v.ratingStars,u.tooltip.tooltipped,a?u.tooltip.topLeft:u.tooltip.bottomLeft),"aria-label":r.formatMessage({id:"SettingsInsights.averageRating",defaultMessage:"Average of {rating}/5 across {users} {users, plural, one {review} other {reviews}}"},{rating:r.formatNumber(n.averageScore,{maximumFractionDigits:1}),users:n.ratersCount})},Array.from({length:Math.ceil(n.averageScore)}).map(function(e,t){return Math.min(n.averageScore-t,1)}).map(function(e,t){return o.createElement(m,{key:t,fill:e})}))};return t}(o.Component))||n;t.default=h},2056:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n;var a=r(0);var o=s(a);var i=r(12);var l=r(2);var u=r(1);r(308);function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=l.StyleSheet.create({healthScore:{height:8,width:"90%",borderRadius:6,backgroundColor:u.colors.BORDER_LIGHT,":hover":{":after":{lineHeight:u.font.LINE_NORMAL,whiteSpace:"pre"}}},healthScoreProgress:{height:"100%",borderRadius:6}});var v=(0,i.injectIntl)(n=function(e){p(t,e);function t(){c(this,t);return f(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.intl,n=t.page,a=t.isLast;if(null==n.healthScore)return null;var i=5;var s=n.healthScore/i;var c=[];n.averageTimeSpent&&n.estimatedReadingTime&&c.push(r.formatMessage({id:"SettingsInsights.healthScore",defaultMessage:"Average time spent of {averageSpent}s, estimated {estimated}s"},{averageSpent:r.formatNumber(n.averageTimeSpent,{maximumFractionDigits:0}),estimated:r.formatNumber(n.estimatedReadingTime,{maximumFractionDigits:0})}));n.pageRating&&null!=n.pageRating.averageScore&&c.push(r.formatMessage({id:"SettingsInsights.averageRating",defaultMessage:"Average of {rating}/5 across {users} {users, plural, one {review} other {reviews}}"},{rating:r.formatNumber(n.pageRating.averageScore,{maximumFractionDigits:1}),users:n.pageRating.ratersCount}));var f=c.map(function(e){return"- "+e}).join("\n");return o.createElement("div",{className:(0,l.css)(u.tooltip.tooltipped,a?u.tooltip.topLeft:u.tooltip.bottomLeft,d.healthScore),"aria-label":f},o.createElement("div",{className:(0,l.css)(d.healthScoreProgress),style:{backgroundColor:n.color,width:100*s+"%"}}))};return t}(o.Component))||n;t.default=v},212:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n={LINK:"link",IMAGE:"inline-image"};t.default=n},2129:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,a;var o=r(0);var i=p(o);var l=r(2);var u=r(1);var s=r(7);var c=r(19);var f=r(72);function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=(a=n=function(e){m(t,e);function t(){d(this,t);return v(this,e.apply(this,arguments))}t.prototype.render=function e(){var r=t.STYLES;return i.createElement(u.TabsPage.Tab,{styles:[r.backButton],component:c.ContentLink,toRootPage:true,unstyled:true,icon:i.createElement(s.IconArrowLeft,null)},"Back to content")};return t}(i.Component),n.STYLES=l.StyleSheet.create({backButton:{borderRadius:3,height:f.layout.CONTROLSBAR_HEIGHT,backgroundColor:u.colors.BLUE_DARK,color:u.colors.WHITE,textDecoration:"none"}}),a);t.default=h},213:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n={BOLD:"bold",ITALIC:"italic",CODE:"code",STRIKETHROUGH:"strikethrough",DIFF_ADDED:"diff-added",DIFF_REMOVED:"diff-removed",DIFF_MODIFIED:"diff-modified"};t.default=n},2130:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,a;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var i=r(0);var l=v(i);r(5);var u=r(2);var s=r(10);var c=r(14);var f=r(1);var p=r(7);var d=r(19);function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=function e(t){return l.createElement(d.WebsiteLink,o({component:"a"},t))};var b=(a=n=function(e){g(t,e);function t(){var r,n,a;m(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=(r=(n=h(this,e.call.apply(e,[this].concat(i))),n),n.state={hovered:false},n.onMouseEnter=function(){n.setState({hovered:true})},n.onMouseLeave=function(){n.setState({hovered:false})},n.onLogout=function(e){e.preventDefault();var t=n.props.dispatch;t(s.Flux.user.signOut())},r),h(n,a)}t.prototype.render=function e(){var r=t.STYLES;var n=this.props.user;var a=this.state.hovered;return l.createElement(f.TabsPage.SideHeader,{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},l.createElement(f.TabsPage.SideHeader.Image,null,l.createElement(c.UserAvatar,{user:n,styles:[c.UserAvatar.STYLES.sizeLG,r.userAvatar],withTooltip:false})),l.createElement(f.TabsPage.SideHeader.Content,null,l.createElement(f.TabsPage.SideHeader.Hint,null,"Signed in as"),l.createElement(f.TabsPage.SideHeader.Heading,null,n.displayName)),l.createElement(f.View,{styles:r.menuWrapper},l.createElement(f.Popover.Portal,{closeOnEsc:true,closeOnOutsideClick:true,openByClickOn:l.createElement(f.View,{styles:[r.dots,a&&r.visible]},l.createElement(p.IconEllipsisH,null))},l.createElement(f.Popover,{position:"south",align:"end",noBorder:true},l.createElement(f.Menu,null,l.createElement(f.Menu.Item,{component:y,icon:l.createElement(p.IconGear,null),to:"/account/",target:"_blank"},"Account Settings"),l.createElement(f.Menu.Divider,null),l.createElement(f.Menu.Item,{icon:l.createElement(p.IconSignOut,null),onClick:this.onLogout},"Sign out"))))))};return t}(l.Component),n.STYLES=u.StyleSheet.create({userAvatar:{background:f.colors.BLUE_DARK},menuWrapper:{flex:0},dots:{cursor:"pointer",height:30,width:30,flex:"0 0 auto",alignSelf:"center",marginLeft:"auto",fontSize:"16px",display:"flex",justifyContent:"center",alignItems:"center",opacity:0,transition:"all 0.2s"},visible:{opacity:1}}),a);t.default=b},2131:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n,a,o,i;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var u=r(0);var s=y(u);var c=r(2);var f=r(10);var p=r(3);var d=r(1);var v=r(19);var m=r(2132);var h=g(m);function g(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=function e(t){return s.createElement(v.WebsiteLink,l({component:"a"},t))};var P=(n=f.Connectors.database(function(e){var t=e.userID;return{memberships:p.UserMembership.queryByUser(t).setOptions({waitFetched:true})}}),n(a=(i=o=function(e){S(t,e);function t(){b(this,t);return E(this,e.apply(this,arguments))}t.prototype.render=function e(){var r=t.STYLES;var n=this.props,a=n.memberships,o=n.org;if(!a.isEmpty())return null;return s.createElement("div",{className:(0,c.css)(r.container)},s.createElement("div",{className:(0,c.css)(r.cloud)}),s.createElement("div",{className:(0,c.css)(r.title)},"Getting started"),s.createElement("div",{className:(0,c.css)(r.description)},"You are not part of any project right now. You can ask an administrator of ",s.createElement("b",null,o.name)," to invite you. Or you can start your own project on GitBook"),s.createElement(_,{to:"/new",target:"_blank",className:(0,c.css)(r.callToAction)},"Create your space"))};return t}(s.Component),o.STYLES=c.StyleSheet.create({container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",borderRadius:3,padding:d.boxes.SPACING_V_NORMAL,background:d.colors.BLUE_DARK,color:d.colors.WHITE,textAlign:"center"},title:{marginTop:d.boxes.SPACING_V_NORMAL,marginBottom:6,fontSize:"20px"},description:{fontSize:"12px"},callToAction:{background:d.colors.WHITE,color:d.colors.BLUE_BASE,fontWeight:500,fontSize:"16px",borderRadius:3,height:40,marginTop:35,alignSelf:"stretch",textDecoration:"none",display:"flex",justifyContent:"center",alignItems:"center"},cloud:{height:80,width:80,backgroundImage:"url("+h.default+")",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}),i))||a);t.default=P},2132:function(e,t,r){e.exports=r.p+"images/d33c32a6a319b57be9a3dc887a224a55.svg"},25:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n={PAGE_REF:"page-ref",HEADING_1:"heading-1",HEADING_2:"heading-2",HEADING_3:"heading-3",PARAGRAPH:"paragraph",BLOCKQUOTE:"blockquote",TABLE:"table",TABLE_ROW:"table-row",TABLE_CELL:"table-cell",OL_LIST:"list-ordered",UL_LIST:"list-unordered",LIST_ITEM:"list-item",IMAGE:"image",HINT:"hint",EMBED:"embed",DIFF_BLOCK:"diff-block",TABS:"tabs",TABS_ITEM:"tabs-item",CODE:"code",CODE_TAB:"code-tab",CODE_LINE:"code-line",API_METHOD:"api-method",API_METHOD_SUMMARY:"api-method-summary",API_METHOD_DESCRIPTION:"api-method-description",API_METHOD_SPEC:"api-method-spec",API_METHOD_REQUEST:"api-method-request",API_METHOD_RESPONSE:"api-method-response",API_METHOD_RESPONSE_EXAMPLE:"api-method-response-example",API_METHOD_RESPONSE_EXAMPLE_DESCRIPTION:"api-method-response-example-description",API_METHOD_HEADERS:"api-method-headers",API_METHOD_PATH_PARAMETERS:"api-method-path-parameters",API_METHOD_QUERY_PARAMETERS:"api-method-query-parameters",API_METHOD_FORM_DATA_PARAMETERS:"api-method-form-data-parameters",API_METHOD_BODY_PARAMETERS:"api-method-body-parameters",API_METHOD_PARAMETER:"api-method-parameter"};t.default=n},276:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.diffVersions=t.mergeVersions=t.diffPages=t.mergePages=t.toDiffEditorState=t.diffNodes=t.Patch=t.DiffChange=void 0;var n=r(138);var a=p(n);var o=r(653);var i=p(o);var l=r(1370);var u=r(1521);var s=p(u);var c=r(707);var f=r(1522);function p(e){return e&&e.__esModule?e:{default:e}}t.DiffChange=a.default;t.Patch=i.default;t.diffNodes=l.diffNodes;t.toDiffEditorState=s.default;t.mergePages=c.mergePages;t.diffPages=c.diffPages;t.mergeVersions=f.mergeVersions;t.diffVersions=f.diffVersions},277:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var a=r(654);var o=z(a);var i=r(655);var l=z(i);var u=r(665);var s=z(u);var c=r(1440);var f=z(c);var p=r(395);var d=z(p);var v=r(281);var m=z(v);var h=r(684);var g=z(h);var y=r(390);var b=z(y);var E=r(1485);var S=z(E);var _=r(1486);var P=z(_);var O=r(691);var w=z(O);var C=r(700);var M=z(C);var T=r(1511);var D=z(T);var I=r(701);var A=z(I);var j=r(702);var R=z(j);var L=r(402);var k=z(L);var x=r(1512);var B=z(x);var N=r(403);var F=r(404);var H=z(F);var G=r(1516);var V=r(1517);var U=r(49);var Y=W(U);r(1518);function W(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function z(e){return e&&e.__esModule?e:{default:e}}var K=n({Core:k.default,Paragraph:f.default,Heading:b.default,Section:o.default,Quote:g.default,Link:l.default,List:d.default,Image:s.default,PageRef:S.default,AutoMarkdown:P.default,Table:w.default,Hint:M.default,Embed:D.default,Code:m.default,ApiMethod:A.default,Tabs:R.default,createValue:B.default,schema:N.schema,plugins:N.plugins,normalize:H.default,normalizeDocument:F.normalizeDocument,normalizeWith:F.normalizeWith,serializeDocument:G.serializeDocument,deserializeDocument:V.deserializeDocument},Y);t.default=K},303:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=t.toRoute=void 0;var n=r(107);var a=u(n);var o=r(3);var i=r(145);var l=u(i);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return[c,f,p,d,m].reduce(function(r,n){return Object.assign(r,n(e,t))},{})}function c(e,t){if(t.toEdit)return{editing:true};if(false===t.toEdit)return{};if(e.editing)return{editing:true};return{}}function f(e,t){if(t.toDraft)return{draftID:t.toDraft};if(t.toPrimary||t.toRevision)return{};if(e.draftID)return{draftID:e.draftID};return{}}function p(e,t){if(t.toRevision){if(t.toEdit)throw new Error("Cannot generate invalid route: revisions are not editable");return{editing:false,revisionID:t.toRevision}}if(t.toPrimary||t.toDraft)return{};if(e.revisionID)return{revisionID:e.revisionID};return{}}function d(e,t){if(t.toVersion)return{versionID:t.toVersion};if(t.toPrimaryVersion)return{};if(e.versionID)return{versionID:e.versionID};return{}}function v(e){return encodeURI(o.Version.pathFromUid(e))}function m(e,t){var r=void 0;r=t.toRootPage?"":"string"===typeof t.toPage?t.toPage:e.pageURL||"";return{pageURL:t.toAnchor?r+"#"+t.toAnchor:r}}function h(e){var t=[];if(e.editing){t.push("/~/edit");e.draftID?t.push("/drafts/"+e.draftID):t.push("/primary")}else if(e.draftID){t.push("/~/drafts/"+e.draftID);e.revisionID?t.push("/revisions/"+e.revisionID):t.push("/primary")}else e.revisionID&&t.push("/~/revisions/"+e.revisionID);e.versionID&&t.push("/v/"+v(e.versionID));var r=e.pageURL||"";t.push(l.default.PAGES+"/"+r);return a.default.apply(void 0,t)}function g(e,t){var r=s(e,t);return h(r)}t.toRoute=h;t.default=g},304:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(1994);var a=s(n);var o=r(112);var i=r(3);var l=r(145);var u=s(l);function s(e){return e&&e.__esModule?e:{default:e}}var c=/\.html$/i;var f=(0,a.default)(function(e){var t={};d(t,e);return t});function p(e,t){var r=void 0;t.some(function(t){var n=(0,o.matchPath)(e,{path:t.path});n&&t.onMatch&&(r=t.onMatch(n));return!!n});return r}function d(e,t){p(t,[{path:"/~/edit",onMatch:function r(n){e.editing=true;v(e,n,t)}},{path:"",onMatch:function r(n){v(e,n,t)}}])}function v(e,t,r){p(r,[{path:t.url+(e.editing?"":"/~")+"/drafts/"+u.default.DRAFT_PARAM,onMatch:function t(n){e.draftID=n.params.draft;m(e,n,r)}},{path:""+t.url,onMatch:function t(n){m(e,n,r)}}])}function m(e,t,r){p(r,[{path:t.url+(e.draftID?"":"/~")+"/revisions/"+u.default.REVISION_PARAM,onMatch:function t(n){if(e.editing)throw new Error("Cannot parse invalid route: revisions are not editable");e.revisionID=n.params.revision;h(e,n,r)}},{path:t.url+(e.draftID&&!e.editing||e.editing&&!e.draftID?"/primary/":""),onMatch:function t(n){h(e,n,r)}}])}function h(e,t,r){p(r,[{path:""+t.url+u.default.VERSIONS+"/"+u.default.VERSION_PARAM,onMatch:function t(n){e.versionID=i.Version.uidFromPath(n.params.version);g(e,n,r)}},{path:t.url+"/"+u.default.PAGE_PARAM,onMatch:function t(r){e.pageURL=y(r.params.page)}},{path:""+t.url,onMatch:function t(r){e.pageURL=""}}])}function g(e,t,r){p(r,[{path:t.url+"/"+u.default.PAGE_PARAM,onMatch:function t(r){e.pageURL=y(r.params.page)}},{path:t.url,onMatch:function t(r){e.pageURL=""}}])}function y(e){return e.replace(c,"")}t.default=f},308:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SLICE_TYPE_UNKNOWN=t.SLICE_TYPE_MEDIUM=t.SLICE_TYPE_NEGATIVE=t.SLICE_TYPE_POSITIVE=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=d;r(6);var a=r(3);var o=r(1);var i=t.SLICE_TYPE_POSITIVE="positive";var l=t.SLICE_TYPE_NEGATIVE="negative";var u=t.SLICE_TYPE_MEDIUM="medium";var s=t.SLICE_TYPE_UNKNOWN="unknown";var c=10;var f=10;var p={positive:o.colors.SUCCESS,negative:o.colors.DANGER,medium:"#ffc107",unknown:"#f1f1f1"};function d(e,t,r){var o;var d=(o={},o[i]={value:0,color:p[i],description:{id:"SettingsInsights.positive",defaultMessage:"{value} {value, plural, one {page is} other {pages are}} doing good"}},o[l]={value:0,color:p[l],description:{id:"SettingsInsights.negative",defaultMessage:"{value} {value, plural, one {page is} other {pages are}} perfoming poorly"}},o[u]={value:0,color:p[u],description:{id:"SettingsInsights.medium",defaultMessage:"{value} {value, plural, one {page is} other {pages}} can be improved"}},o[s]={value:0,color:p[s],description:{id:"SettingsInsights.unknown",defaultMessage:"Not enough data for {value} {value, plural, one {page} other {pages}}"}},o);var v=e.toFlatMap().toList().filter(function(e){return e.isDocument}).map(function(n){var o=e.getURLOf(n);var v=t.get(n.uid);var m=r&&r.find(function(e){return e.pageID===n.uid});var h=n.stats&&n.stats.estimatedReadingTime;var g=m&&m.avgTimeOnPage;var y=g&&h&&h>=f&&m&&m.users>=c?a.PageRating.getReadingScore(g,h):null;var b=a.PageRating.getHealthScore(v&&v.averageScore,y);if(!b){d.unknown.value+=1;return{page:n,type:s,color:p[s],url:o,pageAnalytic:m,pageRating:v,estimatedReadingTime:h,averageTimeSpent:g,readingScore:null,healthScore:null}}var E=null;if(b>=4){E=i;d.positive.value+=1}else if(b>2&&b<4){E=u;d.medium.value+=1}else{E=l;d.negative.value+=1}return{page:n,type:E,color:p[E],url:o,pageAnalytic:m,pageRating:v,estimatedReadingTime:h,averageTimeSpent:g,healthScore:b,readingScore:y}});var m=[i,u,l,s];return{slices:m.map(function(e){return n({},d[e],{type:e})}),pages:v}}},458:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.RedirectToWebsite=t.WebsiteLink=void 0;var n,a,o;var i=r(0);var l=v(i);var u=r(107);var s=d(u);var c=r(5);var f=r(14);var p=r(1);function d(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function m(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=(0,c.connect)(function(e,t){var r=e.config;var n=t.to;var a=(0,s.default)(r.urls.website,n);return{href:a,to:a}});var E=b(f.RawRedirect);var S=b(n=(o=a=function(e){y(t,e);function t(){h(this,t);return g(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.component,n=m(t,["component"]);delete n.dispatch;return l.createElement(r,n)};return t}(l.Component),a.defaultProps={component:p.Link},o))||n;t.WebsiteLink=S;t.RedirectToWebsite=E},726:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var a=r(25);var o=i(a);function i(e){return e&&e.__esModule?e:{default:e}}var l=n.Document.create({nodes:[n.Block.create({type:o.default.PARAGRAPH,nodes:[n.Text.create("")]})]});t.default=l},820:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){return!(e.draftID||e.revisionID||e.editing)}t.default=n},821:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var a=r(0);var o=g(a);var i=r(112);var l=r(57);var u=h(l);var s=r(69);var c=h(s);var f=r(14);var p=r(303);var d=h(p);var v=r(304);var m=h(v);function h(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function y(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _(e){var t,r,a;var l=(0,i.withRouter)((r=t=function(t){S(r,t);function r(e){b(this,r);var n=E(this,t.call(this,e));a.call(n);var o=n.props.history.location;var i=f.ModalSwitch.getPreviousLocation(o),l=i.pathname;var u=(0,m.default)(l);n.state={pathname:l,contentContext:u};n.unlistenHistory=n.props.history.listen(n.onLocationChanged);return n}r.prototype.componentWillUnmount=function e(){this.unlistenHistory()};r.prototype.render=function t(){var r=y(this.props,[]);var a=this.state,i=a.contentContext,l=a.pathname;var u=n({},r,{contentContext:i,contentPath:l,navigate:this.navigate});return o.createElement(e,u)};return r}(o.Component),t.displayName="contentRoutingConnect("+(0,u.default)(e)+")",a=function e(){var t=this;this.navigate=function(e,r){var n=t.props.history;var a=t.state.contentContext;var o=(0,d.default)(a,e);n.push(o,r)};this.onLocationChanged=function(e){var r=t.state.pathname;var n=f.ModalSwitch.getPreviousLocation(e);if(n.pathname==r)return;var a=(0,m.default)(n.pathname);t.setState({pathname:n.pathname,contentContext:a})}},r));return(0,c.default)(l,e)}t.default=_},822:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var a,o;var i=r(0);var l=v(i);var u=r(90);var s=d(u);var c=r(5);var f=r(14);var p=r(458);function d(e){return e&&e.__esModule?e:{default:e}}function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);t.default=e;return t}function m(e,t){var r={};for(var n in e){if(t.indexOf(n)>=0)continue;if(!Object.prototype.hasOwnProperty.call(e,n))continue;r[n]=e[n]}return r}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=(a=(0,c.connect)(function(e,t){var r=e.org,n=e.space;var a=t.location;return{to:"/login/"+r.baseDomain+"/"+n.baseName+"?"+s.default.stringify({location:a.pathname})}}),(0,f.withRouterListen)(o=a(o=function(e){y(t,e);function t(){h(this,t);return g(this,e.apply(this,arguments))}t.prototype.render=function e(){var t=this.props,r=t.to,a=m(t,["to"]);delete a.history;delete a.match;delete a.location;delete a.staticContext;delete a.navigate;return l.createElement(p.WebsiteLink,n({to:r},a))};return t}(l.Component))||o)||o);t.default=b}});